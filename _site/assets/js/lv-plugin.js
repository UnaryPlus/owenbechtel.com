window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var u=null,h=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.oP||performance.pP||performance.rP||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=
g});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Int32Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Int16Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Int8Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint32Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint16Array(k);for(q=0;q<
k;q+=1)a[q]=this[g+q];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint8Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint8ClampedArray(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Float32Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Float64Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});h=new Uint32Array(1);h[0]=4660;u=new Uint8Array(h.buffer);window.littleEndian=52===u[0]?!0:!1;h.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(g,q,k){var a=
!1;void 0===k&&(k=this.length);var b=k-q;if(q!==g)if((g>=q&&g<=k||g+b>=q&&g+b<=k)&&g>q&&(a=!0),a)for(k=b-1;0<=k;--k)this[g+k]=this[q+k];else for(k=0;k<b;k+=1)this[g+k]=this[q+k];return this},window.copyWithin=!1);window.registerEvent=function(g,q,k,a){g.addEventListener?g.addEventListener(q,k,a):g.attachEvent("on"+q,k)}}(),function(){function u(q,k,a){this.type=q;this.name=a;this.elements=k;this.size=k*g.Sq(q);this.qq=1}function h(){this.Sh=[];this.jp=this.Ns=this.ip=this.Ls=0}var g={vy:8,wy:40,ty:9,
uy:10,gy:0,ey:1,fy:2,$x:18,ay:19,Sq:function(q){return 1<<(q&7)},CO:function(q){var k=(0!==(q&16)?"Float":0!==(q&8)?"Uint":"Int")+8*(1<<(q&7));0!==(q&32)&&(k+="Clamped");return k}};h.prototype.hJ=function(q){var k="";0<=q&&q<this.Sh.length&&(q=this.Sh[q],k=g.CO(q.type)+"\t"+q.elements+"\t"+q.name+"\t"+q.qq);return k};h.prototype.wC=function(q,k,a){for(var b=0,d=!1,f;b<this.Sh.length&&!d;)f=this.Sh[b],a===f.name?(d=!0,this.Ns+=1,this.jp+=f.elements*g.Sq(f.type)):b+=1;d?(this.Sh[b].type=q,this.Sh[b].elements=
k,this.Sh[b].qq+=1,this.Sh[b].size=k*g.Sq(q)):(b=this.Sh.length,this.Sh[b]=new u(q,k,a));this.Ls+=1;this.ip+=k*g.Sq(q)};h.prototype.HD=function(q,k,a,b,d){q=q.buffer;b*=g.Sq(k);switch(k){case g.vy:a=new Uint8Array(q,b,a);break;case g.wy:a=new Uint8Array(q,b,a);break;case g.ty:a=new Uint16Array(q,b,a);break;case g.uy:a=new Uint32Array(q,b,a);break;case g.gy:a=new Int8Array(q,b,a);break;case g.ey:a=new Int16Array(q,b,a);break;case g.fy:a=new Int32Array(q,b,a);break;case g.$x:a=new Float32Array(q,b,
a);break;case g.ay:a=new Float64Array(q,b,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+d+": "+k)}return a};h.prototype.B=function(q,k,a){switch(q){case g.vy:k=new Uint8Array(k);break;case g.wy:k=new Uint8Array(k);break;case g.ty:k=new Uint16Array(k);break;case g.uy:k=new Uint32Array(k);break;case g.gy:k=new Int8Array(k);break;case g.ey:k=new Int16Array(k);break;case g.fy:k=new Int32Array(k);break;case g.$x:k=new Float32Array(k);break;case g.ay:k=new Float64Array(k);
break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+q)}return k};h.prototype.R=function(q,k,a){var b=null;0<k&&(b=this.B(q,k,a));(b||0===k)&&this.wC(q,k,a);return b};h.prototype.gJ=function(q,k,a,b){var d=null;0<k&&(d=this.B(q,k,a));(d||0===k)&&this.wC(q,k*b,a);return d};Array.ka=function(q,k,a,b,d,f){var m=0,n=[];n.A=d;n.type=q;n.Wa=null;var p=d.R(q,k*a,f);n.Wa=p;if(0<a){for(;m<k;)n[m]=d.HD(p,q,a,m*a,f),m+=1;0!==b&&p.fill(b)}return n};Array.wp=function(q,k){k=
q.A.gJ(q.type,q[0].length,k,q.length+1);q[q.length]=k};Array.Wh=function(q,k){k.Wa.set(q.Wa)};Array.Ad=function(q,k,a){var b,d=k.length,f=[],m=k.A,n=k[0].length/g.Sq(q);for(b=0;b<d;b+=1)f[b]=m.HD(k.Wa,q,n,b*n,a);return f};Array.LA=function(q,k,a){var b,d=q.length,f=q.A,m=q.type,n=q[0].length;for(b=0;b<d;b+=1)f.HD(q.Wa,m,n-k,b*n+k,a)};window.Allocator=h;window.Uint8=g.vy;window.Uint8Clamped=g.wy;window.Uint16=g.ty;window.Uint32=g.uy;window.Int8=g.gy;window.Int16=g.ey;window.Int32=g.fy;window.Float32=
g.$x;window.Float64=g.ay}(),function(){window.AliasManager={Pc:[],BC:[],Ff:function(){var u,h;this.Pc=[];this.BC=[];var g=this.Pc;var q=this.BC;q.push("1D");g.push(["Wolfram 1D",""]);g.push(["Brownian motion","W54"]);g.push(["Fishing-net","W110"]);g.push(["Heavy triangles","W22"]);g.push(["Linear A","W90"]);g.push(["Linear B","W150"]);g.push(["Pascal's Triangle","W18"]);g.push(["Randomizer 1","W30"]);g.push(["Randomizer 2","W45"]);g.push(["Wolfram 22","W22"]);g.push(["Wolfram 30","W30"]);g.push(["Wolfram 110",
"W110"]);q.push("Margolus");g.push(["Margolus",""]);g.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);g.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);g.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);g.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);g.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);g.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);g.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);g.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);g.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);g.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);g.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);g.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);g.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);g.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);q.push("PCA");
g.push(["PCA",""]);g.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);g.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);g.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
g.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);g.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);g.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);g.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);g.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);g.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);q.push("OT vN");g.push(["Outer-Totalistic von Neumann",""]);g.push(["Fredkin2","B13/S024V"]);g.push(["Parity","B13/S13V"]);
q.push("OT Hex");g.push(["Outer-Totalistic Hex",""]);g.push(["HexParity","B135/S0246H"]);g.push(["Hexagonal Life","B2/S34H"]);g.push(["HighHexLife","B25/S34H"]);g.push(["Replicator Hex","B135/S135H"]);q.push("OT M");g.push(["Outer-Totalistic Moore",""]);g.push(["","B3/S23"]);g.push(["2x2","B36/S125"]);g.push(["2x2 2","B3678/S1258"]);g.push(["34 Life","B34/S34"]);g.push(["3-4 Life","B34/S34"]);g.push(["Amoeba","B357/S1358"]);g.push(["Anneal","B4678/S35678"]);g.push(["AntiLife","B0123478/S01234678"]);
g.push(["Assimilation","B345/S4567"]);g.push(["Bacteria","B34/S456"]);g.push(["Blinkers","B345/S2"]);g.push(["Bugs","B3567/S15678"]);g.push(["Castles","B3678/S135678"]);g.push(["Cheerios","B35678/S34567"]);g.push(["Christmas Life","B1/S012345678"]);g.push(["Coagulations","B378/S235678"]);g.push(["Conway's Game of Life","B3/S23"]);g.push(["Conway's Life","B3/S23"]);g.push(["Coral","B3/S45678"]);g.push(["Corrosion of Conformity","B3/S124"]);g.push(["Dance","B34/S35"]);g.push(["Day & Night","B3678/S34678"]);
g.push(["Day and Night","B3678/S34678"]);g.push(["Diamoeba","B35678/S5678"]);g.push(["DotLife","B3/S023"]);g.push(["DrighLife","B367/S23"]);g.push(["DryFlock","B37/S12"]);g.push(["DryLife","B37/S23"]);g.push(["DryLife without Death","B37/S012345678"]);g.push(["EightFlock","B3/S128"]);g.push(["EightLife","B3/S238"]);g.push(["Electrified Maze","B45/S12345"]);g.push(["Eppstein","B35/S236"]);g.push(["Feux","B1358/S0247"]);g.push(["Flakes","B3/S012345678"]);g.push(["Flock","B3/S12"]);g.push(["Forest of Ls",
"B168/S236"]);g.push(["Fredkin","B1357/S02468"]);g.push(["Fuzz","B1/S014567"]);g.push(["Gems Minor","B34578/S456"]);g.push(["Gems","B3457/S4568"]);g.push(["Geology","B3578/S24678"]);g.push(["Gnarl","B1/S1"]);g.push(["H-Trees","B1/S012345678"]);g.push(["HighFlock","B36/S12"]);g.push(["HighLife","B36/S23"]);g.push(["HighLife without Death","B36/S012345678"]);g.push(["Holstein","B35678/S4678"]);g.push(["HoneyFlock","B38/S128"]);g.push(["HoneyLife","B38/S238"]);g.push(["Iceballs","B25678/S5678"]);g.push(["InverseLife",
"B012345678/S34678"]);g.push(["Invertamaze","B028/S0124"]);g.push(["IronFlock","B36/S128"]);g.push(["IronLife","B36/S238"]);g.push(["Land Rush","B36/S234578"]);g.push(["Life SkyHigh","B368/S236"]);g.push(["Life without Death","B3/S012345678"]);g.push(["Life","B3/S23"]);g.push(["Live Free or Die","B2/S0"]);g.push(["Logarithmic replicator rule","B36/S245"]);g.push(["LongLife","B345/S5"]);g.push(["Long Life","B345/S5"]);g.push(["LowDeath without death","B368/S012345678"]);g.push(["LowDeath","B368/S238"]);
g.push(["LowFlockDeath","B368/S128"]);g.push(["LowLife","B3/S13"]);g.push(["Majority","B45678/S5678"]);g.push(["Maze","B3/S12345"]);g.push(["Maze with Mice","B37/S12345"]);g.push(["Mazectric","B3/S1234"]);g.push(["Mazectric with Mice","B37/S1234"]);g.push(["Morley","B368/S245"]);g.push(["Move","B368/S245"]);g.push(["Neon Blobs","B08/S4"]);g.push(["Never happy","B345/S0456"]);g.push(["Oscillators Rule","B45/S1235"]);g.push(["Pedestrian Flock","B38/S12"]);g.push(["Pedestrian Life","B38/S23"]);g.push(["Pedestrian Life without Death",
"B38/S012345678"]);g.push(["Persian Rug","B234/S"]);g.push(["Plow World","B378/S012345678"]);g.push(["Pseudo Life","B357/S238"]);g.push(["Pulsar Life","B3/S238"]);g.push(["Replicator","B1357/S1357"]);g.push(["Replicator 2","B1357/S02468"]);g.push(["Rings 'n' Slugs","B56/S14568"]);g.push(["Seeds","B2/S"]);g.push(["Serviettes","B234/S"]);g.push(["Shoots and Roots","B3/S245678"]);g.push(["Slow Blob","B367/S125678"]);g.push(["Snakeskin","B1/S134567"]);g.push(["Solid islands grow amongst static","B12678/S15678"]);
g.push(["SnowLife","B3/S1237"]);g.push(["Stains","B3678/S235678"]);g.push(["Star Trek","B3/S0248"]);g.push(["Virus","B36/S235"]);g.push(["Vote","B5678/S45678"]);g.push(["Vote 4/5","B4678/S35678"]);g.push(["Walled Cities","B45678/S2345"]);q.push("OT Tri");g.push(["Outer-Totalistic Triangular",""]);g.push(["Life 2333","B3/S23L"]);g.push(["Life 2345","B45/S23L"]);g.push(["Life 2346","B456/S23L"]);g.push(["Life 3445","B45/S34L"]);g.push(["Life 3446","B456/S34L"]);g.push(["Life 4546","B456/S45L"]);g.push(["Life 4644",
"B4/S456L"]);g.push(["Rule 1246","B456/S12L"]);g.push(["Rule 3544","B4/S345L"]);q.push("OT M G");g.push(["Outer-Totalistic Generations Moore",""]);g.push(["9:43 at Knight","237/34578/4"]);g.push(["Banners","2367/3457/5"]);g.push(["BelZhab","23/23/8"]);g.push(["BelZhab Sediment","145678/23/8"]);g.push(["Bloomerang","234/34678/24"]);g.push(["Bombers","345/24/25"]);g.push(["Brain 5","/2/5"]);g.push(["Brain 6","6/246/3"]);g.push(["Brian's Brain","/2/3"]);g.push(["Burst","0235678/3468/9"]);g.push(["BurstII",
"235678/3468/9"]);g.push(["Caterpillars","124567/378/4"]);g.push(["Chenille","05678/24567/6"]);g.push(["Circuit Genesis","2345/1234/8"]);g.push(["Constellations","/23/3"]);g.push(["Cooties","23/2/8"]);g.push(["Diamonds and Spaceships","34578/257/16"]);g.push(["Ebb&Flow","012478/36/18"]);g.push(["Ebb&Flow II","012468/37/18"]);g.push(["Faders","2/2/25"]);g.push(["Fireballs","346/2/4"]);g.push(["Fireworks","2/13/21"]);g.push(["Flaming Starbows","347/23/8"]);g.push(["Free Star","0345/2/10"]);g.push(["Frogs",
"12/34/3"]);g.push(["Frozen spirals","356/23/6"]);g.push(["GeneroLife","2356/3567/4"]);g.push(["Glisserati","035678/245678/7"]);g.push(["Glissergy","035678/245678/5"]);g.push(["Lava","12345/45678/8"]);g.push(["Lines","012345/458/3"]);g.push(["LivingOn TheEdge","345/3/6"]);g.push(["Meteor Guns","01245678/3/8"]);g.push(["Nova","45678/2478/25"]);g.push(["OrthoGo","3/2/4"]);g.push(["Prairie on fire","345/34/6"]);g.push(["RainZha","2/23/8"]);g.push(["Rake","3467/2678/6"]);g.push(["SediMental","45678/25678/4"]);
g.push(["Snake","03467/25/6"]);g.push(["SoftFreeze","13458/38/6"]);g.push(["Spirals","2/234/5"]);g.push(["Star Wars","345/2/4"]);g.push(["Sticks","3456/2/6"]);g.push(["Swirl","23/34/8"]);g.push(["Tadpoles","0125678/345678/64"]);g.push(["ThrillGrill","1234/34/48"]);g.push(["Transers","345/26/5"]);g.push(["TransersII","0345/26/6"]);g.push(["Transers 2","0345/26/6"]);g.push(["Transers 3","0345/26/7"]);g.push(["Wallplicators","345/25678/7"]);g.push(["Wanderers","345/34678/5"]);g.push(["Worms","3467/25/6"]);
g.push(["Xtasy","1456/2356/16"]);q.push("INT Hex");g.push(["Isotropic Non-Totalistic Hex",""]);g.push(["Hex Life","B2o3m56/S2-p4oH"]);g.push(["22da","B2/S2-mH"]);g.push(["Hexrule b2o","B2o/S2m34H"]);q.push("INT M");g.push(["Isotropic Non-Totalistic Moore",""]);g.push(["15Life","B34r/S23-q4et"]);g.push(["104life","B34ky5cy/S23-a4ity6c7"]);g.push(["22k","B2-k/S2-k"]);g.push(["2diagonal","B2n3/S23"]);g.push(["2xpand2","B3/S123eik4ce"]);g.push(["3x3","B35cky68/S0245-c6n"]);g.push(["38life","B35y/S2-n35k6ci"]);
g.push(["4diagonal","B34c/S23"]);g.push(["4life","B34jy/S23"]);g.push(["4life2","B34j/S23"]);g.push(["57life","B34tyz5cy/S23-a4it5ej"]);g.push(["acnelife","B34/S2eik3"]);g.push(["aLife","B3/S234iw"]);g.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);g.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);g.push(["Artillery","B3-y7/S2-i3-c4kqt"]);g.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);g.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);g.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);g.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);
g.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);g.push(["Beaecsizae","B34ce/S12-a3"]);g.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);g.push(["Best Friends","B2ce3aiy/S12aei3r"]);g.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);g.push(["Billiard","B36-e/S12345"]);g.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);g.push(["BlinkBlink","B35ky/S234y"]);g.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);g.push(["blockandglider","B3/S234cw7c"]);
g.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);g.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);g.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);g.push(["bpuff","B3/S23-cky4k7e8"]);g.push(["Breps","B34cqy5c/S23-y4y"]);g.push(["Breps-2","B3aeijn4n8/S234iqz"]);g.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);g.push(["Bubbles","B3ai4-a/S23"]);g.push(["Butterfly","B2i34e6i7c/S2-i36n"]);g.push(["butterflyb7","B2i34e6i7/S2-i36n"]);g.push(["Buzz","B2i35-n/S2-ci36k8"]);
g.push(["CapLife","B36c/S23"]);g.push(["CarrierLife","B2e3aceik/S23"]);g.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);g.push(["cb2","B2ae4i/S1e2in"]);g.push(["cetlife","B34cet/S234jkwyz"]);g.push(["Clouds","B2e3aceij/S23-a4"]);g.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);g.push(["CommonRepl","B3/S23-ac4eiy6"]);g.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);g.push(["Conway++","B3/S234c"]);g.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);g.push(["Conway+-2",
"B3/S2-ak34aikqtwz5inqy"]);g.push(["Conway--","B3/S2-ei3"]);g.push(["crawl","B37e/S2-i34y8"]);g.push(["Creperie","B2ikn3aijn/S23-ckqy"]);g.push(["CrossLife","B3/S234et"]);g.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);g.push(["DenseLife","B3-q4y/S234z"]);g.push(["Diamoeral","B2n3ai4a78/S35678"]);g.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);g.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);g.push(["DLife","B3-n/S23"]);g.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);g.push(["dolife2",
"B2-a3acei4ceqz5y/S234ce5ceky78"]);g.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);g.push(["Dry15Life","B34r7/S23-q4et"]);g.push(["DryGoats","B2in37/S123a"]);g.push(["Dustclouds01","B2ce3-ai/S01"]);g.push(["EasyHighLife","B36-i/S23"]);g.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);g.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);g.push(["EightGoats","B2in3/S123a8"]);g.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);g.push(["ElectrumLife",
"B367c/S2-i34q"]);g.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);g.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);g.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);g.push(["FalseB5","B35ce/S234jqtyz6k8"]);g.push(["Frespa","B34ck5/S23aceik4aci"]);g.push(["FattyLife","B3-n4nt5qr6i/S23"]);g.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);g.push(["FlashLife","B2kn3-n4e/S23"]);g.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);g.push(["Flutter","B2-a3j4-acekn56/S15y"]);g.push(["Flying Life",
"B3-k5r/S236n7e"]);g.push(["FogLife","B35eq7/S2-i34q"]);g.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);g.push(["FrogLife","B36i/S1c23-acek5k6i8"]);g.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);g.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);g.push(["GemLife","B34c6/S23-q"]);g.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);g.push(["GlideLife","B34ek5ak/S2-c34z"]);g.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);g.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);
g.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);g.push(["glife","B3/S237c"]);g.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);g.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);g.push(["Goat Flock","B2in3/S123a"]);g.push(["Goats","B2in3/S123a"]);g.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);g.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);g.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);g.push(["guntlife","B35j6a/S2-i34q"]);g.push(["Half as Interesting",
"B2ce3i/S23"]);g.push(["hassl8life","B34k5e7c/S23-a4iyz"]);g.push(["hatlife","B35y/S23"]);g.push(["Hats and Shuttles","B34iqwy/S23-cq"]);g.push(["hedgehog","B3/S1c2-a35r6i"]);g.push(["HeptaFish","B3-e4i5i/S234e"]);g.push(["High15Life","B34r6/S23-q4et"]);g.push(["HighGoats","B2in36/S123a"]);g.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);g.push(["hlife","B3/S234ce6k"]);g.push(["hlife2","B3/S2-in34nr"]);g.push(["hlife3","B3/S2-in34iw"]);g.push(["HoneyGoats","B2in38/S123a8"]);g.push(["HouseLife",
"B2i3/S23-r"]);g.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);g.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);g.push(["ilife","B3/S235i"]);g.push(["Immortalife","B3-cqy4j/S2-n34i"]);g.push(["IneticLife","B2-an3-k/S2ac"]);g.push(["IronGoats","B2in36/S123a8"]);g.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);g.push(["Just Friends","B2-a/S12"]);g.push(["Kgdm","B3/S2-c3-en4ceitz"]);g.push(["KineticLife","B2-an3/S2ac"]);g.push(["klife","B34n/S23"]);g.push(["Knyght","B2e3/S23-jq"]);
g.push(["ktlife","B3/S2-i34nq"]);g.push(["LambdaLife","B3-k/S2-i3-k4cen"]);g.push(["Leaplized D&N","B2n3678/S3-q4678"]);g.push(["LifeWithoutGliders","B35n/S23"]);g.push(["Linea","B2-a3-i/S23-a"]);g.push(["LispLife","B2n3/S23-q4e8"]);g.push(["LoafLife","B2n3-q/S23"]);g.push(["longlast","B3/S234ce8"]);g.push(["lotsofdots","B2ikn34e/S023-a4ce"]);g.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);g.push(["maze2","B3/S234-acew"]);g.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);g.push(["MilkyLife",
"B3-c4c5y8/S234qy5y8"]);g.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);g.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);g.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);g.push(["MoveIt","B368/S23cy45-j6n"]);g.push(["movetub","B34e68/S245"]);g.push(["movev","B35y68/S245"]);g.push(["Movostill","B2i3acijk6i/S23-a4"]);g.push(["Movostill 2","B3acijk/S23-a4"]);g.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);g.push(["MuddyLife","B3/S234k"]);g.push(["Nah","B345-a6/S2-a3-a4-a"]);g.push(["nonlife","B3-n/S234iz"]);
g.push(["notlife","B3-q7c/S2-i3-q4q"]);g.push(["notlife (Wright)","B2k3-k/S23-a"]);g.push(["Notlife / Ace","B2-a3/S2ce"]);g.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);g.push(["olife","B2in3/S2-in3"]);g.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);g.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);g.push(["Particles","B2ce3i/S1c2cek"]);g.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);g.push(["Pedestrian Goats","B2in38/S123a"]);g.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);
g.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);g.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);g.push(["Pi replicator life","B3-r4z5y/S238"]);g.push(["Pi-plicator","B3-ckq/S2-c34ci"]);g.push(["PiLife","B37e/S23"]);g.push(["Pilife2","B34c/S234y8"]);g.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);g.push(["plife","B35j/S2-i3"]);g.push(["plife2","B35j6i/S2-i3"]);g.push(["PondLife","B36i/S2-i35i"]);g.push(["PortLife","B34cz5y/S234y8"]);g.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);
g.push(["Prismatika Crystallios","B2ae3r/S1e"]);g.push(["PlasmaLife","B34-air/S234-air"]);g.push(["Puffers","B3-nqr6/S235-nqr"]);g.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);g.push(["qlife","B3-q/S23"]);g.push(["quadraticlife","B34j/S23"]);g.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);g.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);g.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);g.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);g.push(["replife","B34jy6n/S2-i3"]);
g.push(["reptlife","B36-k/S2-i34q"]);g.push(["ResistantLife","B34eknqyz/S23"]);g.push(["Ribbons","B3-nqr/S23"]);g.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);g.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);g.push(["RotoHooks","B34ckyz/S234cz"]);g.push(["rgun","B34t/S2-i35a7e"]);g.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);g.push(["RustyLife","B34-ai/S24-air5-a"]);g.push(["Salad","B2i34c/S2-i3"]);g.push(["Sanctuary","B2ei3ci/S1c23"]);g.push(["sansdomino","B2-a/S014"]);g.push(["Savanna",
"B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);g.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);g.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);g.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);g.push(["SilverLife","B367/S2-i34q"]);g.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);g.push(["Simple Life","B2k34c/S2-c34z8"]);g.push(["SLHassleLife","B3-y5cr/S234w6n"]);g.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);g.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);g.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);
g.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);g.push(["snotlife","B2k3-kn/S23"]);g.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);g.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);g.push(["SparkLife","B36i/S234j"]);g.push(["SparklingLife","B34cqy/S234q"]);g.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);g.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);g.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);g.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);
g.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);g.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);g.push(["t4life","B34jy/S2-i3"]);g.push(["TableLife","B3/S23-ai4anq6n"]);g.push(["TauLife","B3-nr/S2-i34-aij"]);g.push(["tceclife","B36ce7c/S2-i34q"]);g.push(["tDryFlock","B37/S12-i4q"]);g.push(["tDryLife","B37/S2-i34q"]);g.push(["TearfulLife","B34e5c6n/S23-q"]);g.push(["tEightLife","B3/S2-i34q8"]);g.push(["testlife","B36a/S23"]);g.push(["tflock","B3/S12-i4q"]);
g.push(["tHighFlock","B36/S12-i4q"]);g.push(["tHighLife","B36/S2-i34q"]);g.push(["ThisLife","B36i/S23-ce5q"]);g.push(["tlife","B3/S2-i34q"]);g.push(["tosc","B3/S234wz"]);g.push(["tosc2","B36in/S234cw"]);g.push(["tPedestrianFlock","B38/S12-i4q"]);g.push(["tPedestrianLife","B38/S2-i34q"]);g.push(["tq6","B2i34e/S023-a4ce"]);g.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);g.push(["Train","B34t6k8/S2-i35a7e"]);g.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);g.push(["triship","B2a3e/S012-ai3-i45-i678"]);
g.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);g.push(["Turro","B2-a3c/S12-i"]);g.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);g.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);g.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);g.push(["Virus_v2","B3-nqr6/S235"]);g.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);g.push(["WetLife","B34r/S23"]);g.push(["Whichlife","B2in3aeijn/S234e"]);g.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);
g.push(["wlife","B34w/S23"]);g.push(["Worms 0","B01c2n5a/S3a5i"]);g.push(["Writers","B2-a3-inqr4c6/S23"]);g.push(["WSScentral","B3-n45qr6i/S2eik3"]);g.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);g.push(["xtdbee","B3-k/S23"]);g.push(["xvaLifeg","B2e3/S23"]);g.push(["Ylife","B2e3ai4ar/S23-a4a"]);g.push(["ylife (BokaBB)","B34y5y/S234y5y"]);g.push(["zigzag","B3/S2-k34q"]);g.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);q.push("INT M G");g.push(["Isotropic Non-Totalistic Generations Moore",
""]);g.push(["HTech","234e/2e3/3"]);g.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);g.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);g.push(["Simple Brain","234e/e3/3"]);g.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);g.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);q.push("LtL M");g.push(["Larger than Life Moore",""]);g.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);g.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);g.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);g.push(["Bugs R3",
"R3,C2,M1,S14..23,B14..18,NM"]);g.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);g.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);g.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);g.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);g.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);g.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);g.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);g.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);g.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);
g.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);g.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);g.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);g.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);g.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);g.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);g.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);g.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);g.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);g.push(["Quadratic Bugs",
"R6,C2,M1,S47..81,B47..61,NM"]);g.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);g.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);g.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);g.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);g.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);g.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);g.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);q.push("LtL M G");g.push(["Generations Larger than Life Moore",""]);g.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);
g.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);g.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);q.push("HROT vN");g.push(["Higher-Range Outer-Totalistic von Neumann",""]);g.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);g.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);q.push("HROT M");g.push(["Higher-Range Outer-Totalistic Moore",""]);g.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
g.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);g.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
g.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);q.push("MAP NINT");g.push(["MAP Non-Isotropic",""]);g.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);g.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
g.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);g.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);g.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);g.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);g.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
g.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);g.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);g.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);g.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);g.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
q.push("Weighted");g.push(["Weighted",""]);g.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);g.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);g.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);g.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);g.push(["Career","R1,C2,S2-3,B3,NW121101111"]);g.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);g.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);g.push(["Conway",
"R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);g.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);g.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);g.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);g.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);g.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);g.push(["Dragon",
"R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);g.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);g.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);g.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);g.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);g.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);g.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);g.push(["Frost M","R1,C25,S,B1,NW111101111"]);
g.push(["Frost N","R1,C25,S,B1,NW010101010"]);g.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);g.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);g.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);g.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);g.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);g.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);g.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);g.push(["Lemmings",
"R1,C2,S3-6,B4,NW121202131"]);g.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);g.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);g.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);g.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);g.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);g.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);g.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);g.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);g.push(["Navaho1",
"R1,C12,S8-9,11,B2,5,NW414575414"]);g.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);g.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);g.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);g.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);g.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);g.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);g.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);g.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);
g.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);g.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);g.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);g.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);g.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);g.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);g.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);g.push(["Stream",
"R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);g.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);g.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);g.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);g.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);g.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);g.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);g.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);g.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);
q.push("Weighted G");g.push(["Weighted Generations",""]);g.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);g.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);g.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);g.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);g.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);g.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);g.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);g.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);
g.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);g.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);g.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);q.push("Alt OT M");g.push(["Alternating Outer-Totalistic Moore",""]);g.push(["alternlife","B13/S012345678|B/S15"]);g.push(["comb395","B3/S1237|B2/S"]);g.push(["comb625","B3/S348|B2/S356"]);g.push(["Dotlesslife","B3/S23|B/S12345678"]);g.push(["Fizzler","B13/S3|B/S345678"]);g.push(["Jelly","B3/S135|B2/S5"]);g.push(["Phoenix","B24/S|B35/S"]);
q.push("Alt INT M");g.push(["Alternating Non-Totalistic Moore",""]);g.push(["SparklessLife","B3/S23|B/S1c2345678"]);g.push(["Unidim1","B134578/S02345678|B6i7/S268"]);g.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);g.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Pc[0][2]=!1;this.Pc[0][3]=!1;for(u=1;u<this.Pc.length;u+=1)for(g=this.Pc[u][1],q=this.Pc[u][0],this.Pc[u][2]=!1,this.Pc[u][3]=!1,h=0;h<u;h+=1)this.Pc[h][0]===q&&(this.Pc[h][3]=!0,this.Pc[u][3]=!0),this.Pc[h][1]===g&&(this.Pc[h][2]=
!0,this.Pc[u][2]=!0)},Vz:function(u){var h=null,g=0;for(u=u.replace(/&amp;/g,"&");g<this.Pc.length&&null===h;)""!==this.Pc[g][1]&&this.Pc[g][0]===u&&(h=this.Pc[g][1]),g+=1;if(!h)for(u=u.toLowerCase(),g=0;g<this.Pc.length&&null===h;)""!==this.Pc[g][1]&&this.Pc[g][0].toLowerCase()===u&&(h=this.Pc[g][1]),g+=1;return h},Sr:function(u){for(var h=null,g=0;g<this.Pc.length&&null===h;)""!==this.Pc[g][1]&&this.Pc[g][1]===u&&(h=this.Pc[g][0]),g+=1;"Conway's Life"===h&&(h="Life");return h}}}(),function(){function u(d,
f,m,n,p){this.j=p;this.Ka=d;this.ab=f;this.Eb=m;this.message="";this.da=d;this.na=f;this.zb=m;this.Pk="";this.U=this.G=!1;this.context=n;this.gb=!1;this.Ba=this.startTime=0;this.ih="rgb(32,255,255)";this.dH="white";this.B=0;this.animate=!1;this.fc=this.hc="black";this.enabled=!1;this.scale=1}function h(d,f,m,n){this.name=d;this.width=f;this.height=m;this.qq=n}function g(d,f){this.context=f;this.U=d;this.height=this.width=0;this.Ba=this.na=this.G=this.B=null;this.da=[];this.Yw=!0;this.jC=-1;this.tF=
0;this.Ff=!1;this.scale=1}function q(d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A,B,D,E){this.id=d;this.G=E;this.F="";this.Am=-1;this.m=this.Sv=!1;this.Sb=f;this.caller=m;this.icon=D;this.x=p;this.y=r;this.$w=p;this.B=r;this.position=n;this.width=x;this.height=t;this.Zw=x;this.WC=t;this.border=l;this.type=C;c===b.Qy?this.orientation=x>=t?b.pf:b.vertical:this.orientation=c;this.Gt=this.orientation;this.lower=w;this.upper=z;C===b.Ko?this.current=[y,y]:this.current=y;this.OD=e;this.Za=v;this.XB=A;this.fixed=B;
this.ew=!1;this.GA=this.FA=-1;this.textAlign=b.zE;this.enabled=!0;this.Go=this.locked=!1;this.Zf=[];if(this.type===b.list)for(d=0;d<w.length;d+=1)this.Zf[d]=!1;this.Kt=[];this.zw=0;this.FL=!1;this.Kd=E.Kd;this.pe=E.pe;if(C===b.list)for(this.On=[],d=0;d<w.length;d+=1)this.On[d]=this.Kd;this.Df=E.Df;this.Rg=E.Rg;this.Oi=E.Oi;this.Al=E.Al;this.mn=E.mn;this.Uo=E.Uo;this.oh=E.oh;this.Hk=E.Hk;this.Ci=E.Ci;this.jl=E.jl;this.border=E.border;this.fontSize=parseInt(E.ql.substr(0,E.ql.indexOf("px")),10);this.fontFamily=
E.ql.substr(E.ql.indexOf("px")+3)}function k(d,f,m,n,p,r){this.C=d;this.context=p;this.Jh=this.Ze=1;this.ql=r;this.locked=this.m=!1;this.Xg=this.If=-1;this.Rn=this.Uc=!1;this.na=this.da=-1;this.Ka=6;this.Sb=f;this.ve=[];this.Vc=0;this.Kd="";this.pe=0;this.Df="";this.Rg=0;this.Oi="";this.Al=0;this.mn="";this.Uo=0;this.oh="";this.Hk=0;this.Ci="";this.border=this.jl=0;this.G=b.Qy;this.Pm=this.hl=-1;this.bo=this.$D=null;this.Au=m;this.caller=n;this.Z=null;this.mz=this.cv=this.U="auto"}function a(d,f,
m,n,p,r){var x=this,t=0;this.Of=1;this.Ma=60;this.kA=this.YB=!0;this.ab=this.gb=40;this.BO=50;this.fk=0;this.da=this.na=this.Ka=-1;this.Ho=!1;this.caller=p;this.ek=this.wb=this.El=this.Zc=!1;this.We=4;this.kF=r;this.hasFocus=this.sr=!1;this.mr=!0;this.Jx=!1;this.In=1;this.sv=8;this.Kd="black";this.pe=.7;this.Df="white";this.Rg=1;this.Oi="rgb(0,240,32)";this.Al=.7;this.mn="blue";this.Uo=.7;this.oh="grey";this.Hk=1;this.Ci="rgb(32,255,255)";this.border=this.jl=1;this.yE=function(w){return function(){w.uc(w)}}(this);
this.Z=n;this.Sc=d;this.Jc=f;this.Uc=!1;this.Oj=this.Nj=-1;this.Ck=!1;this.Yh=-1;this.Qc=null;this.ql=m;this.on=this.Wk=!1;this.fw=performance.now();this.Do=5;this.Jt=0;this.DA=[];this.JA=[];this.to=[];for(t=0;5>t;t+=1)this.DA[t]=0,this.JA[t]=0,this.to[t]=0;this.Ds=null;this.ig=!1;this.notification=new u(25,100,25,f,this);this.EA=performance.now();this.Rn=this.MD=!1;this.U=[];this.B=this.G=0;registerEvent(d,"mousedown",function(w){x.zb(x,w)},!1);registerEvent(d,"mousemove",function(w){x.Eb(x,w)},
!1);registerEvent(d,"mouseup",function(w){x.hc(x,w)},!1);registerEvent(d,"mouseover",function(w){x.fc(x,w)},!1);registerEvent(d,"mouseout",function(w){x.Kb(x,w)},!1);registerEvent(d,"touchstart",function(w){x.Ba(x,w)},!1);registerEvent(d,"touchmove",function(w){x.Ba(x,w)},!1);registerEvent(d,"touchend",function(w){x.Ba(x,w)},!1);registerEvent(d,"touchcancel",function(w){x.Ba(x,w)},!1)}u.prototype.ao=function(){var d=!1;if(""!==this.message||""!==this.Pk)d=!0;return d};u.prototype.clear=function(d,
f){d?""!==this.Pk&&(f||this.U?(this.Pk="",this.U=!1):(this.Ba=performance.now()-(this.da+this.na),this.U=!0)):""!==this.message&&(f||this.G?(this.G=!1,this.message=""):(this.startTime=performance.now()-(this.Ka+this.ab),this.G=!0))};u.prototype.notify=function(d,f,m,n,p){this.enabled&&(p?this.Pk!==d&&(this.Pk=d,this.da=16*f,this.na=16*m,this.zb=16*n,this.Ba=performance.now(),this.U=!1,this.B=0,this.animate=!1):(this.message=d,this.Ka=16*f,this.ab=16*m,this.Eb=16*n,this.startTime=performance.now(),
this.G=!1))};u.prototype.ro=function(d,f,m){var n=this.context.measureText(d).width>>1;if(this.gb){this.context.fillStyle=this.fc;var p=this.context.globalAlpha;this.context.globalAlpha=.5*p;this.context.fillRect(-n-20,-m,2*n+40,2*m);this.context.globalAlpha=p}this.context.fillStyle=this.hc;this.context.fillText(d,-n+2,2);f?this.animate?(this.context.fillStyle=128>this.B?"rgb("+2*this.B+","+2*this.B+",255)":"rgb("+2*(256-this.B)+","+2*(256-this.B)+",255)",this.B=this.B+4&255):this.context.fillStyle=
this.dH:this.context.fillStyle=this.ih;this.context.fillText(d,-n,0)};u.prototype.Kb=function(d,f,m,n,p,r,x){var t=30*this.scale,w=32*this.scale,z=this.j.We,y=60*this.scale,C=!0;this.j.Zc?(y=0,r=this.context.canvas.height/2,this.gb=!0):this.gb=!1;""!==d&&(C=!1,p=performance.now()-p,this.context.save(),this.j.wb&&(x?(y=0,r=this.context.canvas.height/2):(t/=z,w=w/z|0,r=r/z|0,y=y/z|0)),this.context.font=(t|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,y+r),p<=f?(r=p/f,r*=r,this.context.globalAlpha=
r,this.context.scale(r,r)):p>f+m&&p<=f+m+n&&(r=(n-(p-(f+m)))/n,r*=r,this.context.globalAlpha=r,this.context.scale(r,r)),p>f+m+n?C=!0:(f=d.indexOf("\\n"),-1===f?this.ro(d,x,w):(this.ro(d.substr(0,f),x,w),this.context.translate(0,w),this.ro(d.substr(f+2),x,w))),this.context.restore());return C};u.prototype.update=function(){var d=this.j.Qc.Jh;this.Kb(this.message,this.Ka,this.ab,this.Eb,this.startTime,81*d,!1)&&(this.message="");this.j.wb&&"Expand"!==this.Pk&&"Launch"!==this.Pk||!this.Kb(this.Pk,this.da,
this.na,this.zb,this.Ba,45*d,!0)||(this.Pk="")};g.prototype.cO=function(d){this.scale=d};g.prototype.ro=function(d,f,m,n){var p;if(0<this.U.width){this.Ff||(this.width=this.U.width,this.height=this.U.height,this.B=document.createElement("canvas"),this.B.width=this.width,this.B.height=this.height,this.G=this.B.getContext("2d"),this.na=new Image,this.Ba=new Image);if(this.Yw){this.G.drawImage(this.U,0,0);var r=this.G.getImageData(0,0,this.B.width,this.B.height);var x=new Uint32Array(r.data.buffer);
for(p=0;p<x.length;p+=1)4294967295===x[p]&&(x[p]=this.tF);this.G.putImageData(r,0,0);this.Ba.src=this.B.toDataURL("image/png");this.G.drawImage(this.U,0,0);r=this.G.getImageData(0,0,this.B.width,this.B.height);x=new Uint32Array(r.data.buffer);for(p=0;p<x.length;p+=1)4294967295===x[p]&&(x[p]=this.jC);this.G.putImageData(r,0,0);this.Ff=this.Yw=!1}this.Ff||(this.na.src=this.B.toDataURL("image/png"),this.Ff=!0);1!==this.scale&&(this.context.save(),this.context.translate(f,m),this.context.scale(this.scale,
this.scale),this.context.imageSmoothingEnabled=!0,m=f=0);n?this.context.drawImage(this.Ba,d.qq*d.width,0,d.width,d.height,f,m,d.width,d.height):this.context.drawImage(this.na,d.qq*d.width,0,d.width,d.height,f,m,d.width,d.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};g.prototype.length=function(){return this.da.length};g.prototype.icon=function(d){var f,m=this.da,n=this.length(),p=null;for(f=0;f<n&&!p;)m[f].name===d?p=m[f]:f+=1;return p};g.prototype.add=function(d,
f,m){var n=this.da.length;d=new h(d,f,m,n);this.da[n]=d};var b={Qy:0,pf:1,vertical:2,Ko:0,button:1,toggle:2,zg:3,list:4,label:5,rn:0,Ya:1,left:0,zE:1,right:2,qa:0,xc:1,zv:2,fb:3,Xo:4,$j:5,dE:6,bd:7,pb:8};q.prototype.ng=function(d){!this.m&&d&&(this.m=!0)};q.prototype.eb=function(d){this.fontSize=parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};q.prototype.ut=function(d,f,m,n,p,r){this.Df=d;this.Kd=f;this.Oi=m;this.mn=n;this.oh=p;this.Ci=r;if(this.type===b.list)for(this.On=
[],d=0;d<this.lower.length;d+=1)this.On[d]=this.Kd};q.prototype.Xi=function(d){this.Zw=d};q.prototype.YN=function(d){this.WC=d};q.prototype.OI=function(d){this.B=d};q.prototype.setPosition=function(d,f,m){this.position=d;this.$w=f;this.B=m};q.prototype.uJ=function(d,f){var m=this.G.Ze,n=this.G.Jh,p=this.$w*m,r=this.B*n;m=this.Zw*m;n=this.WC*n;this.x=p;this.y=r;this.width=m;this.height=n;switch(this.position){case b.qa:this.x=(d-m>>1)+p;break;case b.xc:this.x=d+p;break;case b.zv:this.y=(f-n>>1)+r;
this.x=d+p;break;case b.fb:this.x=d+p;this.y=f+r;break;case b.Xo:this.x=(d-m>>1)+p;this.y=f+r;break;case b.$j:this.y=f+r;break;case b.dE:this.y=(f-n>>1)+r;break;case b.pb:this.x=(d-m>>1)+p,this.y=(f-n>>1)+r}};q.prototype.kE=function(d,f){var m=this.zw;this.Kt[m]=[d,f];this.zw=m+1};q.prototype.Bu=function(d){var f=[],m;var n=d.length;for(m=0;m<n;m+=1)d[m].kE(this,!0);n=f.length;for(m=0;m<n;m+=1)f[m].kE(this,!1)};q.prototype.kM=function(d,f){var m=!1;this.enabled&&d>=this.x&&d<this.x+this.width&&f>=
this.y&&f<this.y+this.height&&(m=!0);return m};k.prototype.AN=function(d){this.Jh=this.Ze=d;this.C.notification.scale=d};k.prototype.ut=function(d,f,m,n,p,r){var x;this.Df=d;this.Kd=f;this.Oi=m;this.oh=p;this.Ci=r;for(x=0;x<this.ve.length;x+=1)this.ve[x].ut(d,f,m,n,p,r)};k.prototype.Ba=function(d,f){var m=!1,n=d.zw;d.type===b.list&&d.upper===b.Ya?m=d.current[0]:m=d.current===d.upper;d.FL&&(m=!m);if(m&&f)for(f=0;f<n;f+=1)m=m&&this.Ba(d.Kt[f][0],d.Kt[f][1]);return m};k.prototype.RH=function(d){var f,
m=d.zw;var n=!0;for(f=0;f<m;f+=1)n=n&&this.Ba(d.Kt[f][0],d.Kt[f][1]);d.enabled=n};k.prototype.Ff=function(){var d;for(d=0;d<this.Vc;d+=1){var f=this.ve[d];f.enabled=!0;switch(f.type){case b.toggle:f.Sb&&(f.current=f.Sb(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case b.Ko:f.Sb&&(f.current=f.Sb(f.current,!1,this.caller));break;case b.list:f.Sb&&(f.current=f.Sb(f.current,!1,this.caller))}this.RH(f)}};k.prototype.sb=function(d,f,m,n,p,r,x,t,w){this.ve[this.Vc]=new q(this.Vc,d,this.caller,
f,m,n,p,r,x,w,t,b.list,this.G,this.border,!0,"","",-1,[],this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.rk=function(d,f,m,n,p,r,x,t,w,z,y,C){this.ve[this.Vc]=new q(this.Vc,d,this.caller,f,m,n,p,r,x,t,w,b.Ko,this.G,this.border,!0,z,y,C,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.Ia=function(d,f,m,n,p,r){this.ve[this.Vc]=new q(this.Vc,null,null,d,f,m,n,p,0,0,0,b.label,this.G,this.border,!0,r,"",-1,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.Ea=function(d,f,
m,n,p,r){this.ve[this.Vc]=new q(this.Vc,d,this.caller,f,m,n,p,40,0,0,0,b.button,this.G,this.border,!0,r,"",-1,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.$I=function(){this.ve[this.Vc]=new q(this.Vc,null,null,Menu.$j,0,-40,100,40,0,100,0,b.zg,this.G,this.border,!1,"","",0,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.B=function(d,f,m){var n;d+=String();if(""!==d){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=(f.fontSize*
this.Ze|0)+"px "+f.fontFamily;f.Gt===b.vertical&&this.context.rotate(.5*Math.PI);var p=this.context.measureText(d).width;var r=f.Gt===b.vertical?f.height:f.width;if(p>=r-6){if(n=d.length){do{--n;var x=d.substr(0,n)+"...";p=this.context.measureText(x).width}while(1<n&&p>=r-6)}d=x}switch(f.textAlign){case b.left:var t=f.width/2-2;break;case b.zE:t=p/2;break;case b.right:t=p/2-(f.width-p)/2+4}this.context.fillStyle=f.Kd;m&&this.context.fillRect(2-t,2,p,2);this.context.fillText(d,2-t+.5,2.5);this.context.fillStyle=
!f.locked&&!this.locked||f.Go?f.Df:f.oh;this.context.fillText(d,-t+.5,.5);m&&this.context.fillRect(-t,0,p,2);this.context.restore()}};k.prototype.zb=function(d){this.context.globalAlpha=this.Rg;this.B(d.Za,d,!1)};k.prototype.ab=function(d){this.context.globalAlpha=this.Rg;this.B(d.Za,d,!1)};k.prototype.Kb=function(d){var f=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=d.pe;this.context.fillStyle=d.Df;d.orientation===b.pf?(f*=d.width-3,this.context.fillRect(d.x+(f+1|0),d.y,1,d.height)):
(f*=d.height-3,this.context.fillRect(d.x,d.y+(f+1|0),d.width,1));f=d.Za;d.OD&&(f=-1!==d.fixed?f+d.current.toFixed(d.fixed):f+d.current,f+=d.XB);""!==f&&(this.context.globalAlpha=d.Rg,this.B(f,d,!1))};k.prototype.fc=function(d,f){var m=(d.current[0]-d.lower)/(d.upper-d.lower);var n=this.Ka;d.orientation===b.pf?(m*=d.width-3,m=m+1|0,f&&(this.context.fillStyle=d.Oi,this.context.globalAlpha=d.Al,this.context.fillRect(d.x+m-n,d.y,n,d.height),this.context.fillRect(d.x+m+1,d.y,n,d.height)),!d.locked&&!this.locked||
d.Go?(this.context.fillStyle=d.Df,this.context.globalAlpha=d.Rg):(this.context.fillStyle=d.oh,this.context.globalAlpha=d.Hk),this.context.fillRect(d.x+m,d.y,1,d.height)):(m*=d.height-3,m=m+1|0,f&&(this.context.fillStyle=d.Oi,this.context.globalAlpha=d.Al,this.context.fillRect(d.x,d.y+m-n,d.width,n),this.context.fillRect(d.x,d.y+m+1,d.width,n)),!d.locked&&!this.locked||d.Go?(this.context.fillStyle=d.Df,this.context.globalAlpha=d.Rg):(this.context.fillStyle=d.oh,this.context.globalAlpha=d.Hk),this.context.fillRect(d.x,
d.y+m,d.width,1));f=d.Za;d.OD&&(f=0<=d.fixed?f+d.current[1].toFixed(d.fixed):f+d.current[1]);f+=d.XB;""!==f&&(this.context.globalAlpha=this.Rg,this.B(f,d,!1))};k.prototype.hc=function(d){this.context.globalAlpha=this.Rg;var f="-"===d.lower&&""===d.upper&&d.current===d.lower;var m=d.Za;d.OD&&!f&&(m+=d.current);m+=d.XB;this.B(m,d,f)};k.prototype.Eb=function(d,f){var m=d.x;var n=d.y;var p=d.width;var r=d.height;var x=d.orientation;var t=d.current;var w=d.lower;var z=w.length;var y=d.orientation===b.pf?
p/z:r/z;this.context.globalAlpha=d.Uo;this.context.fillStyle=d.mn;if(d.upper===b.rn){var C=d.current;0<=C&&C<z&&(d.orientation===b.pf?this.context.fillRect(m+C*y+1,n+1,y-2,r-2):this.context.fillRect(m+1,n+1+C*y,p-2,y-2))}else if(d.orientation===b.pf)for(C=0;C<z;C+=1)t[C]&&this.context.fillRect(m+C*y+1,n+1,y-2,r-2);else for(C=0;C<z;C+=1)t[C]&&this.context.fillRect(m+1,n+1+C*y,p-2,y-2);d.Sv=!1;f?(this.context.globalAlpha=d.Al,this.context.fillStyle=d.Oi,d.orientation===b.pf?(C=(this.If-m)/p*z|0,0<=
C&&C<z&&(d.Zf[C]?d.Sv=!0:this.context.fillRect(m+C*y+.5,n+.5,y-1,r-1))):(C=(this.Xg-n)/r*z|0,0<=C&&C<z&&(d.Zf[C]?d.Sv=!0:this.context.fillRect(m+.5,n+.5+C*y,p-1,y-1))),d.Am=C):d.Am=-1;this.context.globalAlpha=this.Rg;if(d.orientation===b.pf)for(C=0;C<z;C+=1)d.icon[C]&&this.Z.ro(d.icon[C],d.x+y*C,d.y,this.locked||d.locked||d.Zf[C]);else for(C=0;C<z;C+=1)d.icon[C]&&this.Z.ro(d.icon[C],d.x,d.y+y*C,this.locked||d.locked||d.Zf[C]);this.context.globalAlpha=d.Rg;this.context.fillStyle=d.Df;if(x===b.pf)for(C=
0;C<z;C+=1)m=w[C],""!==m&&(this.context.save(),this.context.translate((.5+(C-z/2))*y,0),this.B(m,d,!1),this.context.restore());else for(C=0;C<z;C+=1)m=w[C],""!==m&&(this.context.save(),this.context.translate(0,(.5+(C-z/2))*y),this.B(m,d,!1),this.context.restore())};k.prototype.gb=function(d,f,m,n,p){var r=!0;f&&!this.Uc&&p&&(r=!1);r&&(m===n||-1===n&&f)&&(d.type===b.button||d.type===b.toggle)?(this.context.fillStyle=d.Oi,this.context.globalAlpha=d.Al):(this.context.fillStyle=d.Kd,this.context.globalAlpha=
d.pe);switch(d.type){case b.zg:p=(d.current-d.lower)/(d.upper-d.lower);this.context.fillStyle=d.mn;this.context.globalAlpha=d.Uo;d.orientation===b.pf?(p*=d.width-3,p=p+1|0,this.context.fillRect(d.x,d.y,p,d.height),this.context.fillStyle=d.Kd,this.context.globalAlpha=d.pe,this.context.fillRect(d.x+p,d.y,d.width-p,d.height)):(p*=d.height-3,p=p+1|0,this.context.fillRect(d.x,d.y,d.width,p),this.context.fillStyle=d.Kd,this.context.fillRect(d.x,d.y+p,d.width,d.height-p));break;case b.Ko:p=(d.current[0]-
d.lower)/(d.upper-d.lower);if(r&&(m===n||-1===n&&f)){var x=this.Ka;if(d.orientation===b.pf){p*=d.width-3;p=p+1|0;var t=p-x;0<t&&this.context.fillRect(d.x,d.y,t,d.height);t=1+p+x;t<d.width&&this.context.fillRect(d.x+t,d.y,d.width-t,d.height)}else p*=d.height-3,p=p+1|0,t=p-x,0<t&&this.context.fillRect(d.x,d.y,d.width,t),t=1+p+x,t<d.height&&this.context.fillRect(d.x,d.y+t,d.width,d.height-t)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;case b.list:x=d.lower.length;if(d.orientation===b.pf)for(t=
d.width/x,p=0;p<x;p+=1)this.context.fillStyle=d.On[p],this.context.fillRect(d.x+p*t+1,d.y+1,t-2,d.height-2);else for(t=d.height/x,p=0;p<x;p+=1)this.context.fillStyle=d.On[p],this.context.fillRect(d.x+1,d.y+1+p*t,d.width-2,t-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==b.list&&d.icon&&(this.context.globalAlpha=d.Rg,this.Z.ro(d.icon,d.x,d.y,this.locked||d.locked));if(0<d.border)switch(!d.locked&&!this.locked||d.Go?(this.context.strokeStyle=d.Ci,this.context.globalAlpha=
d.jl):(this.context.strokeStyle=d.oh,this.context.globalAlpha=d.Hk),this.context.lineWidth=d.border,d.type){case b.label:break;case b.list:x=d.lower.length;if(d.orientation===b.pf)for(t=d.width/x,p=0;p<x;p+=1)this.locked||d.locked||d.Zf[p]?(this.context.strokeStyle=d.oh,this.context.globalAlpha=d.Hk):(this.context.strokeStyle=d.Ci,this.context.globalAlpha=d.jl),this.context.strokeRect(d.x+.5+p*t,d.y+.5,t-1,d.height-1);else for(t=d.height/x,p=0;p<x;p+=1)this.locked||d.locked||d.Zf[p]?(this.context.strokeStyle=
d.oh,this.context.globalAlpha=d.Hk):(this.context.strokeStyle=d.Ci,this.context.globalAlpha=d.jl),this.context.strokeRect(d.x+.5,d.y+.5+p*t,d.width-1,t-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case b.button:this.ab(d);break;case b.label:this.zb(d);break;case b.Ko:this.fc(d,r&&(m===n||-1===n&&f));break;case b.toggle:this.hc(d);break;case b.zg:this.Kb(d);break;case b.list:this.Eb(d,r&&(m===n||-1===n&&f))}if(m===n)switch(d.type){case b.Ko:r=this.Xg,
d.orientation===b.vertical?(r<d.y?r=d.y:r>d.y+d.height-1&&(r=d.y+d.height-1),p=(r-d.y)/(d.height-1)*(d.upper-d.lower)+d.lower):(r=this.If,r<d.x?r=d.x:r>d.x+d.width-1&&(r=d.x+d.width-1),p=(r-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.lower<d.upper?(p<d.lower&&(p=d.lower),p>d.upper&&(p=d.upper)):(p<d.upper&&(p=d.upper),p>d.lower&&(p=d.lower)),d.current[0]=p,d.Sb&&(d.current=d.Sb(d.current,!0,d.caller))}if(f&&!this.Uc&&d.ew)switch(d.type){case b.button:d.Sb&&d.Sb(d.caller);break;case b.toggle:d.current=
d.current===d.upper?d.lower:d.upper;d.Sb&&d.Sb(d.current===d.upper,!0,d.caller);break;case b.list:x=d.lower.length,t=d.orientation===b.pf?(this.If-d.x)/d.width*x|0:(this.Xg-d.y)/d.height*x|0,d.upper===b.rn?d.Zf[t]||(d.Sb?d.current=d.Sb(t,!0,d.caller):d.current=t):d.Zf[t]||(d.current[t]=!d.current[t],d.Sb&&d.Sb(d.current,!0,d.caller))}f&&m===n?(d.ew=this.Uc,d.FA=this.If,d.GA=this.Xg):(d.ew=!1,d.FA=-1,d.GA=-1)};k.prototype.vu=function(d){this.U=d};k.prototype.Jz=function(){var d,f=!1,m=this.context.canvas.width,
n=this.context.canvas.height,p=-1;var r=!1;this.Pm=-1;if(this.m)this.Uc?-2!==this.hl?(this.da=this.If,this.na=this.Xg,this.FA=this.If,this.GA=this.Xg,this.hl=-2):this.bo&&!this.locked&&this.bo(this.If,this.Xg,this.Uc,this.caller):(-2===this.hl&&(this.bo&&!this.locked&&this.bo(this.If,this.Xg,this.Uc,this.caller),this.If===this.da&&this.Xg===this.na&&this.$D&&(this.C.sr?this.C.sr=!1:this.$D(this.If,this.Xg,this.Uc,this.caller))),this.Uc||(this.hl=-1));else{var x=this.hl;this.context.textAlign="left";
for(d=0;d<this.Vc;d+=1){var t=this.ve[d];if(!t.m){t.uJ(m,n);var w=!1;t.kM(this.If,this.Xg)&&(p=d,!t.locked&&!this.locked||t.Go?w=!0:f=!0);w&&!this.Uc&&(this.Pm=d);(this.Uc&&-1===x&&w||w&&this.Rn)&&t.type!==b.label&&(x=d,this.Rn&&(t.ew=!0));d!==x||!t.locked&&!this.locked||t.Go||(x=-1,w=!1);t.enabled&&this.gb(t,w,d,x,this.C.Ck)}}0<=x&&!this.Uc&&(r=!0);this.Uc&&-1===x&&!f&&(x=-2);-2===x&&this.bo&&!this.locked&&this.bo(this.If,this.Xg,this.Uc,this.caller);this.Uc||(x=-1);this.hl=x;this.context.globalAlpha=
1}0<=p&&!this.ve[p].locked?this.cv=this.ve[p].type===b.Ko?this.ve[p].orientation===b.Qy||this.ve[p].orientation===b.pf?"ew-resize":"ns-resize":"auto":this.cv=this.U;return r};a.prototype.mH=function(){this.U=[];this.B=this.G=0};a.prototype.dJ=function(){var d=0;0<this.B&&(d=this.G/this.B);this.U[this.U.length]=d;this.B=this.G=0};a.prototype.WK=function(d){var f=-1;0<=d&&d<this.U.length&&(f=this.U[d]);return f};a.prototype.ut=function(d,f,m,n,p,r){this.Df=d;this.Kd=f;this.Oi=m;this.oh=p;this.Ci=r;
this.Qc&&this.Qc.ut(d,f,m,n,p,r)};a.prototype.zI=function(d,f,m){d=new k(this,d,f,m,this.Jc,this.ql);d.Df=this.Df;d.Rg=this.Rg;d.Kd=this.Kd;d.pe=this.pe;d.Oi=this.Oi;d.Al=this.Al;d.mn=this.mn;d.Uo=this.Uo;d.oh=this.oh;d.Hk=this.Hk;d.Ci=this.Ci;d.jl=this.jl;d.border=this.border;return d};a.prototype.wK=function(){var d=this.Qc,f=d.Ze,m=this.Jc,n="",p="";var r=1;if(-1!==d.hl||-1===d.hl&&-1===d.Pm)this.da=d.hl;if(-1===d.Pm||-1!==this.da&&this.da===d.Pm){if(-1!==d.Pm){var x=d.ve[d.Pm];x.id===this.Ka&&
x.Am!==this.na&&(this.da=-1)}50>this.fk&&(this.fk+=1)}else{x=d.ve[d.Pm];x.id!==this.Ka||x.id===this.Ka&&x.Am!==this.na?(this.Ka=x.id,this.na=x.Am,50>this.fk&&(this.fk+=1)):0<=this.fk&&--this.fk;-1!==this.na?n=x.F[this.na]:Array.isArray(x.F)?n="":n=x.F;var t=n.indexOf("\n");if(""!==n&&-1===this.fk&&!x.Sv){this.da=-1;var w=x.x;var z=x.y;var y=x.width;var C=x.height;-1!==x.Am&&(x.orientation===b.pf?(w+=y/x.lower.length*x.Am,y/=x.lower.length):(z+=C/x.lower.length*x.Am,C/=x.lower.length));d=18*f;m.font=
(d|0)+"px Arial";var c=4*f;var l=m.measureText(n).width;f=Math.round(w+y/2);z=Math.round(z+C/2);f-=l/2;f<c+1?f=c+1:f+l+c>m.canvas.width&&(f=m.canvas.width-l-c-1);C>y?(-1!==this.ab&&y<this.ab&&(y=this.ab),f>m.canvas.width/2?f=w-l-y/2:f=w+x.width+y/2):(-1!==this.gb&&C<this.gb&&(C=this.gb),z>m.canvas.height/2?z-=C:z+=C);if(l>m.canvas.width){p=(l>>1)+d+c;p>m.canvas.width&&(p=m.canvas.width);for(r=1;m.measureText(n.substr(0,r)).width<p;)r+=1;for(t=r-1;t>r-5;)p=n[t]," "===p||","===p||"/"===p||"|"===p?(r=
t+2,t=r-5):--t;p=n.substr(r-1);n=n.substr(0,r-1);l=m.measureText(n).width;r=m.measureText(p).width;r>l&&(l=r);r=2}else-1!==t&&(p=n.substr(t+1),r=m.measureText(p).width,n=n.substr(0,t),l=m.measureText(n).width,r>l&&(l=r),r=2);t=d*r+2*c;2===r&&z>m.canvas.height/2&&(z-=d+c,t+=c);m.globalAlpha=this.pe;m.fillStyle=this.Kd;m.fillRect((f-c|0)-.5,(z-d/2-c|0)-.5,l+2+2*c,t);m.globalAlpha=this.jl;m.strokeStyle=this.Ci;m.strokeRect((f-c|0)-.5,(z-d/2-c|0)-.5,l+2+2*c,t);m.globalAlpha=this.pe;m.strokeStyle=this.Kd;
m.beginPath();m.moveTo((f-c|0)+.5,(z-d/2-c|0)+.5+t);m.lineTo((f-c|0)+.5+l+2+2*c,(z-d/2-c|0)+.5+t);m.lineTo((f-c|0)+.5+l+2+2*c,(z-d/2-c|0)+.5);m.stroke();m.globalAlpha=1;m.fillStyle=this.Kd;m.fillText(n,f+2,z+2);""!==p&&m.fillText(p,f+2,z+d+c+2);m.fillStyle=this.Df;r=n.indexOf("[");t=n.lastIndexOf("]");-1!==r&&-1!==t?(x=n.substr(0,r+1),l=m.measureText(x).width,m.fillText(x,f,z),m.fillStyle="#80FFFF",x=n.substr(r+1,t-r-1),m.fillText(x,f+l,z),m.fillStyle=this.Df,x=n.substr(t),l=m.measureText(n.substr(0,
t)).width,m.fillText(x,f+l,z)):m.fillText(n,f,z);""!==p&&(r=p.indexOf("["),t=p.lastIndexOf("]"),-1!==r&&-1!==t?(x=p.substr(0,r+1),l=m.measureText(x).width,m.fillText(x,f,z+d+c),m.fillStyle="#80FFFF",x=p.substr(r+1,t-r-1),m.fillText(x,f+l,z+d+c),m.fillStyle=this.Df,x=p.substr(t),l=m.measureText(p.substr(0,t)).width,m.fillText(x,f+l,z+d+c)):m.fillText(p,f,z+d+c))}}};a.prototype.uc=function(d){var f,m,n,p=d.Jc,r=90,x=1,t=1;d.wb&&(r=0);d.Jx=!1;d.MD=!0;d.Ds&&(d.Qc=d.Ds,d.Ds=null,p.font=d.ql,d.Qc.Ff(),
d.Qc.Au&&d.Qc.Au(d.Qc.caller));d.Qc&&(x=d.Qc.Ze,t=d.Qc.Jh);var w=p.canvas.width-86*x;r*=t;var z=performance.now();d.kA&&(d.fw=z-1E3/d.Ma);d.mr||d.notification.ao()||d.In||d.BO!==d.fk&&-1!==d.fk?(d.tt(d),d.In&&--d.In,d.kA=!1):d.kA=!0;var y=z-d.fw;d.fw=z;d.Qc.Sb&&d.Qc.Sb(y,d.Qc.caller);z=performance.now()-z;var C=performance.now();d.Jz();d.Rn=!1;d.wK();d.notification.update();C=performance.now()-C;d.DA[d.Jt]=C;for(n=f=0;n<d.Do;n+=1)f+=d.DA[n];f/=d.Do;d.JA[d.Jt]=z;for(n=m=0;n<d.Do;n+=1)m+=d.JA[n];m/=
d.Do;d.to[d.Jt]=y;for(n=y=0;n<d.Do;n+=1)y+=d.to[n];y/=d.Do;d.Jt=(d.Jt+1)%d.Do;n=1E3/y;n>d.Ma&&(n=d.Ma);this.G+=1E3/(z+C);this.B+=1;d.Wk&&(p.font=(12*x|0)+"px Arial",p.globalAlpha=.7,p.fillStyle="black",d.on?p.fillRect(w,r,88*x|0,83*t|0):p.fillRect(w,r,88*x|0,20*t|0),C=(m+f)/16.666666,1<C&&(C=1),p.fillStyle=.5>C?"rgb("+(510*C|0)+",255,0)":"rgb(255,"+(255*(1-2*(C-.5))|0)+",0)",p.fillRect(w,r,88*C*x|0,20*t|0),f=f.toFixed(1),m=m.toFixed(1),4>n.toFixed(1).length?n=n.toFixed(1):n|=0,p.globalAlpha=1,p.fillStyle=
"black",z=n+"fps",y=p.measureText(z).width,p.fillText(z,w+36*x-y,r+12*t),z=(100*C|0)+"%",y=p.measureText(z).width,p.fillText(z,w+84*x-y,r+12*t),d.on&&(p.fillText("menu",w+6*x,r+28*t),p.fillText("work",w+6*x,r+44*t),p.fillText("update",w+6*x,r+60*t),p.fillText("focus",w+6*x,r+76*t),z=f+"ms",y=p.measureText(z).width,p.fillText(z,w+84*x-y,r+28*t),z=m+"ms",y=p.measureText(z).width,p.fillText(z,w+84*x-y,r+44*t),z=d.mr?"on":"off",y=p.measureText(z).width,p.fillText(z,w+84*x-y,r+60*t),z=d.hasFocus?"on":
"off",y=p.measureText(z).width,p.fillText(z,w+84*x-y,r+76*t)),p.fillStyle="white",z=n+"fps",y=p.measureText(z).width,p.fillText(z,w+34*x-y,r+10*t),z=(100*C|0)+"%",y=p.measureText(z).width,p.fillText(z,w+82*x-y,r+10*t),d.on&&(p.fillText("menu",w+4*x,r+26*t),p.fillText("work",w+4*x,r+42*t),p.fillText("update",w+4*x,r+58*t),p.fillText("focus",w+4*x,r+74*t),z=f+"ms",y=p.measureText(z).width,p.fillText(z,w+82*x-y,r+26*t),z=m+"ms",y=p.measureText(z).width,p.fillText(z,w+82*x-y,r+42*t),z=d.mr?"on":"off",
y=p.measureText(z).width,p.fillText(z,w+82*x-y,r+58*t),z=d.hasFocus?"on":"off",y=p.measureText(z).width,p.fillText(z,w+82*x-y,r+74*t)),p.globalAlpha=1);d.Qc.cv!==d.Qc.mz&&(d.Qc.mz=d.Qc.cv,d.Sc.style.cursor=d.Qc.mz);d.YB=!0};a.prototype.VI=function(d){d.Z=this.Z;this.Qc?this.Ds=d:(this.Ds=null,this.Qc=d,this.Jc.font=this.ql,this.Qc.Ff(),this.Qc.Au&&this.Qc.Au(this.Qc.caller),this.tt(this))};a.prototype.Jz=function(){var d;if(this.Qc){var f=this.Qc;this.Jc.font=this.ql;f.If=this.Nj;f.Xg=this.Oj;f.Uc=
this.Uc;f.Rn=this.Rn;if(f.Jz()||this.ig){for(d=0;d<f.Vc;d+=1){var m=f.ve[d];f.RH(m)}this.ig=!1}}};a.prototype.tt=function(d){d.Jx||(requestAnimationFrame?requestAnimationFrame(d.yE):setTimeout(d.yE,16),d.Jx=!0)};a.prototype.Pp=function(d,f){for(var m=null,n=0;null===m&&n<d.length;)d[n].identifier===f?m=d[n]:n+=1;return m};a.prototype.Ba=function(d,f){var m=f.changedTouches;switch(f.type){case "touchstart":-1===d.Yh&&(m=m[0],d.Yh=m.identifier,d.at(d,m.pageX,m.pageY));break;case "touchend":m=d.Pp(m,
d.Yh);null!==m&&(d.ct(d,m.pageX,m.pageY),d.Yh=-1);break;case "touchmove":m=d.Pp(m,d.Yh);null!==m&&d.bt(d,m.pageX,m.pageY);break;case "touchcancel":m=d.Pp(m,d.Yh),null!==m&&d.VG(d)}d.Ck=!0;f.stopPropagation&&f.stopPropagation();f.cancelable&&f.preventDefault()};a.prototype.at=function(d,f,m){d.dr(d,f,m);d.Uc=!0;d.MD=!1};a.prototype.ct=function(d,f,m){d.EA=performance.now();d.dr(d,f,m);d.Uc=!1;d.MD||(d.Rn=!0);0<=d.Nj&&d.Nj<d.Sc.width&&0<=d.Oj&&d.Oj<d.Sc.height&&!d.hasFocus&&(d.Ck||d.Sc.focus(),d.hasFocus=
!0,d.notification.clear(!0,!1),d.kF&&d.kF(d.caller))};a.prototype.bt=function(d,f,m){d.BE(d);d.dr(d,f,m)};a.prototype.DM=function(d){d.BE(d)};a.prototype.VG=function(d){1<performance.now()-d.EA&&(d.hasFocus||d.notification.clear(!0,!1),d.Sc.blur(),d.hasFocus=!1,d.Uc=!1,d.Nj=-1,d.Oj=-1,d.sr=!1,d.Jx||(d.tt(d),d.In<d.sv&&(d.In=d.sv)))};a.prototype.zb=function(d,f){if(!d.Ho){if(f.pageX||f.pageY){var m=f.pageX;var n=f.pageY}else m=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
n=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.at(d,m,n);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.Ck=!1}};a.prototype.hc=function(d,f){d.EA=performance.now();if(!d.Ho){if(f.pageX||f.pageY){var m=f.pageX;var n=f.pageY}else m=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.ct(d,m,n);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.Ck=!1}};a.prototype.BE=
function(d){d.hasFocus||d.sr&&""!==d.notification.Pk||(d.Zc?d.El||d.notification.notify("Copy",15,3600,15,!0):d.wb?d.ek?d.notification.notify("Launch",15,3600,15,!0):d.notification.notify("Expand",15,3600,15,!0):d.notification.notify("Click to control",15,3600,15,!0),d.notification.animate=!0,d.sr=!0)};a.prototype.Eb=function(d,f){if(!d.Ho){if(f.pageX||f.pageY){var m=f.pageX;var n=f.pageY}else m=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=f.clientY+document.body.scrollTop+
document.documentElement.scrollTop;d.bt(d,m,n);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.Ck=!1}};a.prototype.fc=function(d,f){d.Ho||(d.DM(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.Ck=!1)};a.prototype.Kb=function(d,f){d.Ho||(d.VG(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.Ck=!1)};a.prototype.dr=function(d,f,m){var n=this.Sc.getBoundingClientRect();window.scrollX?(f-=n.left+window.scrollX,m-=n.top+window.scrollY):(f-=n.left+window.pageXOffset,
m-=n.top+window.pageYOffset);f/=d.Of;m/=d.Of;d.Nj=f-1|0;d.Oj=m-1|0;d.tt(d);d.In<d.sv&&(d.In=d.sv)};a.prototype.cg=function(d){!d&&!this.notification.ao()||this.mr||this.tt(this);this.mr=d};window.IconManager=g;window.Menu=b;window.MenuManager=a}(),function(){function u(a,b,d,f,m,n){this.Vq=a;this.Wq=b;this.width=d;this.height=f;this.qO=m;this.CK=n}function h(){this.time=0;this.U=this.hw=!1;this.Ke="none";this.zM="2pca4";this.Qv="0123456789abcdef";this.NF=86;this.uc=22;this.Dc=6;this.gb=8;this.D="";
this.Vd="0123456789xyz";this.Ud="0123";this.Wd="0123456789";this.Gg=this.Bg="0123456";this.Lo=1038;this.sp=7157;this.Qo=5454;this.rp=2741;this.tp="0123";this.Ag="0123456omp-";this.eh="01234";this.Hf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.ym=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.vd=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");
this.jd="  omp omp omp  ".split(" ");this.il=[0,2,6,10,13,10,6,2,0];this.rl=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Bm=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Zo=new Uint32Array(256);this.vC=new Uint8Array(8192);this.rC=new Uint8Array(8192);this.Vj=new Uint8Array(512);this.qC=new Uint8Array(512);this.hn=new Uint16Array(512);this.tl=this.Fa=
!1;this.Pt="l";this.Ot="le";this.Qt="lv";this.Fx="li";this.Gx="lo";this.Rv="h";this.bA="ht";this.Ox="v";this.Kg=!1;this.Tz=0;this.vl=!1;this.Kw=this.Jw=0;this.wh=!1;this.ce=this.Oc=this.ad=this.index=0;this.Nf=1;this.zk=2;this.xj=3;this.Xj=4;this.ak=5;this.Gk=6;this.Li=7;this.vj=8;this.Gj=9;this.km=10;this.oi=11;this.Uh=12;this.fj=13;this.Ii=14;this.up=15;this.jh=16;this.pj=17;this.Xk=this.Yk=-1;this.Hn=0;this.pp=1;this.qp=2;this.br=3;this.cr=4;this.Xp=0;this.$r=1;this.oc=!1;this.Ue="num_states";
this.Fg="num_neighbors";this.ki="num_nodes";this.Eg="n_states";this.na=[];this.na[k.Pq]="vonneumann";this.na[k.Mq]="moore";this.na[k.Kl]="hexagonal";this.na[k.Oq]="onedimensional";this.zb=[];this.zb[k.Pq]=5;this.zb[k.Mq]=9;this.zb[k.Kl]=7;this.zb[k.Oq]=3;this.Ba=[];this.Ba[k.Pq]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.Ba[k.Mq]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.Ba[k.Kl]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");
this.Ba[k.Oq]=["none","reflect","permute"];this.Eb=[];this.Eb[k.Pq]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Eb[k.Mq]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,
3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,
3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Eb[k.Oq]=[[[0,1,2,3],[0,2,1,3]]];this.Eb[k.Kl]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,
5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.hx=""}function g(a,b){this.A=null;this.C=b;this.tG="";b=a.lastIndexOf(".");-1!==b&&(a=a.substr(0,b));this.name=a;this.Bn=this.uk=0;this.Ug=this.mf=this.tc=-1;this.Tp=this.Tr=0;this.Lv=this.Yz=!1;this.Bp=this.mg=this.I=this.Ps="";this.T=this.bq=this.V=this.Ic=this.Ga=this.L=this.la=!1;this.Vg=this.C.Xp;this.P=!1;this.je=this.C.Hn;this.ke=-1;this.te=this.Oe=!1;this.dd=-1;this.Lj=1;this.th=this.nE=
this.oE=this.pE=this.qE=this.lg=this.Ee=this.Af=this.ne=-1;this.tI=this.pa=!1;this.fe=-1;this.jr=this.ir=this.fg=this.$e=null;this.i=this.vb=-1;this.Wf=this.Vf=1;this.Ne="";this.Fi=-1;this.lh="";this.Ih=this.zf=null;this.height=this.width=0;this.sh=this.Qe=null;this.Pj=this.Lg=this.Fc=this.title="";this.Cd=2;this.Os=0;this.oo=this.Kg=!1;this.tC=this.uG="";this.Ue=-1;this.uC=!1;this.Eg=this.Wj=this.Ll=this.ki=this.Fg=-1;this.he=this.ah=null;this.$g=this.Jl=0;this.ye=this.Tk=this.Uk=null;this.Nq=[];
this.ge=null}var q={rules:[],mw:[],No:[],tv:[],cJ:function(a,b,d,f,m){var n,p=this.No.length,r=!1,x=a.I.toLowerCase();x=x.replace(/ /g,"_");for(n=0;n<p&&!r;){var t=this.No[n];t.name===x?(r=!0,t.pattern[t.pattern.length]=a,t.Bt[t.Bt.length]=b,t.Qr[t.Qr.length]=d,t.Gu[t.Gu.length]=f,t.view[t.view.length]=m):n+=1}r||(this.No[p]={name:x,pattern:[a],Bt:[b],Qr:[d],Gu:[f],view:[m]});return r},SK:function(a){var b=0,d=this.tv.length,f=!1,m="";a=a.toLowerCase();for(a=a.replace(/ /g,"_");b<d&&!f;)this.tv[b].name===
a?(f=!0,m=this.tv[b].definition):b+=1;return m},eN:function(a){var b,d=this.No.length,f=!1,m=a.I.toLowerCase();m=m.replace(/ /g,"_");for(a=0;a<d&&!f;){var n=this.No[a];if(n.name===m)for(f=!0,n.name="",b=0;b<n.Bt.length;b+=1)null!==n.Bt[b]&&(this.KF(n.pattern[b]),n.pattern[b].C.D="",n.pattern[b].C.Fa=!0,n.pattern[b].C.tl=!1,n.Bt[b](n.pattern[b],n.Gu[b],n.view[b]));else a+=1}},dx:function(a){var b,d=this.No.length,f=!1,m=a.I.toLowerCase();m=m.replace(/ /g,"_");for(a=0;a<d&&!f;){var n=this.No[a];if(n.name===
m)for(f=!0,n.name="",b=0;b<n.Qr.length;b+=1)null!==n.Qr[b]&&(n.pattern[b].pa=n.pattern[b].tI,n.Qr[b](n.pattern[b],n.Gu[b],n.view[b]));else a+=1}},add:function(a,b,d,f,m){var n,p=this.rules.length,r=!1,x=a.I.toLowerCase();x=x.replace(/ /g,"_");for(n=0;n<p&&!r;)this.rules[n].name===x?r=!0:n+=1;r||(this.rules[p]=null===a.he?{name:x,FF:!0,SC:a.Ue,nM:a.Fg,qM:a.ki,tJ:a.Ll,FN:a.Tk,GN:a.Uk,Tu:a.ye,cs:a.ge,names:a.Nq,T:a.uC}:{name:x,FF:!1,SC:a.Eg,xo:a.Wj,CJ:a.$g,sq:a.he,KI:a.ah,Tu:a.ye,yK:a.Jl,cs:a.ge,names:a.Nq},
this.mw[p]={fetch:b|0,decode:d|0,size:f},this.tv[p]={name:x,definition:m},this.eN(a))},KF:function(a){var b,d=this.rules.length,f=null,m=!1,n=a.I.toLowerCase();n=n.replace(/ /g,"_");for(b=0;b<d&&!m;)this.rules[b].name===n?(m=!0,f=this.rules[b]):b+=1;m&&(a.he=null,f.FF?(a.Ue=f.SC,a.Fg=f.nM,a.ki=f.qM,a.Ll=f.tJ,a.Tk=f.FN,a.Uk=f.GN,a.T=f.T):(a.Eg=f.SC,a.Wj=f.xo,a.$g=f.CJ,a.he=f.sq,a.ah=f.KI,a.Jl=f.yK,a.T=a.Wj===k.Kl?!0:!1),a.ye=f.Tu,a.ge=f.cs,a.Nq=f.names,a.Ga=!1);return m}},k={Pq:0,Mq:1,Kl:2,Oq:3,sC:-1,
HN:0,IN:1,JN:2,LN:3,KN:["circles","diamonds","hexagons","triangles"]};g.prototype.jz=function(a){var b="";if(this.Vf!==a||this.Wf!==a)this.Vf!==a&&(b+="C"+this.Vf),this.Wf!==a&&(b+="E"+this.Wf);return b};g.prototype.B=function(a){this.Ps=a.Ps;this.I=a.I;this.la=a.la;this.L=a.L;this.Ga=a.Ga;this.mg=a.mg;this.T=a.T;this.Vg=a.Vg;this.P=a.P;this.uk=a.uk;this.Bn=a.Bn;this.je=a.je;this.ke=a.ke;this.Oe=a.Oe;this.te=a.te;this.dd=a.dd;this.th=a.th;this.Lj=a.Lj;this.ne=a.ne;this.Af=a.Af;this.Ee=a.Ee;this.lg=
a.lg;this.pa=a.pa;this.fe=a.fe;this.vb=a.vb;this.i=a.i;this.Cd=a.Cd;a.fg&&(this.fg=new Uint8Array(a.fg.length),this.fg.set(a.fg));a.$e&&(this.$e=new Uint8Array(a.$e.length),this.$e.set(a.$e))};g.prototype.LJ=function(a,b){a.fg&&(this.jr=b.R(Uint8,a.fg.length,"HROT.altSurvivals"),this.jr.set(a.fg));a.$e&&(this.ir=b.R(Uint8,a.$e.length,"HROT.altBirths"),this.ir.set(a.$e));this.qE=a.ne;this.pE=a.Af;this.oE=a.Ee;this.nE=a.lg};g.prototype.zN=function(){this.mg=this.I=this.Ps="";this.T=this.Ga=this.L=this.la=
!1;this.Vg=this.C.Xp;this.P=!1;this.Bn=this.uk=0;this.je=this.C.Hn;this.ke=-1;this.te=this.Oe=!1;this.th=this.dd=-1;this.pa=!1;this.i=this.vb=this.fe=-1;this.Cd=2};g.prototype.IL=function(a){return this.te!==a.te||this.pa!==a.pa?"Alternate is different rule family":(-1===this.i?this.Cd:this.i)!==(-1===a.i?a.Cd:a.i)?"Alternate has different number of states":this.L!==a.L||this.la!==a.la||this.T!==a.T||this.Vg!==a.Vg||this.P!==a.P||this.je!==a.je||this.Oe!==a.Oe||-1===this.ke&&-1!==a.ke||-1!==this.ke&&
-1===a.ke||this.th!==a.th||this.vb!==a.vb?"Alternate has different neighborhood":this.dd!==a.dd||this.fe!==a.fe?"Alternate has different range":this.Ga||a.Ga?"Alternate can not use none":""};h.prototype.Nh=function(a,b,d){var f,m,n=0,p=0,r=0,x=!1;var t=b.length;for(f=m=0;f<t;){var w=b[f];f+=1;switch(m){case 0:switch(w){case "!":m=1;a.Fc+="#C ";var z=!0;break;case "O":case "o":case "*":case ".":m=2;p=n=r=0;var y=--f}break;case 1:"\r"!==w&&"\n"!==w&&(" "===w?z||(a.title+=w,a.Fc+=w):(z=!1,a.title+=w,
a.Fc+=w));"\n"===w&&(m=0,a.Fc+=w,a.title+=" ");break;case 2:switch(w){case "O":case "o":case "*":case ".":p+=1;break;case "\n":r+=1;p>n&&(n=p);p=0;break;case " ":case "\t":break;default:f=t,x=!0}}}if(!x){2===m&&"\n"!==w&&(r+=1,p>n&&(n=p));a.height=r;a.width=n;a.Pj="Cells";a.Qe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");f=y;for(m=n=0;f<t;)switch(w=b[f],f+=1,w){case "\n":n+=1;m=0;break;case "O":case "o":case "*":a.Qe[n][m>>4]|=1<<(~m&15);m+=1;break;case ".":m+=1}this.Fa=!0;this.ab(a,
"",d)}};h.prototype.Lh=function(a,b,d){var f,m;var n=b.length;var p=[];var r=0;var x=!1;var t=m=0;var w=!1;for(f=10;f<n;){var z=b[f];f+=1;switch(z){case "\n":w&&(w=!1,2===y&&x&&(t=-t,x=!1),p[r]=[m,t],r+=1);var y=t=m=0;break;case "-":x=!0;0===y?y=1:1===y&&(y=2);break;case " ":1===y&&(x&&(m=-m,x=!1),y=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===y&&(y=1),1===y?m=10*m+parseInt(z,10):(t=10*t+parseInt(z,10),w=!0)}}w&&(2===y&&x&&(t=-t),p[r]=[m,t],
r+=1);if(r){n=b=p[0][0];y=z=p[0][1];for(f=1;f<r;f+=1)m=p[f][0],t=p[f][1],m<b&&(b=m),m>n&&(n=m),t<z&&(z=t),t>y&&(y=t);a.height=y-z+1;a.width=n-b+1;a.Qe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.Pj="Life 1.06";this.ab(a,"",d);for(f=0;f<r;f+=1)m=p[f][0]-b,t=p[f][1]-z,a.Qe[t][m>>4]|=1<<(~m&15)}};h.prototype.He=function(a,b,d,f){var m,n,p=[],r=0,x=b.length;var t="";var w=!1;var z=0,y=0,C=!1,c=!1,l=0,e=0;d=d?10:0;for(this.Fa=!0;d<x&&!c;){var v=b[d];d+=1;switch(z){case 0:switch(v){case "#":z=
2;break;case "*":case ".":z=3;var A=n=m=0;var B=--d}break;case 2:switch(v){case "C":case "D":z=1;a.Fc+="#C ";var D=!0;break;case "N":z=0;break;case "R":z=4;break;case "P":z=5;y=0;C=!1;e=l=0;break;case "\n":z=0;break;default:z=1,D=!0}break;case 1:"\r"!==v&&"\n"!==v&&(" "===v?D||(a.title+=v,a.Fc+=v):(D=!1,a.title+=v,a.Fc+=v));"\n"===v&&(z=0,a.title+=" ",a.Fc+=v);break;case 4:"\n"===v?z=0:(t+=v,w=!0);break;case 5:switch(v){case "\n":z=0;2===y&&C&&(e=-e,C=!1);break;case "-":C=!0;0===y?y=1:1===y&&(y=2);
break;case " ":1===y&&(C&&(l=-l,C=!1),y=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===y&&(y=1),1===y?l=10*l+parseInt(v,10):e=10*e+parseInt(v,10)}break;case 3:switch(v){case "\n":m>n&&(n=m);m=0;A+=1;break;case "#":p[r]=new u(l,e,n,A,B,d-1);r+=1;z=2;break;case "*":case ".":m+=1;break;case " ":case "\t":break;default:c=!0}}}"\n"!==v&&(A+=1);3===z&&(p[r]=new u(l,e,n,A,B,d-1),r+=1);if(r&&!c){l=p[0].Vq;e=p[0].Wq;v=l+p[0].width-1;m=e+p[0].height-1;
for(d=1;d<r;d+=1)p[d].Vq<l&&(l=p[d].Vq),p[d].Wq<e&&(e=p[d].Wq),p[d].Vq+p[d].width-1>v&&(v=p[d].Vq+p[d].width-1),p[d].Wq+p[d].height-1>m&&(m=p[d].Wq+p[d].height-1);a.height=m-e+1;a.width=v-l+1;a.Qe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.Pj="Life 1.05";a.sh=Array.ka(Uint8,a.height,a.width,0,f,"Pattern.multiStateMap");w?(this.Je(a,t,!1,f),this.Fa?0<=a.i||a.Ic||(a.sh=null):(a.i=-1,a.Ic=!1,a.V=!1)):this.ab(a,"",f);for(d=0;d<r;d+=1)for(f=p[d].qO,t=p[d].CK,m=p[d].Vq-l,v=p[d].Wq-
e,w=m,n=v;f<=t;)switch(v=b[f],f+=1,v){case "\n":n+=1;w=m;break;case "*":a.Qe[n][w>>4]|=1<<(~w&15);a.sh&&(a.sh[n][w]=1);w+=1;break;default:w+=1}}};h.prototype.da=function(a,b,d,f){var m=0,n,p,r;d&&(m=4);for(p=0;8192>p;p+=8)for(r=0;4>r;r+=1){d=0;for(n=p+r&f;0<n;)d+=n&1,n>>=1;b===d&&(a[p+r+m]=1)}};h.prototype.Kb=function(a,b,d,f){var m=0,n,p,r;d&&(m=16);for(p=0;512>p;p+=32)for(r=0;16>r;r+=1){d=0;for(n=p+r&f;0<n;)d+=n&1,n>>=1;b===d&&(a[p+r+m]=1)}};h.prototype.fl=function(a){return(a&7)<<6|(a&448)>>6|
a&56};h.prototype.Gf=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};h.prototype.Sm=function(a,b,d){var f;for(f=0;4>f;f+=1)a[b]=d,b=this.Gf(b);b=this.fl(b);for(f=0;4>f;f+=1)a[b]=d,b=this.Gf(b)};h.prototype.Fm=function(a,b,d,f,m,n){var p=d?16:0;if(2>b||4<b)this.Kb(a,b,d,n);else if(d="omp".indexOf(f),-1!==d)for(b=this.ym[b-2][d],d=0;d<b.length;d+=1)f=b[d]+p,a[f]=m,a[f+256]=m,a[f+1]=m,a[f+257]=m};h.prototype.Rm=function(a,b,d,f,m){var n=0,p=b-1;0===
b||8===b?this.Kb(a,b,d,511):(3<p&&(p=6-p,n=495),b=this.Hf[p].indexOf(f),-1!==b&&(n^=this.Bm[p][b],d&&(n|=16),this.Sm(a,n,m)))};h.prototype.yg=function(a,b,d,f){var m=b.length,n=0,p="",r;for(r=0;r<m;r+=1){var x=b.charCodeAt(r)-48;n|=1<<x;this.Kb(a,x,d,f)}for(r=0;9>r;r+=1)0!==(n&1<<r)&&(p+=String(r));return p};h.prototype.Id=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};h.prototype.Fh=function(a,b){var d="",f=0;if(b[a]){b=b[a];0!==(b&8192)&&(f=1,b&=-8193);var m=this.Id(b);var n=2>a||4<a?0:3;2<=m&&
(b=~b&(1<<n)-1)&&(f=1-f);if(!f||b)for(d+=String(a),f&&(d+="-"),a=0;a<n;a+=1)0!==(b&1<<a)&&(d+="omp"[a])}else d+=String(a);return d};h.prototype.Gh=function(a,b){var d="",f=0;if(b[a]){b=b[a];0!==(b&8192)&&(f=1,b&=-8193);var m=this.Id(b);var n=this.il[a];(f||7!==m||13!==n)&&m+f>n>>1&&(b=~b&(1<<n)-1)&&(f=1-f);if(!f||b)for(d+=String(a),f&&(d+="-"),m=0;m<n;m+=1)f=this.rl[a][m],0!==(b&1<<f)&&(d+=this.Hf[3][f])}else d+=String(a);return d};h.prototype.wg=function(a,b,d,f){var m=b.length,n=0,p=[],r="",x;b+=
" ";for(x=0;7>x;x+=1)p[x]=0;for(x=0;x<m;x+=1){var t=b.charCodeAt(x)-48;if(0<=t&&8>=t){var w=0!==(n&1<<t);n|=1<<t;var z=b[x+1];var y=this.jd[t].indexOf(z);-1!==y||w||this.Kb(a,t,d,f);var C=1;"-"===z&&(C=0,x+=1,z=b[x+1],y=this.jd[t].indexOf(z));-1!==y||"0"<=z&&"9">=z||" "===z||(this.D=(d?"S":"B")+t+z+" not valid",x=m);w&&(w=0,0===(p[t]&8192)&&(w=1),w!==C&&(this.D=(d?"S":"B")+t+" can not have minus and non-minus",y=-1,x=m));for(;-1!==y;)0!==(p[t]&1<<y)?(this.D="Duplicate "+t+this.jd[t][y],y=-1,x=m):
(this.Fm(a,t,d,z,C,f),p[t]|=1<<y,C||(p[t]|=8192),x+=1,z=b[x+1],y=this.jd[t].indexOf(z))}else this.D="Missing digit prefix"}for(x=0;7>x;x+=1)0!==(n&1<<x)&&(r+=this.Fh(x,p));return r};h.prototype.xg=function(a,b,d){var f=b.length,m=0,n=[],p="",r;b+=" ";for(r=0;9>r;r+=1)n[r]=0;for(r=0;r<f;r+=1){var x=b.charCodeAt(r)-48;if(0<=x&&8>=x){var t=0!==(m&1<<x);m|=1<<x;var w=b[r+1];var z=this.vd[x].indexOf(w);-1!==z||t||this.Kb(a,x,d,511);var y=1;"-"===w&&(y=0,r+=1,w=b[r+1],z=this.vd[x].indexOf(w));-1!==z||"0"<=
w&&"9">=w||" "===w||(this.D=(d?"S":"B")+x+w+" not valid",r=f);t&&(t=0,0===(n[x]&8192)&&(t=1),t!==y&&(this.D=(d?"S":"B")+x+" can not have minus and non-minus",z=-1,r=f));for(;-1!==z;)0!==(n[x]&1<<z)?(this.D="Duplicate "+x+this.vd[x][z],z=-1,r=f):(this.Rm(a,x,d,w,y),n[x]|=1<<z,y||(n[x]|=8192),r+=1,w=b[r+1],z=this.vd[x].indexOf(w))}else this.D="Missing digit prefix"}for(r=0;9>r;r+=1)0!==(m&1<<r)&&(p+=this.Gh(r,n));return p};h.prototype.Kh=function(a,b){var d;for(d=0;512>d;d+=1)a[d]=0!==(b&1<<(d&7))?
1:0!==(d&16)?1:0};h.prototype.Jd=function(a,b,d){var f=12,m=8191,n=a.uk,p=a.Bn;switch(a.je){case this.pp:f=3;m=this.Lo;break;case this.qp:f=9;m=this.sp;break;case this.br:f=6;m=this.Qo;break;case this.cr:f=6,m=this.rp}b.fill(0);d&&d.fill(0);if(0!==(n&1))if(0!==(p&1<<f)){n=~n;p=~p;for(a=0;a<=f;a+=1)p&1<<f-a&&this.da(b,a,!1,m);for(a=0;a<=f;a+=1)n&1<<f-a&&this.da(b,a,!0,m);d.set(b)}else{for(a=0;a<=f;a+=1)~n&1<<a&&this.da(d,a,!1,m);for(a=0;a<=f;a+=1)~p&1<<a&&this.da(d,a,!0,m);for(a=0;a<=f;a+=1)p&1<<f-
a&&this.da(b,a,!1,m);for(a=0;a<=f;a+=1)n&1<<f-a&&this.da(b,a,!0,m);this.oc=!0}else{for(a=0;a<=f;a+=1)0!==(n&1<<a)&&this.da(b,a,!1,m);for(a=0;a<=f;a+=1)0!==(p&1<<a)&&this.da(b,a,!0,m);d&&d.set(b)}};h.prototype.xi=function(a,b,d,f,m){var n=this.Vd,p="",r="";switch(m){case this.pp:n=this.Ud;break;case this.qp:n=this.Wd;break;case this.br:n=this.Bg;break;case this.cr:n=this.Gg}for(m=a.uk=0;m<b.length;m+=1){var x=n.indexOf(b[m]);a.uk|=1<<x}for(m=a.Bn=0;m<d.length;m+=1)x=n.indexOf(d[m]),a.Bn|=1<<x;for(m=
0;m<n.length;m+=1)0!==(a.uk&1<<m)&&(p+=n[m]);for(m=0;m<n.length;m+=1)0!==(a.Bn&1<<m)&&(r+=n[m]);return-1!==f?r+"/"+p+"/"+f:"B"+p+"/S"+r};h.prototype.vi=function(a,b,d,f,m){var n=0,p=this.hn;var r=(1<<this.gb+1)/6|0;var x=new Uint8Array(512),t=a.la,w=a.L,z=a.T;var y=a.Vg;var C=a.P,c=a.je,l=a.Oe,e=a.i;if(a.Ga)d=this.Ke;else if(t||w)for(d=t?"M":"2PCA4,",y=0;16>y;y+=1)d+=m[y],15>y&&(d+=",");else if(C)d=this.xi(a,b,d,e,c);else{a=511;z?a=y===this.$r?114:254:l&&(a=186);x.fill(0);m.fill(0);for(y=0;y<x.length;y+=
1)p[y]=z?y:(y&448)>>6|y&56|(y&7)<<6;if(""!==f){d="MAP";for(y=0;y<r;y+=1)d+=f[y],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[y]),x[n]=b>>5,n+=1,x[n]=b>>4&1,n+=1,x[n]=b>>3&1,n+=1,x[n]=b>>2&1,n+=1,x[n]=b>>1&1,n+=1,x[n]=b&1,n+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[y]);x[n]=b>>5;x[n+1]=b>>4&1;d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(y=0;512>y;y+=1){f=0;r=this.gb;for(n=8;0<=n;--n)0!==(a&
1<<n)&&(0!==(y&1<<n)&&(f|=1<<r),--r);m[p[y]]=x[f]}-1!==e&&(d+="/"+e)}else l?(n=this.yg(m,b,!1,a),m=this.yg(m,d,!0,a)):z?(n=this.wg(m,b,!1,a),m=this.wg(m,d,!0,a)):(n=this.xg(m,b,!1),m=this.xg(m,d,!0)),d=-1!==e?m+"/"+n+"/"+e:"B"+n+"/S"+m}return d};h.prototype.rf=function(a){var b=a,d=0;if(-1!==a.indexOf(" "))for(b="";d<a.length;)" "!==a[d]&&(b+=a[d]),d+=1;return b};h.prototype.qk=function(a,b,d){for(var f=!0,m=0,n,p=1;p<b.length&&f;)n="0123456789".indexOf(b[p]),-1!==n?m=10*m+n:(this.D="Illegal character in Wolfram rule",
f=!1),p+=1;f&&(0>m||254<m?(this.D="Wolfram rule number must be 0-254",f=!1):0!==(m&1)?(this.D="Wolfram rule number must be even",f=!1):(this.Kh(d,m),a.ke=m,a.I="W"+m));return f};h.prototype.pi=function(a,b){if(""===b)if(a.T)a.I+="H",a.Vg===this.$r&&(a.I+="T");else if(a.Oe)a.I+="V";else if(a.P)switch(a.je){case this.Hn:a.I+=this.Pt.toUpperCase();break;case this.pp:a.I+=this.Ot.toUpperCase();break;case this.qp:a.I+=this.Qt.toUpperCase();break;case this.br:a.I+=this.Fx.toUpperCase();break;case this.cr:a.I+=
this.Gx.toUpperCase()}b=AliasManager.Sr(a.I);if(null===b&&a.te&&0===a.Lj){b="R"+a.dd+",C"+a.i+",M1,S"+a.ne+".."+a.Af+",B"+a.Ee+".."+a.lg+",N";switch(a.th){case this.ce:b+="M";break;case this.Nf:b+="N";break;case this.zk:b+="C";break;case this.xj:b+="+";break;case this.Xj:b+="X";break;case this.ak:b+="*";break;case this.Gk:b+="2";break;case this.Li:b+="H";break;case this.vj:b+="B";break;case this.pj:b+="D";break;case this.Gj:b+="#";break;case 10:b+="@"+a.Ne+a.lh;break;case this.oi:b+="3";break;case this.Uh:b+=
"A";break;case this.fj:b+="L";break;case this.Ii:b+="G";break;case 15:b+="W"+a.Ne+a.lh;break;case this.jh:b+="F"+a.jz(a.dd)}b=AliasManager.Sr(b)}a.Ic&&(a.I+="History");a.V&&(a.I+="Super");-1!==a.tc&&(a.I+=":"+"ptkcs"[a.tc].toUpperCase(),a.I+=a.mf,a.Tr&&(a.I+="+"+a.Tr),a.Yz&&(a.I+="*"),a.Ug!==a.mf||a.Tp||a.Lv)&&(a.I+=","+a.Ug,a.Tp&&(a.I+="+"+a.Tp),a.Lv&&(a.I+="*"));null!==b&&(""===b&&(b="Life"),a.Ic&&(b+="History"),a.V&&(b+="Super"),a.mg=b)};h.prototype.vp=function(a,b){var d=86,f=a.length;f>=d?this.gb=
8:(d=this.uc,f>=d?(this.gb=6,b.T=!0):(d=this.Dc,f>=d?(this.gb=4,b.Oe=!0):d=-1));if(0<=d)for(b=0;b<d;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(d=-1);return d};h.prototype.B=function(a,b,d,f,m,n){var p=0,r=b.length,x=a.substr(this.index,r),t=n.dd;if(x!==b)","===b[0]&&(","===x[0]&&(x=x.substr(1)),b=b.substr(1)),this.D="LtL expected '"+b.toUpperCase()+"' got '"+x.toUpperCase()+"'",this.index=-1;else if(","===b[0]&&(b=b.substr(1)),this.index+=r,this.index<
a.length?(r=a[this.index],x=r.charCodeAt(0)):(r="",x=-1),"n"===b)switch(r){case "m":this.index+=1;p=this.ce;break;case "n":this.index+=1;p=this.Nf;break;case "c":this.index+=1;p=this.zk;break;case "+":this.index+=1;p=this.xj;break;case "x":this.index+=1;p=this.Xj;break;case "*":this.index+=1;p=this.ak;break;case "2":this.index+=1;p=this.Gk;break;case "h":this.index+=1;p=this.Li;break;case "b":this.index+=1;p=this.vj;break;case "d":this.index+=1;p=this.pj;break;case "#":this.index+=1;p=this.Gj;break;
case "@":this.index+=1;p=this.gf(a,t,"LtL",n);-1===p&&(this.index=-1);break;case "3":this.index+=1;p=this.oi;break;case "a":this.index+=1;p=this.Uh;break;case "l":this.index+=1;p=this.fj;break;case "g":this.index+=1;p=this.Ii;break;case "w":this.index+=1;p=this.qf(a,t,"LtL",n);-1===p&&(this.index=-1);break;case "f":this.index+=1;p=this.cf(a,t,"LtL",n);-1===p&&(this.index=-1);break;default:this.D="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+r.toUpperCase()+"'",this.index=-1}else if(48>x||57<x)this.D="LtL '"+
m+b.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=x&&57>=x;)p=10*p+(x-48),this.index+=1,this.index<a.length?x=a[this.index].charCodeAt(0):x=-1;-1!==d&&p<d&&(this.D="LtL '"+m+b.toUpperCase()+p+"' < "+d,this.index=-1);-1!==f&&p>f&&(this.D="LtL '"+m+b.toUpperCase()+p+"' > "+f,this.index=-1)}return p};h.prototype.Gs=function(a,b,d){var f=0;switch(b){case this.ce:f=(2*a+1)*(2*a+1)-1;break;case this.Nf:f=2*a*(a+1);break;case this.zk:d=0;var m=a*a+a;for(b=-a;b<=a;b+=1){for(f=0;(f+1)*(f+1)+
b*b<=m;)f+=1;d+=2*f+1}f=d-1;break;case this.xj:f=4*a;break;case this.Xj:f=4*a;break;case this.ak:f=8*a;break;case this.Gk:d=0;m=a*a;for(b=-a;b<=a;b+=1){for(f=0;(f+1)*(f+1)+b*b<=m;)f+=1;d+=2*f+1}f=d-1;break;case this.Li:f=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.vj:f=((2*a+1)*(2*a+1)-1)/2;break;case this.pj:f=((2*a+1)*(2*a+1)-1)/2;break;case this.Gj:f=8*a;break;case 10:f=d;break;case this.oi:f=3*a;break;case this.Uh:f=6*a;break;case this.fj:f=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.Ii:f=(a+1)*(a+
1)*(a+1)*(a+1);break;case 15:f=d;break;case this.jh:f=8}return f};h.prototype.jj=function(a,b){var d=!1;this.index=0;var f=this.B(b,"r",1,500,"",a);-1!==this.index&&(a.dd=f,f=this.B(b,",c",0,256,"",a),-1!==this.index&&(2>f&&(f=2),a.i=f,f=this.B(b,",m",0,1,"",a),-1!==this.index&&(a.Lj=f,f=this.B(b,",s",0,-1,"",a),-1!==this.index&&(a.ne=f,f=this.B(b,"..",a.ne,-1,"S",a),-1!==this.index&&(a.Af=f,f=this.B(b,",b",0,-1,"",a),-1!==this.index&&(a.Ee=f,f=this.B(b,"..",a.Ee,-1,"B",a),-1!==this.index&&(a.lg=
f,f=this.B(b,",n",-1,-1,"",a),-1!==this.index&&(a.th=f,d=!0))))))));d&&(this.index!==b.length?(d=!1,this.D="LtL invalid characters after rule"):(b=this.Gs(a.dd,a.th,a.Fi),b+=a.Lj,a.Ee>b&&(d=!1,this.D="LtL 'B"+a.Ee+"..' > "+b),a.lg>b&&(d=!1,this.D="LtL 'B.."+a.lg+"' > "+b),a.ne>b&&(d=!1,this.D="LtL 'S"+a.ne+"..' > "+b),a.Af>b&&(d=!1,this.D="LtL 'S.."+a.Af+"' > "+b)));return d};h.prototype.lj=function(a,b){var d=!1;this.index=0;a.i=2;a.Lj=1;a.th=this.ce;var f=this.B(b,"",1,500,"",a);-1!==this.index&&
(a.dd=f,f=this.B(b,",",0,-1,"",a),-1!==this.index&&(a.Ee=f,f=this.B(b,",",a.Ee,-1,"B",a),-1!==this.index&&(a.lg=f,f=this.B(b,",",0,-1,"",a),-1!==this.index&&(a.ne=f,f=this.B(b,",",a.ne,-1,"S",a),-1!==this.index&&(a.Af=f,d=!0)))));d&&(this.index!==b.length?(d=!1,this.D="LtL invalid characters after rule"):(b=(2*a.dd+1)*(2*a.dd+1),a.Ee>b&&(d=!1,this.D="LtL 'B"+a.Ee+"..' > "+b),a.lg>b&&(d=!1,this.D="LtL 'B.."+a.lg+"' > "+b),a.ne>b&&(d=!1,this.D="LtL 'S"+a.ne+"..' > "+b),a.Af>b&&(d=!1,this.D="LtL 'S.."+
a.Af+"' > "+b)));return d};h.prototype.kj=function(a,b){var d=!1;this.index=0;-1===a.i&&(a.i=2);a.Lj=1;a.th=this.ce;var f=this.B(b,"r",1,500,"",a);-1!==this.index&&(a.dd=f,f=this.B(b,"b",0,-1,"",a),-1!==this.index&&(a.Ee=f,f=this.B(b,"t",a.Ee,-1,"B",a),-1!==this.index&&(a.lg=f,f=this.B(b,"s",0,-1,"",a),-1!==this.index&&(a.ne=f,f=this.B(b,"t",a.ne,-1,"S",a),-1!==this.index&&(a.Af=f,d=!0)))));d&&(this.index!==b.length?(d=!1,this.D="LtL invalid characters after rule"):(b=(2*a.dd+1)*(2*a.dd+1),a.Ee>b&&
(d=!1,this.D="LtL 'B"+a.Ee+"' > "+b),a.lg>b&&(d=!1,this.D="LtL 'B..T"+a.lg+"' > "+b),a.ne>b&&(d=!1,this.D="LtL 'S"+a.ne+"..' > "+b),a.Af>b&&(d=!1,this.D="LtL 'S..T"+a.Af+"' > "+b)));return d};h.prototype.hf=function(a,b,d,f,m){var n=!1,p,r="HROT.",x,t=0;if(this.index+d>a.length)this.D="HROT '"+b+"' needs "+d+" hex digits";else{for(p=x=0;x<d&&-1!==p;)p="0123456789abcdef".indexOf(a[this.index]),-1!==p&&(this.index+=1,x+=1);if(-1===p)this.D="HROT '"+b+"' expected hex got '"+a[this.index]+"'";else{"B"===
b?r+="births":(r+="survivals",t=1);m=m.R(Uint8,(d<<2)+1+t,r);n=0;m[n]=0;n+=1;--x;"S"===b&&(m[n]=0,n+=1);for(;0<=x;)p="0123456789abcdef".indexOf(a[this.index-d+x]),--x,m[n]=p&1,n+=1,m[n]=p>>1&1,n+=1,m[n]=p>>2&1,n+=1,m[n]=p>>3&1,n+=1;"B"===b?f.$e=m:f.fg=m;n=!0}}return n};h.prototype.Ka=function(a,b){var d=-1;this.index+=1;if(this.index<a.length){var f=a[this.index].charCodeAt(0);if(48>f||57<f)this.D="HROT '"+b+"' needs a number";else for(d=f-48,this.index+=1,f=-1,this.index<a.length&&(f=a[this.index].charCodeAt(0));48<=
f&&57>=f;)d=10*d+(f-48),this.index+=1,this.index<a.length?f=a[this.index].charCodeAt(0):f=-1}else this.D="HROT '"+b+"' needs a number";return d};h.prototype.De=function(a,b,d,f,m){var n=!0;m&&"S"===d&&(f+=1);var p=this.Ka(a,d);-1===p&&(this.D="");for(;n&&-1!==p;){var r=-1;this.index<a.length&&"-"===a[this.index]&&(r=this.Ka(a,d),-1===r&&(this.D="HROT '"+d+p+"-' needs a number",n=!1));if(n&&(-1===r&&(r=p),p>r&&(this.D="HROT '"+d+p+"-"+r+"' wrong order",n=!1),n)){"S"===d?(this.ad=r,m&&(p+=1,r+=1)):
this.Oc=r;p>f&&(p=f);for(r>f&&(r=f);p<=r;p+=1)b[p]=1;p=-1;this.index<a.length&&","===a[this.index]&&(p=this.Ka(a,d),-1===p&&(--this.index,this.D=""))}}return n};h.prototype.qf=function(a,b,d,f){var m=this.index,n=a.length,p=(2*b+1)*(2*b+1),r=p+p,x=0,t=[],w=[],z=0,y=15;for(f.lh="";m<n&&-1!=="0123456789abcdef".indexOf(a[m]);)m+=1;b=m-this.index;if(b===p)for(;this.index<m;)p="0123456789abcdef".indexOf(a[this.index]),0!==(p&8)&&(p=-(p&7)),t[t.length]=p,this.index+=1;else if(b===r)for(;this.index<m;)p=
"0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,p|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(p&128)&&(p=-(p&127)),t[t.length]=p;else this.D=d+" 'NW' needs "+String(p)+" or "+String(r)+" hex digits",y=-1;-1!==y&&this.index<n&&("h"===a[this.index]?(f.lh="H",this.index+=1):"l"===a[this.index]&&(f.lh="L",this.index+=1));if(-1!==y)if(","===a[this.index]){for(m=this.index+=1;m<n&&-1!=="0123456789abcdef".indexOf(a[m]);)m+=1;x=m-this.index;if(x!==f.i)this.D=d+" 'NW' needs "+
String(f.i)+" state weights",y=-1;else for(m=0;m<f.i;m+=1)p="0123456789abcdef".indexOf(a[this.index]),this.index+=1,w[w.length]=p,p>z&&(z=p)}else z=1;if(-1!==y){for(d=p=0;d<t.length;d+=1)0<t[d]&&(p+=t[d]*z);f.Ne=0<w.length?a.substr(this.index-(b+x+1),b+x+1).toLowerCase():a.substr(this.index-b,b).toLowerCase();f.Fi=p;f.zf=t;f.Ih=w}-1===y&&(f.Ne="",f.Fi=-1,f.zf=null,f.Ih=null);return y};h.prototype.jf=function(a,b){for(var d=0,f,m=!1,n=!1;!n&&this.index<b;)f=a.charCodeAt(this.index),48<=f&&57>=f?(m=
!0,d=10*d+(f-48),this.index+=1):n=!0;m||(d=-1);return d};h.prototype.cf=function(a,b,d,f){var m=a.length,n=-1,p=-1,r=-1;if(this.index>=m)return f.Vf=b,f.Wf=b,r=this.jh;var x=a[this.index].toUpperCase();for(this.index+=1;"C"===x||"E"===x;){if("C"===x)if(-1===n){if(n=this.jf(a,m),-1===n&&(n=b),1>n||500<n)return this.D=d+" 'NF' invalid corner range",r}else return this.D=d+" 'NF' duplicate 'C'",r;else if(-1===p){if(p=this.jf(a,m),-1===p&&(p=b),1>p||500<p)return this.D=d+" 'NF' invalid edge range",r}else return this.D=
d+" 'NF' duplicate 'E'",r;this.index<m?(x=a[this.index].toUpperCase(),this.index+=1):x=""}""!==x&&--this.index;f.Vf=-1===n?b:n;f.Wf=-1===p?b:p;return r=this.jh};h.prototype.gf=function(a,b,d,f){var m=this.index,n=a.length,p=0;b=((2*b+1)*(2*b+1)-1)/4;var r=0,x=10;for(f.lh="";m<n&&p<b&&-1!==x;){var t="0123456789abcdef".indexOf(a[m]);0<=t?(m+=1,p+=1,r+=this.Id(t)):x=-1}p!==b&&(x=-1);-1===x?(this.D=d+" 'N@' needs "+String(b)+" hex digits",f.Ne="",f.Fi=-1):(f.Ne=a.substr(this.index,p).toLowerCase(),f.Fi=
r,this.index+=p,m<n&&("h"===a[m]?(f.lh="H",this.index+=1):"l"===a[m]&&(f.lh="L",this.index+=1)));return x};h.prototype.cn=function(a,b){var d=a.dd,f;a.fe=d;a.vb=a.th;d=this.Gs(d,a.th,a.Fi);d+=a.Lj;a.fg=b.R(Uint8,d+2,"HROT.survivals");a.$e=b.R(Uint8,d+1,"HROT.births");for(f=a.ne;f<=a.Af;f+=1)a.fg[f]=1;for(f=a.Ee;f<=a.lg;f+=1)a.$e[f]=1;if(this.oc){a.jr=b.R(Uint8,d+2,"HROT.altSurvivals");a.ir=b.R(Uint8,d+1,"HROT.altBirths");for(f=a.qE;f<=a.pE;f+=1)a.jr[f]=1;for(f=a.oE;f<=a.nE;f+=1)a.ir[f]=1}a.pa=!0};
h.prototype.yi=function(a,b,d){var f=!1,m=0,n=!0,p=b.indexOf(",n");this.ad=this.Oc=this.index=0;if("r"!==b[this.index])this.D="HROT expected 'R' got '"+b[this.index].toUpperCase()+"'";else{var r=this.Ka(b,"R");-1!==r&&(1>r?this.D="HROT 'R' < 1":500<r?this.D="HROT 'R' > 500":(a.fe=r,f=!0))}f&&(f=!1,this.index<b.length?","!==b[this.index]?this.D="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"c"!==b[this.index]?this.D="HROT expected 'C' got "+b[this.index].toUpperCase():
(r=this.Ka(b,"C"),-1!==r&&(0>r?this.D="HROT 'C"+r+"' < 0":256<r?this.D="HROT 'C"+r+"' > 256":(2>r&&(r=2),a.i=r,f=!0))):this.D="HROT expected 'C'"):this.D="HROT expected ','");if(f){r=this.index;this.index=p;n=!0;a.vb=this.ce;if(-1!==this.index&&this.index<b.length&&","===b[this.index]){f=!1;this.index+=1;if(this.index<b.length)if("n"===b[this.index])if(this.index+=1,this.index<b.length)switch(b[this.index]){case "m":a.vb=this.ce;this.index+=1;f=!0;break;case "n":a.vb=this.Nf;this.index+=1;f=!0;break;
case "c":a.vb=this.zk;this.index+=1;f=!0;break;case "+":a.vb=this.xj;this.index+=1;f=!0;break;case "x":a.vb=this.Xj;this.index+=1;f=!0;break;case "*":a.vb=this.ak;this.index+=1;f=!0;break;case "2":a.vb=this.Gk;this.index+=1;f=!0;break;case "h":a.vb=this.Li;this.index+=1;f=!0;break;case "b":a.vb=this.vj;this.index+=1;f=!0;break;case "d":a.vb=this.pj;this.index+=1;f=!0;break;case "#":a.vb=this.Gj;this.index+=1;f=!0;break;case "@":this.index+=1;a.vb=this.gf(b,a.fe,"HROT",a);-1!==a.vb&&(f=!0);break;case "3":a.vb=
this.oi;this.index+=1;f=!0;break;case "a":a.vb=this.Uh;this.index+=1;f=!0;break;case "l":a.vb=this.fj;this.index+=1;f=!0;break;case "g":a.vb=this.Ii;n=!1;this.index+=1;f=!0;break;case "w":this.index+=1;a.vb=this.qf(b,a.fe,"HROT",a);-1!==a.vb&&(n=!1,f=!0);break;case "f":this.index+=1;a.vb=this.cf(b,a.fe,"HROT",a);-1!==a.vb&&(f=!0);break;default:this.D="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.index].toUpperCase()+"'"}else this.D="HROT 'N' needs a neighborhood";else this.D="HROT expected 'N' got '"+
b[this.index].toUpperCase()+"'";else this.D="HROT expected 'N'";p=this.index}m=this.Gs(a.fe,a.vb,a.Fi);this.index=r}f&&(f=!1,this.index<b.length?","!==b[this.index]?this.D="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"s"!==b[this.index]?this.D="HROT expected 'S' got "+b[this.index].toUpperCase():(a.fg=d.R(Uint8,m+2,"HROT.survivals"),f=this.De(b,a.fg,"S",m,n)):this.D="HROT expected 'S'"):this.D="HROT expected ','");f&&(f=!1,this.index<b.length?","!==b[this.index]?
this.D="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"b"!==b[this.index]?this.D="HROT expected 'B' got "+b[this.index].toUpperCase():(a.$e=d.R(Uint8,m+1,"HROT.births"),f=this.De(b,a.$e,"B",m,n)):this.D="HROT expected 'B'"):this.D="HROT expected ','");f&&(-1!==p&&(this.index=p),this.index!==b.length&&(f=!1,this.D="HROT invalid characters after rule"),this.ad>m&&(f=!1,this.D="HROT 'S"+this.ad+"' > "+m),f&&this.Oc>m&&(f=!1,this.D="HROT 'B"+this.Oc+"' > "+m));
f&&(a.pa=!0);return f};h.prototype.Qh=function(a,b,d){var f=!1,m=0;this.index=0;-1===a.i&&(a.i=2);if("r"!==b[this.index])this.D="HROT expected 'R' got '"+b[this.index].toUpperCase()+"'";else{var n=-1;this.index+=1;this.index<b.length&&(n=b[this.index].charCodeAt(0));if(48>n||57<n)this.D="HROT 'R' needs a number";else{var p=n-48;this.index+=1;n=-1;for(this.index<b.length&&(n=b[this.index].charCodeAt(0));48<=n&&57>=n;)p=10*p+(n-48),this.index+=1,this.index<b.length?n=b[this.index].charCodeAt(0):n=-1;
1>p?this.D="HROT 'R' < 1":500<p?this.D="HROT 'R' > 500":(a.fe=p,f=!0,m=p*(p+1))}}f&&(f=!1,this.index<b.length?"b"!==b[this.index]?this.D="HROT expected 'B' got "+b[this.index].toUpperCase()+"'":(this.index+=1,f=this.hf(b,"B",m,a,d)):this.D="HROT expected 'B'");f&&(f=!1,this.index<b.length?"s"!==b[this.index]?this.D="HROT expected 'S' got "+b[this.index].toUpperCase()+"'":(this.index+=1,f=this.hf(b,"S",m,a,d)):this.D="HROT expected 'S'");f&&this.index<b.length&&"z"===b[this.index]&&(a.fg[1]=1,this.index+=
1);f&&(this.index!==b.length?(f=!1,this.D="HROT invalid characters after rule"):(a.vb=this.ce,a.pa=!0));return f};h.prototype.oe=function(a,b){for(var d=a.length,f=-1,m="",n=0;n<d;)1===a[n]?-1===f&&(f=n):-1!==f&&(""!==m&&(m+=","),m+=f+b,n-1!==f&&(m+="-"+(n-1+b)),f=-1),n+=1;-1!==f&&(""!==m&&(m+=","),m+=f+b,n-1!==f&&(m+="-"+(n-1+b)));return m};h.prototype.ab=function(a,b,d){var f="",m=!1;var n=AliasManager.Vz(b);null!==n&&(f=AliasManager.Sr(n),b=n);n=b.indexOf("|");if(-1===n)(m=this.Sd(a,b,d,this.Vj))&&
a.P&&this.Jd(a,this.vC,this.rC);else if(-1===b.substr(n+1).indexOf("|")){if(m=this.Sd(a,b.substr(0,n),d,this.qC)){var p=new g(a.name,this);p.B(a);a.zN();if(m=this.Sd(a,b.substr(n+1),d,this.Vj))if(this.D=a.IL(p),""===this.D)if(a.pa&&0!==a.$e[0]||!a.P&&(this.Vj[0]||this.qC[0])||a.P&&0!==(a.uk&1)||0!==(p.uk&1))this.D="Alternate not supported with B0",m=!1;else{a.P&&(this.Jd(p,this.rC,null),this.Jd(a,this.vC,null));if(""!==f)a.mg=f;else if(""!==a.mg||""!==p.mg)""===a.mg&&(a.mg=a.I),""===p.mg&&(p.mg=p.I),
a.mg=p.mg+"|"+a.mg;a.I=p.I+"|"+a.I;f=AliasManager.Sr(a.I);null!==f&&(a.mg=f);(a.pa||a.te)&&a.LJ(p,d);this.oc=!0}else m=!1}}else this.D="Only one alternate allowed";return m};h.prototype.oj=function(a,b){var d=!0,f=a.length,m=0;if("2pca4"!==a.substr(0,5))this.D="PCA rule must start with 2PCA4",d=!1;else{var n=5;var p=-1;if(","!==a[n])d=!0;else for(n+=1;d&&16>m&&n<f;)if(n<f){var r=a[n];n+=1;"0"<=r&&"9">=r?(-1===p&&(p=0),p=10*p+r.charCodeAt(0)-48):","===r?15<p?(this.D="Value must be from 0 to 15",d=
!1):(b[m]=p,m+=1,p=-1):(this.D="Illegal character found in rule",d=!1)}d&&(-1===p?(this.D=16===m?"Extra characters found after rule":"Need 16 values",d=!1):15<p?(this.D="Value must be from 0 to 15",d=!1):(b[m]=p,16!==m+1&&(this.D="Need 16 values",d=!1)))}return d};h.prototype.mj=function(a,b){var d=!0,f=0,m=a.length,n,p=0;if("m"!==a[f])this.D="Margolus rule must start with M",d=!1;else{f+=1;"s,d"===a.substr(f,f+2)&&(f+=3);for(n=-1;d&&16>p&&f<m;)if(f<m){var r=a[f];f+=1;"0"<=r&&"9">=r?(-1===n&&(n=0),
n=10*n+r.charCodeAt(0)-48):","===r||";"===r?15<n?(this.D="Value must be from 0 to 15",d=!1):(b[p]=n,p+=1,n=-1):(this.D="Illegal character found in rule",d=!1)}d&&(-1===n?(this.D=16===p?"Extra characters found after rule":"Need 16 values",d=!1):15<n?(this.D="Value must be from 0 to 15",d=!1):(b[p]=n,16!==p+1&&(this.D="Need 16 values",d=!1)))}return d};h.prototype.Sd=function(a,b,d,f){var m=!1,n=null,p=null,r=null,x="012345678ceaiknjqrytwz-";var t=this.bA.length;var w=this.Rv.length;var z=this.Pt.length;
var y=this.Ot.length,C=this.Qt.length;var c=this.Fx.length;var l=this.Gx.length,e=this.Ox.length,v="";f[0]=0;var A=AliasManager.Vz(b);null!==A&&(""===b&&(a.I="Life"),b=A);if("map"===b.substr(0,3).toLowerCase()){v=b.substr(3);var B=v.indexOf("/");-1===B?"=="===v.substr(-2)&&(v=v.substr(0,v.length-2)):"=="===v.substr(B-2,2)&&(v=v.substr(0,B-2)+v.substr(B));b=this.vp(v,a);if(0<=b)if(m=!0,r=v.substr(b),v=v.substr(0,b),"/"===r[0]){A=1;a.i=0;A<r.length&&("g"===r[A].toLowerCase()||"c"===r[A].toLowerCase())&&
(A+=1);for(B=0;A<r.length&&-1!==B;)B="0123456789".indexOf(r[A]),-1!==B?a.i=10*a.i+B:(this.D="Illegal character in generations number",a.i=-1,m=!1),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.D="Generations number must be 2-256",a.i=-1,m=!1)}else""!==r&&(A=r.length,this.D="MAP length must be "+this.Dc+", "+this.uc+" or 86 not "+(A+b),m=!1);else this.D=86===v.length||v.length===this.uc||v.length===this.Dc?"MAP contains illegal base64 character":"MAP length must be "+this.Dc+", "+this.uc+" or 86 not "+v.length}else if(b=
b.toLowerCase(),b=this.rf(b),"2pca4"===b.substr(0,5)){if(m=this.oj(b,f))a.L=!0,a.i=16}else if("m"===b[0]){if(m=this.mj(b,f))a.la=!0}else{m=!0;if("g"===b[0]){A=1;for(B=a.i=0;A<b.length&&-1!==B;)B="0123456789".indexOf(b[A]),-1!==B&&(a.i=10*a.i+B,A+=1);1<A&&(2>a.i||256<a.i?(this.D="Generations number must be 2-256",a.i=-1,m=!1):(A<b.length&&"/"===b[A]&&(A+=1),b=b.substr(A),m=!0))}if(m&&(B=b.lastIndexOf("g"),-1!==B&&B!==b.length-1&&!(0<B&&"/"===b[B-1]))){A=B+1;for(B=a.i=0;A<b.length&&-1!==B;)B="0123456789".indexOf(b[A]),
-1!==B&&(a.i=10*a.i+B,A+=1);A===b.length?2>a.i||256<a.i?(this.D="Generations number must be 2-256",a.i=-1,m=!1):(b=b.substr(0,b.lastIndexOf("g")),m=!0):a.i=-1}if(m)if(m=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(m="r"===b[0]?-1!==b.indexOf(".")?this.jj(a,b):-1!==b.indexOf("t")&&-1===b.indexOf("n")?this.kj(a,b):-1!==b.indexOf(",")?this.yi(a,b,d):this.Qh(a,b,d):this.lj(a,b))if(a.pa){if(a.vb===this.jh&&(a.Vf>a.fe&&(a.fe=a.Vf),a.Wf>a.fe&&(a.fe=a.Wf)),r=15===a.vb||a.vb===this.Ii?0:-1,
a.I="R"+a.fe+",",a.I+="C"+a.i+",",a.I+="S"+this.oe(a.fg,r)+",",a.I+="B"+this.oe(a.$e,0),a.vb!==this.ce)switch(a.I+=",N",a.vb){case this.Nf:a.I+="N";break;case this.zk:a.I+="C";break;case this.xj:a.I+="+";break;case this.Xj:a.I+="X";break;case this.ak:a.I+="*";break;case this.Gk:a.I+="2";break;case this.Li:a.I+="H";break;case this.vj:a.I+="B";break;case this.pj:a.I+="D";break;case this.Gj:a.I+="#";break;case 10:a.I+="@"+a.Ne+a.lh;break;case this.oi:a.I+="3";break;case this.Uh:a.I+="A";break;case this.fj:a.I+=
"L";break;case this.Ii:a.I+="G";break;case 15:a.I+="W"+a.Ne+a.lh;break;case this.jh:a.I+="F"+a.jz(a.fe)}}else{a.th===this.jh&&(a.Vf>a.dd&&(a.dd=a.Vf),a.Wf>a.dd&&(a.dd=a.Wf));a.te=!0;a.I="R"+a.dd+",C"+a.i+",M"+a.Lj+",S"+a.ne+".."+a.Af+",B"+a.Ee+".."+a.lg+",N";switch(a.th){case this.ce:a.I+="M";break;case this.Nf:a.I+="N";break;case this.zk:a.I+="C";break;case this.xj:a.I+="+";break;case this.Xj:a.I+="X";break;case this.ak:a.I+="*";break;case this.Gk:a.I+="2";break;case this.Li:a.I+="H";break;case this.vj:a.I+=
"B";break;case this.pj:a.I+="D";break;case this.Gj:a.I+="#";break;case 10:a.I+="@"+a.Ne+a.lh;break;case this.oi:a.I+="3";break;case this.Uh:a.I+="A";break;case this.fj:a.I+="L";break;case this.Ii:a.I+="G";break;case 15:a.I+="W"+a.Ne+a.lh;break;case this.jh:a.I+="F"+a.jz(a.dd)}0===a.Lj&&(a.ne+=1,a.Af+=1)}}else if("w"===b[0])m=this.qk(a,b,f);else if(d=b.lastIndexOf(this.Pt),-1!==d&&d===b.length-z&&(a.P=!0,a.je=this.Hn,b=b.substr(0,b.length-z),x=this.Vd),d=b.lastIndexOf(this.Ot),-1!==d&&d===b.length-
y&&(a.P=!0,a.je=this.pp,b=b.substr(0,b.length-y),x=this.Ud),d=b.lastIndexOf(this.Qt),-1!==d&&d===b.length-C&&(a.P=!0,a.je=this.qp,b=b.substr(0,b.length-C),x=this.Wd),d=b.lastIndexOf(this.Fx),-1!==d&&d===b.length-c&&(a.P=!0,a.je=this.br,b=b.substr(0,b.length-c),x=this.Bg),d=b.lastIndexOf(this.Gx),-1!==d&&d===b.length-l&&(a.P=!0,a.je=this.cr,b=b.substr(0,b.length-l),x=this.Gg),c=b.lastIndexOf(this.bA),-1!==c&&c===b.length-t&&(a.T=!0,a.Vg=this.$r,b=b.substr(0,b.length-t),x=this.tp),c=b.lastIndexOf(this.Rv),
-1!==c&&c===b.length-w&&(a.T=!0,a.Vg=this.Xp,b=b.substr(0,b.length-w),x=this.Ag),c=b.lastIndexOf(this.Ox),-1!==c&&c===b.length-e&&(a.Oe=!0,b=b.substr(0,b.length-e),x=this.eh),t=b.indexOf("/"),-1===t&&(t=b.indexOf("_")),-1!==t&&(c=b.lastIndexOf("/"),-1===c&&(c=b.lastIndexOf("_")),c!==t&&(r=b.substring(c+1),b=b.substr(0,c),d=b.lastIndexOf(this.Pt),-1!==d&&d===b.length-z&&(a.P=!0,a.je=this.Hn,b=b.substr(0,b.length-z),x=this.Vd),d=b.lastIndexOf(this.Ot),-1!==d&&d===b.length-y&&(a.P=!0,a.je=this.pp,b=
b.substr(0,b.length-y),x=this.Ud),d=b.lastIndexOf(this.Qt),-1!==d&&d===b.length-C&&(a.P=!0,a.je=this.qp,b=b.substr(0,b.length-C),x=this.Wd),c=b.lastIndexOf(this.Rv),-1!==c&&c===b.length-w&&(a.T=!0,b=b.substr(0,b.length-w),x=this.Ag),c=b.lastIndexOf(this.Ox),-1!==c&&c===b.length-e&&(a.Oe=!0,b=b.substr(0,b.length-e),x=this.eh))),b===this.Ke)a.Ga=!0,a.i=256,m=!0;else{w=b.indexOf("b");z=b.indexOf("s");-1===t?0===w||0===z?-1===z?(n=b,p=""):-1===w?(p=b,n=""):w<z&&-1!==z?(n=b.substring(w+1,z),p=b.substring(z+
1)):(p=b.substring(z+1,w),n=b.substring(w+1)):this.D="Unsupported rule name":(-1===w&&-1!==z?w=t:-1!==w&&-1===z&&(z=t),w<z?(n=b.substring(0,t),p=b.substring(t+1)):(n=b.substring(t+1),p=b.substring(0,t)));-1!==w&&n&&"b"===n[0]&&(n=n.substring(1));-1!==z&&p&&"s"===p[0]&&(p=p.substring(1));if(null!==r)if(A=0,-1!==a.i)this.D="Generations defined twice",n=null;else{a.i=0;A<r.length&&("g"===r[A].toLowerCase()||"c"===r[A].toLowerCase())&&(A+=1);for(B=0;A<r.length&&-1!==B;)B="0123456789".indexOf(r[A]),-1!==
B?a.i=10*a.i+B:(this.D="Illegal character in generations number",a.i=-1,n=null),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.D="Generations number must be 2-256",a.i=-1,n=null)}if(null!==n&&null!==p){m=!0;for(A=0;A<n.length;)B=x.indexOf(n[A]),-1===B?(this.D="Illegal character in birth specification",m=!1,A=n.length):A+=1;if(m)for(A=0;A<p.length;)B=x.indexOf(p[A]),-1===B?(this.D="Illegal character in survival specification",m=!1,A=p.length):A+=1}}}m&&-1===a.ke&&!1===a.te&&!1===a.pa&&(a.I=this.vi(a,n,p,v,
f),""!==this.D&&(m=!1),2===a.i&&(a.i=-1));m?this.pi(a,v):(a.nP=!1,a.pa=!1,a.i=-1,a.Ga=!0);return m};h.prototype.Ip=function(a,b,d,f){var m=0,n=b.length-1,p=!1,r=!0,x,t=0,w=0,z=0,y=0,C=this.Zo;for(x=b[m];!p;){var c=x;x=b[m+1];var l=-1;switch(c){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":y=10*y+parseInt(c,10);break;case "b":l=0;break;case "o":l=1;break;case ".":l=0;break;case "z":l=7;a.Ic=!0;a.bq=!0;break;case "$":0===y&&(y=1);z+=y;y=0;w>t&&(t=w);w=0;break;
case "!":0===y&&(y=1);z+=y;y=0;w>t&&(t=w);p=!0;break;default:r=!1,"A"<=c&&"X">=c?(r=!0,l=c.charCodeAt(0)-64):"p"<=c&&"y">c?"A"<=x&&"X">=x?(r=!0,l=24*(c.charCodeAt(0)-111)+(x.charCodeAt(0)-64),m+=1,x=b[m+1]):"x"===c&&(r=!0,a.Ic=!0,a.bq=!0,l=3):"y"===c&&("A"<=x&&"O">=x?(r=!0,l=24*(c.charCodeAt(0)-111)+(x.charCodeAt(0)-64),m+=1,x=b[m+1]):(r=!0,a.Ic=!0,a.bq=!0,l=5))}if(0<=l)if(0===y&&(y=1),d||(0===C[l]&&(a.Os+=1),C[l]+=y,l>=a.Cd&&(a.Cd=l+1)),0<l&&d)for(;0<y;){a.sh[z][w]=-1===a.i?l:2===a.i?1===l?LifeConstants.Qa:
0:l<a.i?l:1;if(!a.Ic&&!a.V&&-1===a.i&&1===l||(a.Ic||a.V)&&l&1||-1!==a.i&&1===l)a.Qe[z][w>>4]|=1<<(~w&15);w+=1;--y}else w+=y,y=0;r||(" "===c||"\t"===c||"\n"===c?r=!0:(this.D="Illegal character in pattern: "+c,this.U=p=a.oo=!0));m+=1;m===n&&(p||(0===y&&(y=1),z+=y,y=0,w>t&&(t=w)),p=!0)}d||(0===t&&(z=t=1),a.width=t,a.height=z,16384<t||16384<z?a.Kg=!0:(a.Qe=Array.ka(Uint16,z,(t-1>>4)+1,0,f,"Pattern.lifeMap"),a.sh=Array.ka(Uint8,z,t,0,f,"Pattern.multiStateMap")),a.Pj="RLE");a.oo&&(m=-1);return m};h.prototype.Km=
function(a,b){var d=b.indexOf("\n");-1===d&&(d=b.length);a.uG=b.substring(0,d).trim()};h.prototype.hd=function(a,b,d){for(var f=!1;b<d&&!f;)" "===a[b]?b+=1:f=!0;return b};h.prototype.um=function(a){var b=a.indexOf("\n"),d=0,f=!1,m=!1,n=0;-1===b&&(b=a.length);for(;n<b&&!f;)"="===a[n]?f=!0:" "!==a[n]?f=!0:n+=1;if(f&&"="===a[n]){n=this.hd(a,n+1,b);n<b&&"-"===a[n]&&(m=!0,n+=1);for(f=!1;n<b&&!f;){var p="0123456789".indexOf(a[n]);-1!==p?(d=10*d+p,n+=1):f=!0}this.vl=!0;m&&(d=-d);this.Tz=d}};h.prototype.nf=
function(a,b){var d=a.indexOf("\n"),f=0,m=0,n=!1,p=!1,r=!1,x=0;-1===d&&(d=a.length);if(b){for(;x<d&&!r;)"="===a[x]?r=!0:" "!==a[x]?r=!0:x+=1;r&&"="===a[x]&&(x+=1)}else r=!0;if(r&&(x=this.hd(a,x,d),x<d)){"-"===a[x]&&(n=!0,x+=1);for(r=!1;x<d&&!r;)b="0123456789".indexOf(a[x]),-1!==b?(f=10*f+b,x+=1):r=!0;this.wh=!0;this.Jw=n?-f:f;x=this.hd(a,x,d);if(x<d&&","===a[x]&&(x=this.hd(a,x+1,d),x<d)){"-"===a[x]&&(p=!0,x+=1);for(r=!1;x<d&&!r;)b="0123456789".indexOf(a[x]),-1!==b?(m=10*m+b,x+=1):r=!0;this.Kw=p?-m:
m}}};h.prototype.ti=function(a){var b=a.indexOf("XRLE");0===b&&(b=a.indexOf("Pos"),-1!==b&&this.nf(a.substr(b+3),!0),b=a.indexOf("Gen"),-1!==b&&this.um(a.substr(b+3)))};h.prototype.Hm=function(a,b){var d=b.indexOf("\n");-1===d&&(d=b.length);a.name=b.substring(0,d).trim()};h.prototype.Hd=function(a,b,d,f){var m=d.indexOf("\n");-1===m&&(m=d.length);" "===d[0]&&(b+=" ");d=""+d.substring(0,m).trim();a.title+=d+" ";f?a.Lg+=b+d+"\n":a.Fc+=b+d+"\n";return m+1};h.prototype.G=function(a){var b=-1;a+=" ";var d=
"0123456789".indexOf(a[this.index]);if(-1!==d)for(b=0;-1!==d;)b=10*b+d,this.index+=1,d="0123456789".indexOf(a[this.index]);return b};h.prototype.lk=function(a,b){b=this.G(b);a.mf=b;a.Ug=b};h.prototype.nk=function(a,b){var d=this.G(b),f=-1,m=0,n=0;if(-1!==d){var p=b[this.index];if("-"===p||"+"===p)this.index+=1,m=this.G(b),-1===m?d=-1:"-"===p&&(m=-m);if(","===b[this.index])if(this.index+=1,f=this.G(b),-1===f)d=-1;else{if(p=b[this.index],"-"===p||"+"===p)this.index+=1,n=this.G(b),-1===n?d=-1:"-"===
p&&(n=-n)}else f=d}0!==m&&0!==n&&(d=-1);0===d&&0===f&&(d=-1);0===m&&0===n||0!==d&&0!==f||(d=-1);a.mf=d;a.Ug=f;a.Tr=m;a.Tp=n};h.prototype.ij=function(a,b){var d=this.G(b),f=-1,m=0,n=0,p=!1,r=!1;if(-1!==d){var x=b[this.index];"*"===x&&(p=!0,this.index+=1,x=b[this.index]);if("-"===x||"+"===x)m=this.G(b),-1===m?d=-1:"-"===x&&(m=-m),this.index+=1,x=b[this.index];if(","===x)if(this.index+=1,f=this.G(b),-1===f)d=-1;else{if(x=b[this.index],"*"===x&&(r=!0,this.index+=1,x=b[this.index]),"-"===x||"+"===x)this.index+=
1,n=this.G(b),-1===n?d=-1:"-"===x&&(n=-n)}else f=d}p&&r&&(d=-1);0!==m&&0!==n&&(d=-1);if(p&&0!==n||r&&0!==m)d=-1;if(0===d||0===f)d=-1;p||r||(r=!0);a.mf=d;a.Ug=f;a.Tr=m;a.Tp=n;a.Yz=p;a.Lv=r};h.prototype.Ph=function(a,b){var d=this.G(b),f=-1;-1!==d&&(","===b[this.index]?(this.index+=1,f=this.G(b),-1===f&&(d=-1)):f=d);a.mf=d;a.Ug=f};h.prototype.jk=function(a,b){var d=this.G(b),f=-1;-1!==d&&(","===b[this.index]?(this.index+=1,f=this.G(b),-1===f&&(d=-1)):f=d);0===d&&0===f&&(d=-1);a.mf=d;a.Ug=f};h.prototype.Mh=
function(a,b){var d=!1;b=this.rf(b).toLowerCase();if(""!==b){a.tc="ptkcs".indexOf(b[0]);if(-1!==a.tc)if(this.index=1,2!==a.tc&&-1!==b.indexOf("*"))a.mf=-1;else switch(a.tc){case 0:this.jk(a,b);break;case 1:this.nk(a,b);break;case 2:this.ij(a,b);break;case 3:this.Ph(a,b);break;case 4:this.lk(a,b);break;default:a.mf=-1}this.index!==b.length&&(a.mf=-1);-1!==a.mf?d=!0:(a.tc=-1,this.D="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return d};h.prototype.hc=function(a,b,d,f){var m,n,p=null;if(d[b]===
a){for(b+=1;b<f&&" "===d[b];)b+=1;for(b<f&&"="===d[b]&&(b+=1);b<f&&" "===d[b];)b+=1;a=0;var r=m=!1;"-"===d[b]&&(b+=1,r=!0);for(n=d[b].charCodeAt(0);b<f&&48<=n&&57>=n;)a=10*a+(n-48),b+=1,m=!0,b<f&&(n=d[b].charCodeAt(0));for(m&&(p=r?-a:a);b<f&&" "===d[b];)b+=1;for(b<f&&","===d[b]&&(b+=1);b<f&&" "===d[b];)b+=1}return[p,b]};h.prototype.kk=function(a,b){this.Xk=this.Yk=-1;var d=this.hc("x",0,a,b);var f=d[1];d[0]&&(this.Yk=d[0]);d=this.hc("y",f,a,b);f=d[1];d[0]&&(this.Xk=d[0]);d=this.hc("h",f,a,b);f=d[1];
d[0]&&(this.Jw=d[0],this.wh=!0);d=this.hc("v",f,a,b);d[0]&&(this.Kw=d[0])};h.prototype.Je=function(a,b,d,f){var m=b.indexOf("\n"),n=b.indexOf("rule"),p="";-1===m&&(m=b.length);this.kk(b,m);-1===n?d?p="":p=b.substring(1,m).trim():(p=b.substring(n+4,m).trim(),"="===p[0]&&(p=p.substring(1).trim()));a.Ps=p;a.I=p;d=p.indexOf(":");b=p.lastIndexOf(":");-1!==b&&d===b&&null!==AliasManager.Vz(a.I)&&(b=-1);-1!==b&&(this.Mh(a,p.substring(b+1))?p=p.substr(0,b).trim():b=-2);n=p.toLowerCase().lastIndexOf("history");
-1!==n&&n===p.length-7&&(a.Ic=!0,p=p.substr(0,p.length-7).trim());n=p.indexOf("|");-1!==n&&"history"===p.toLowerCase().substr(0,n).trim().substr(-7)&&(a.Ic=!0,d=p.substr(0,n).trim(),p=d.substr(0,d.length-7)+p.substr(n));a.Ic||(n=p.toLowerCase().lastIndexOf("super"),-1!==n&&n===p.length-5&&(a.V=!0,p=p.substr(0,p.length-5).trim()),n=p.indexOf("|"),-1!==n&&"super"===p.toLowerCase().substr(0,n).trim().substr(-5)&&(a.V=!0,d=p.substr(0,n).trim(),p=d.substr(0,d.length-5)+p.substr(n)));-2!==b&&this.ab(a,
p,f)?this.Fa=!0:this.tl=!0;return m+1};h.prototype.vE=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};h.prototype.Ie=function(a,b,d){var f=0,m=b.length,n=!1,p=!1;var r=this.Zo;var x=4;a.la=!1;a.Ga=!1;a.tc=-1;a.width=0;a.height=0;a.Kg=!1;a.Qe=null;a.sh=null;a.oo=!1;a.Ic=!1;a.V=!1;a.bq=!1;a.T=!1;a.ke=-1;a.Oe=!1;a.i=-1;a.te=!1;a.dd=-1;a.Lj=1;a.ne=-1;a.Af=-1;a.Ee=-1;
a.lg=-1;a.pa=!1;a.$e=null;a.fg=null;a.fe=-1;a.title="";a.Fc="";a.Lg="";a.Cd=2;a.Os=0;r.fill(0);for(b+=" ";f<m&&!a.oo;)switch(r=b[f],r){case "#":f+=1;r=b[f];f+=1;switch(r){case "N":this.Hm(a,b.substring(f));break;case "O":this.Km(a,b.substring(f));break;case "C":this.ti(b.substring(f));break;case "P":case "R":this.nf(b.substring(f),!1);break;case "\n":--f}f="\n"===r?f+this.Hd(a,"#",b.substring(f),n):f+this.Hd(a,"#"+r,b.substring(f),n);break;case "x":f+=this.Je(a,b.substring(f),!0,d);p=!0;break;case "\n":f+=
1;break;default:n?f+=this.Hd(a,"",b.substring(f),!0):(n=!0,r=this.Ip(a,b.substring(f),!1,d),-1!==r&&(f=a.Kg?f+r:f+this.Ip(a,b.substring(f),!0,d)))}p||(this.ab(a,"",d)?this.Fa=!0:this.tl=!0);a.te&&this.cn(a,d);!a.pa||a.vb!==this.Li&&a.vb!==this.oi&&a.vb!==this.Uh&&(15!==a.vb&&10!==a.vb||"H"!==a.lh)||(a.T=!0);!a.pa||a.vb!==this.fj&&(15!==a.vb&&10!==a.vb||"L"!==a.lh)||(a.P=!0);a.V&&(a.i=26);-1!==a.tc&&(a.pa&&(x=6*a.fe),a.te&&(x=6*a.dd),a.mf>=16384-x||a.Ug>=16384-x)&&(this.D="Bounded grid is too big",
this.Fa=!1,a.tc=-1);!a.te||""!==this.D||(1<a.tc&&(this.D="LtL only supports Plane or Torus",this.Fa=!1,a.tc=-1),0===a.Ee&&-1===a.tc&&(this.D="LtL does not support B0 unbounded",this.Fa=!1),0!==a.tc&&1!==a.tc)||0!==a.mf&&0!==a.Ug||(this.D="LtL bounded grid must be finite",this.Fa=!1,a.tc=-1);a.P&&-1!==a.tc&&(0!==(a.mf&1)?(this.D="Bounded grid width must be even",this.Fa=!1,a.tc=-1):0!==(a.Ug&1)&&(this.D="Bounded grid height must be even",this.Fa=!1,a.tc=-1));a.L&&0!==this.Vj[0]&&(this.D="PCA first value must be 0",
this.Vj[0]=0,this.Fa=!1);a.la&&(15===this.Vj[0]&&0!==this.Vj[15]?(this.D="Margolus last value must be 0 when first is 15",this.Fa=!1):0!==this.Vj[0]&&15!==this.Vj[0]&&(this.D="Margolus first value must be 0 or 15",this.Fa=!1));!a.pa||""!==this.D||(1<a.tc&&(this.D="HROT only supports Plane or Torus",this.Fa=!1,a.tc=-1),a.$e&&1===a.$e[0]&&-1===a.tc&&(this.D="HROT does not support B0 unbounded",this.Fa=!1),0!==a.tc&&1!==a.tc)||0!==a.mf&&0!==a.Ug||(this.D="HROT bounded grid must be finite",this.Fa=!1,
a.tc=-1);a.Ga&&a.Ic&&""===this.D&&(this.D="[R]History not valid with none rule",this.Fa=a.Ic=!1);a.Ga&&a.V&&""===this.D&&(this.D="[R]Super not valid with none rule",this.Fa=a.Ic=!1);a.P&&a.V&&""===this.D&&(this.D="[R]Super not valid with triangular rule",this.Fa=a.Ic=!1);-1===a.i||!a.Ic||a.te||a.pa||(this.D="[R]History not valid with Generations",this.Fa=a.Ic=!1);-1===a.i||!this.Vj[0]||a.te||a.pa||(this.D="Generations does not support B0",this.Fa=!1);a.te&&a.Ic&&(this.D="[R]History not valid with LtL",
this.Fa=a.Ic=!1);a.te&&a.V&&(this.D="[R]Super not valid with LtL",this.Fa=a.V=!1);a.pa&&a.Ic&&(this.D="[R]History not valid with HROT",this.Fa=a.Ic=!1);a.pa&&a.V&&(this.D="[R]Super not valid with HROT",this.Fa=a.V=!1);a.la&&a.Ic&&(this.D="[R]History not valid with Margolus",this.Fa=a.Ic=!1);a.la&&a.V&&(this.D="[R]Super not valid with Margolus",this.Fa=a.V=!1);a.la&&-1!==a.tc&&(-1!==a.Ug&&0!==(a.Ug&1)&&(this.D="Bounded grid height must be even",a.tc=-1,this.Fa=!1),-1!==a.mf&&0!==(a.mf&1)&&(this.D=
"Bounded grid width must be even",a.tc=-1,this.Fa=!1));this.Fa&&(a.bq?8<a.Cd&&(this.D="Illegal state in pattern for Niemiec",this.Fa=!1,this.U=!0):a.Ic?7<a.Cd&&(this.D="Illegal state in pattern for [R]History",this.Fa=!1,this.U=!0):a.V?26<a.Cd&&(this.D="Illegal state in pattern for [R]Super",this.Fa=!1,this.U=!0):-1!==a.i&&a.Cd>a.i&&(this.D=a.te?"Illegal state in pattern for LtL":a.pa?"Illegal state in pattern for HROT":a.L?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",
this.U=!0,this.Fa=!1))};h.prototype.zi=function(a,b){var d=!0,f=!1,m=0,n=0,p=0,r=0,x=0,t=!0,w=k.sC,z=null,y=[],C={},c=null;b.sn();var l=b.W();for(""!==l&&"@"===l[0]&&(l="");d&&""!==l;){for(;d&&!f&&""!==l;){if("/"===l[0])b.sn();else if("xpm"===l.toLowerCase())b.sn();else if('"'===l[0])l=l.substr(1),b.Dm(l)&&(m=b.Py(l),b.N()&&(n=b.O(),b.N()&&(p=b.O(),l=b.W(),'"'===l[l.length-1]&&(l=l.substr(0,l.length-1),b.Dm(l)&&(r=b.Py(l)))))),0<m&&0<n&&1<=r&&2>=r&&0===n%m?7!==m&&15!==m&&31!==m?f=!1:(f=!0,x=0,z=new Uint16Array(m*
n),c=new Uint32Array(p)):d=!1;else switch(l){case "circles":w=k.HN;C={};z=[];c=[];break;case "diamonds":w=k.IN;C={};z=[];c=[];break;case "hexagons":w=k.JN;C={};z=[];c=[];break;case "triangles":w=k.LN,C={},z=[],c=[]}for(;b.oq();)b.W();l=b.W();""!==l&&"@"===l[0]&&(l="")}for(;d&&f&&""!==l;){if("/"===l[0])b.sn();else{if('"'===l[0])if(d=!1,x<p){var e=l.substr(1);if(e.length===r&&void 0===C[e]&&(l=b.W(),"c"===l&&(l=b.W(),'"'===l[l.length-1]))){d=l.substr(0,l.length-1);d=parseInt(d,16);C[e]=x;c[x]=d;if(d>>
16!==(d>>8&255)||d>>16!==(d&255))t=!1;d=!0}}else{if(d=!1,'"'===l[l.length-1]&&l.length-2===m*r){l=l.substr(1,l.length-2);var v=0;for(d=!0;d&&v<m;)e=l[v*r],1<r&&(e+=l[v*r+1]),void 0===C[e]?d=!1:z[(x-p)*m+v]=C[e],v+=1}}else x===n+p?(f=!1,y[y.length]={Vy:w,width:m,height:n,oG:p,Tu:c.slice(),BL:z.slice(),sF:t},C={},z=null,t=!0,w=k.sC):d=!1,b.KH();x+=1}for(;b.oq();)b.W();l=b.W();""!==l&&"@"===l[0]&&(l="")}}d?x===n+p?(y[y.length]={Vy:w,width:m,height:n,oG:p,Tu:c.slice(),BL:z.slice(),sF:t},a.ge=y):a.ge=
null:a.ge=null};h.prototype.nj=function(a,b){var d=a.Cd,f=[],m=0,n,p=!1;b.sn();b.N()&&(m=b.O(),0<=m&&m<d&&(p=!0));for(;p;){p=!1;for(n="";!b.oq();)""===n?n=b.W():n+=" "+b.W();f[m]=n;b.sn();b.N()&&(m=b.O(),0<=m&&m<d&&(p=!0))}a.Nq=f};h.prototype.Oh=function(a,b){var d=a.Cd;a=a.ye;var f=0,m=0,n=0,p=0,r=!1;b.sn();b.N()&&(f=b.O(),r=!0);for(;r;){r=!1;b.N()&&(m=b.O(),b.N()&&(n=b.O(),b.N()&&(p=b.O(),r=!0)));if(r)if(b.N()&&b.MK()){var x=b.O();var t=b.O();0<=f&&255>=f&&0<=m&&255>=m&&0<=n&&255>=n&&0<=p&&255>=
p&&0<=x&&255>=x&&0<=t&&255>=t?this.Fe(a,f,m,n,p,x,t):r=!1}else 0<=f&&f<d&&0<=m&&255>=m&&0<=n&&255>=n&&0<=p&&255>=p?a[f]=m<<16|n<<8|p:r=!1;r&&(b.sn(),b.N()?f=b.O():r=!1)}};h.prototype.Td=function(a,b,d,f,m,n){var p=!1,r=a.length;var x=f.length;var t=x%32;var w=1<<t,z=(x-t)/32;if(null!==n)for(x=0;!p&&x<n.length;){var y=n[x];if(y.sq===b)for(t=0,p=!0;p&&t<a.length;)0!==this.fc(a[t],y.inputs[t])&&(p=!1),t+=1;x+=1}if(!p){null!==n&&(y={inputs:[],sq:b},y.inputs=a.slice(),n[n.length]=y);f[f.length]=b;if(z>=
d.$g){for(x=0;x<r;x+=1)for(t=0;t<d.Eg;t+=1)m[x][t][m[x][t].length]=0;d.$g+=1}for(x=0;x<r;x+=1)for(b=a[x],t=0;t<b.length;t+=1)m[x][b[t]][z]|=w}return p};h.prototype.ll=function(a){var b=a.length,d=b-2,f=b-1,m=!1;if(1<b){for(;0<=d&&0<=this.fc(a[d],a[d+1]);)--d;if(0<d){for(m=!0;f>=d&&0>=this.fc(a[f],a[d]);)--f;var n=a[d];a[d]=a[f];a[f]=n;var p=(b-(d+1))/2|0;for(f=0;f<p;f+=1)n=a[b-f-1],a[b-f-1]=a[d+1+f],a[d+1+f]=n}}return m};h.prototype.fc=function(a,b){var d=0,f=a.length;if(f===b.length){for(;d<f&&a[d]===
b[d];)d+=1;return d===f?0:a[d]-b[d]}return f-b.length};h.prototype.ul=function(a,b,d,f,m){var n,p,r,x=[],t=[],w=[],z=0;for(n=0;n<d;n+=1)for(w[n]=[],p=0;p<m.Eg;p+=1)w[n][p]=[];for(n=m.$g=0;n<f.length;n+=1){var y=f[n].inputs;var C=f[n].sq;if(0===a)this.Td(y,C,m,t,w,null);else if(a===b-1){x=y.slice(1).sort(this.fc);for(p=0;p<x.length;p+=1)y[p+1]=x[p];do this.Td(y,C,m,t,w,null);while(this.ll(y))}else{var c=this.Eb[m.Wj][a-1];var l=[];for(p=0;p<c.length;p+=1){for(r=0;r<y.length;r+=1)x[r]=y[c[p][r]];this.Td(x,
C,m,t,w,l)&&(z+=1)}}}m.ah=[];for(n=0;n<d;n+=1)for(m.ah[n]=[],p=0;p<m.Eg;p+=1)m.ah[n][p]=new Uint32Array(w[n][p].length),m.ah[n][p].set(w[n][p]);m.he=new Uint8Array(t.length);m.he.set(t);m.Jl=z};h.prototype.mk=function(a,b){var d=-1,f=-1,m=-1,n=0,p,r="",x={},t=0,w=0,z=[],y=null,C;var c=0;for(C=!0;C&&3>c;){var l=b.lF();switch(l.toLowerCase()){case this.Eg:C=!1;":"===b.W()?b.N()?(d=b.O(),2<=d&&256>=d?C=!0:this.D=this.Eg+" must be from 2 to 256"):this.D=this.Eg+" must be numeric":this.D=this.Eg+" missing :";
break;case "neighborhood":C=!1;if(":"===b.W()){l=b.W();var e=!1;for(p=0;!e&&p<this.na.length;)l.toLowerCase()===this.na[p]?(f=p,n=this.zb[p],e=!0,y=new Int32Array(n+1)):p+=1;C=e;e||(this.D="neighborhood invalid")}else this.D="neighborhood missing :";break;case "symmetries":C=!1;if(-1!==f)if(":"===b.W()){l=b.W();e=!1;for(p=0;!e&&p<this.Ba[f].length;)l.toLowerCase()===this.Ba[f][p]?(m=p,e=!0):p+=1;C=e;e||(this.D="symmetries invalid")}else this.D="symmetries missing :";else this.D="symmetries must follow neighborhood";
break;default:C=!1}c+=1}if(-1===d||-1===f||-1===m)""===this.D&&(this.D=-1===d?"missing "+this.Eg:-1===f?"missing neighborhood":"missing symmetries"),C=!1;b.qx();l=b.W();for(""!==l&&"@"===l[0]&&(l="");C&&""!==l;){if("var"===l.toLowerCase()){C=!1;r=b.W();var v=[];if("="===b.W())for(C=!0;C&&!b.oq();)if(b.N())p=b.O(),0<=p&&p<=d?v[v.length]=p:(C=!1,this.D="out of range value: "+r+"="+p);else{var A=b.W();if(void 0!==x[A])for(c=0;c<x[A].length;c+=1)v[v.length]=x[A][c];else C=!1,this.D="var unknown assignment: "+
r+"="+A}else this.D="missing =: "+r;C&&(x[r]=v,t+=1)}else if(10>=d&&0===t&&b.oq()){if(v=[],C=!1,l.length===n+1){c=0;for(C=!0;C&&c<n;)A=l.charCodeAt(c),48<=A&&A<48+d?(v[v.length]=[A-48],c+=1):(this.D="expected only digits: "+l,C=!1);C&&(A=l.charCodeAt(c),48<=A&&A<48+d?(w=A-48,z[z.length]={inputs:v,sq:w}):(this.D="expected only digits: "+l,C=!1))}}else{C=!1;A=[];A[0]=l;y[0]=b.Dm(l)?parseInt(l,10):-1;for(c=1;b.jM();)c<n+1?b.N()?(y[c]=b.O(),A[c]=""):(y[c]=-1,A[c]=b.W()):A[c]=b.W(),c+=1;if(A.length===
n+1){l=[];for(r in x){for(c=C=0;c<A.length;c+=1)r===A[c]&&(C+=1);1<C&&(l[l.length]=r)}v=[];var B={};for(c=0;c<l.length;c+=1)B[l[c]]=0;for(C=!0;;){for(c=0;c<n;c+=1)if(e=!1,p=y[c],-1!==p)p>=d?(this.D="state out of range: "+p,C=!1):v[c]=[p];else{var D=A[c];if(l.length)for(p=0;!e&&p<l.length;)l[p]===D?e=!0:p+=1;0<l.length&&e?v[c]=[x[D][B[D]]]:void 0!==x[D]?v[c]=x[D]:(this.D="unknown variable: "+D,C=!1)}e=!1;p=y[c];if(-1!==p)0>p||p>=d?(this.D="output state out of range: "+p,C=!1):w=p;else{D=A[c];if(0<
l.length)for(p=0;!e&&p<l.length;)l[p]===D?e=!0:p+=1;0<l.length&&e?w=x[D][B[D]]:void 0!==x[D]?w=x[D]:(this.D="unknown output variable: "+D,C=!1)}z[z.length]={inputs:v.slice(),sq:w};for(c=0;c<l.length;c+=1)if(B[l[c]]<x[l[c]].length-1){B[l[c]]+=1;break}else B[l[c]]=0;if(c>=l.length)break}}}b.qx();l=b.W();""!==l&&"@"===l[0]&&(b.KH(),l="")}C&&(null===a.A&&(a.A=new Allocator),a.Eg=d,a.Wj=f,a.T=f===k.Kl?!0:!1,this.ul(m,this.Ba[f].length,n,z,a),a.Cd=a.Eg,this.D="",this.Fa=!0,this.tl=!1,a.Ga=!1,this.Ge(a,
a.Eg));return C};h.prototype.Fe=function(a,b,d,f,m,n,p){var r=a.length,x;a[0]=0;for(x=1;x<r;x+=1){var t=2===r?0:(x-1)/(r-2);a[x]=(m*t+b*(1-t)|0)<<16|(n*t+d*(1-t)|0)<<8|p*t+f*(1-t)|0}};h.prototype.Ge=function(a,b){a.ye=new Uint32Array(b);this.Fe(a.ye,255,0,0,255,255,0)};h.prototype.Em=function(a){return(new RegExp("neighborhood *: *"+this.na[k.Kl])).test(a.source)};h.prototype.pk=function(a,b){var d,f=-1,m=-1,n=-1,p=null,r=0,x=null,t=0,w=null,z=0,y=null,C=0,c=0,l=0;var e=0;for(d=!0;d&&3>e;){d=b.lF();
switch(d.toLowerCase()){case this.Ue:d=!1;"="===b.W()?b.N()?(f=b.O(),2<=f&&256>=f?d=!0:this.D=this.Ue+" must be from 2 to 256"):this.D=this.Ue+" must be numeric":this.D=this.Ue+" missing =";break;case this.Fg:d=!1;"="===b.W()?b.N()?(m=b.O(),4===m||8===m?d=!0:this.D=this.Fg+" must be 4 or 8"):this.D=this.Fg+" must be numeric":this.D=this.Fg+" missing =";break;case this.ki:d=!1;"="===b.W()?b.N()?(n=b.O(),n>=m&&1E8>=n?d=!0:this.D=this.ki+" out of range"):this.D=this.ki+" must be numeric":this.D=this.ki+
" missing =";break;default:d=!1}e+=1}if(-1===f||-1===m||-1===n)""===this.D&&(this.D=-1===f?"missing "+this.Ue:-1===m?"missing "+this.Fg:"missing "+this.ki),d=!1;d&&(p=new Uint32Array(n*f),x=new Uint8Array(n*f),w=new Uint32Array(n),y=new Uint32Array(n));for(b.qx();d&&b.N();){z>n?d=!1:(c=b.O(),l=0,w[z]=1===c?t:r,z+=1,y[C]=c,C+=1);for(;d&&b.N();)e=b.O(),1===c?0>e||e>=f?(this.D="bad state value in tree data: "+e,d=!1):(x[t]=e,t+=1):0>e||e>w.length?(this.D="bad node value in tree data: "+e,d=!1):y[e]!==
c-1?(this.D="bad node pointer in tree data: "+c,d=!1):(p[r]=w[e],r+=1),l+=1;d&&l!==f&&(this.D="bad number of values on tree data line",d=!1);b.qx()}d&&(r+t!==n*f?(this.D="bad count of values in tree data",d=!1):c!==m+1?(this.D="bad last node (wrong level)",d=!1):a.Cd>f&&(d=!1,this.D="illegal state in pattern"));d&&(null===a.A&&(a.A=new Allocator),a.Fg=m,a.Ue=f,a.ki=n,a.Ll=w[w.length-1],a.Tk=p.slice(0,r),a.Uk=x.slice(0,t),a.uC=this.Em(b),a.T=a.uC,a.Cd=a.Ue,this.D="",this.Fa=!0,this.tl=!1,a.Ga=!1,this.Ge(a,
a.Ue));return d};h.prototype.WE=function(a,b){var d=!1,f=new Script(b,!0);a.C.hx="";a.C.D="";b=f.Qp("@RULE",-1);if(-1!==b&&!f.oq()){a.tC=f.W();var m=f.Qp("@TREE",-1);-1!==m?(d=this.pk(a,f))?a.I=a.tC:(""===a.C.D&&(a.C.D="not valid"),a.C.D="@TREE "+a.C.D):(m=f.Qp("@TABLE",0),-1!==m?(d=this.mk(a,f))?a.I=a.tC:(""===a.C.D&&(a.C.D="not valid"),a.C.D="@TABLE "+a.C.D):a.C.D="@TABLE and @TREE not found");m=f.current-1;d&&(d=f.Qp("@COLORS",0),-1!==d&&(this.Oh(a,f),f.current-1>m&&(m=f.current-1)),d=f.Qp("@ICONS",
0),-1!==d&&(this.zi(a,f),f.current-1>m&&(m=f.current-1)),d=f.Qp("@NAMES",0),-1!==d&&(this.nj(a,f),f.current-1>m&&(m=f.current-1)));""===a.C.D&&(a.C.hx=f.VK(b,m))}};h.prototype.create=function(a,b,d,f,m,n,p){a=new g(a,this);this.Fa=this.tl=this.Kg=this.U=this.hw=!1;this.D="";this.index=0;this.vl=!1;this.Tz=0;this.wh=!1;this.Kw=this.Jw=0;this.Xk=this.Yk=-1;this.oc=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.Nh(a,b,d),this.Fa=!0;
null===a.Qe&&(this.Fa=!1,"#Life 1.05"===b.substr(0,10)?this.He(a,b,!0,d):"#Life 1.06"===b.substr(0,10)?(this.Lh(a,b,d),this.Fa=!0):"#"===b[0]||"x"===b[0]?(this.Ie(a,b,d),null!==a.Qe||a.Kg||a.oo||(this.He(a,b,!1,d),this.tl=!1,a.sh=null,a.Ic=!1,a.V=!1,a.Cd=2,a.Os=0)):this.Ie(a,b,d));a.Kg&&(this.D="Pattern too big (maximum 16384x16384)",this.Kg=!0,a.oo=!1,a.width=1,a.height=1,a.Qe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap"));-1!==a.tc?(b=a.I.lastIndexOf(":"),a.Bp=a.I.substr(b),a.I=
a.I.substr(0,b)):a.Bp="";null===a.Qe&&""===this.D&&(this.D="Invalid pattern",a=null,this.Fa=!1);a&&a.oo&&!a.Kg&&(a=null,this.Fa=!1);a&&(""!==a.Fc&&"\n"!==a.Fc[a.Fc.length-1]&&(a.Fc+="\n"),""!==a.Lg&&"\n"!==a.Lg[a.Lg.length-1]&&(a.Lg+="\n"),""!==this.D&&(a.T||a.P)&&null===a.I.match(/[0-9]/)&&(a.T=!1,a.P=!1),""===this.D||this.Kg||this.U||(a.tG=this.D,a.I=a.Ps,-1!==a.tc?(b=a.I.lastIndexOf(":"),a.Bp=a.I.substr(b),a.I=a.I.substr(0,b)):a.Bp="",a.la=!1,a.L=!1,a.Ga=!1,a.Ic=!1,a.V=!1,a.bq=!1,a.T=!1,a.P=!1,
a.ke=-1,a.Oe=!1,a.te=!1,a.tI=a.pa,a.pa=!1,q.KF(a)?(f=null===a.he?a.Ue:a.Eg,a.Cd>f?(this.D="Illegal state in pattern",this.U=!0):(a.Cd=f,this.D="",this.Fa=!0,this.tl=!1,a.Ga=!1)):(b=a.Lg.indexOf("@RULE"),-1!==b&&(b=a.Lg.substr(b),this.WE(a,b)),-1===a.Ue&&null===a.he&&this.gl(a,f,m,n,p))));return a};h.prototype.TK=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";else{var d=a.indexOf("\x3c!--",b);a=-1===d?0===b?a:a.substr(b):a.substr(b,d-b);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};
h.prototype.dl=function(a,b,d){if(4===b.readyState)if(200===b.status){b=a.TK(b.responseText);var f=performance.now()-this.time;this.time=performance.now();if(""===b)d.C.D="@RULE not found",q.dx(d);else{a.WE(d,b);var m=performance.now()-this.time;-1!==d.Ue||null!==d.he?q.add(d,f,m,b.length,a.hx):q.dx(d)}}else q.dx(d)};h.prototype.el=function(a){q.dx(a)};h.prototype.gl=function(a,b,d,f,m){var n=this,p=null,r=a.I,x="";r=r.replace(/ /g,"_");x="/wiki/Rule:"+r;this.time=performance.now();this.hw=!0;m?a.A=
m.g.A:a.A=null;q.cJ(a,b,d,f,m)||(p=new XMLHttpRequest,""!==DocConfig.mC&&(x=DocConfig.mC+r+DocConfig.vH),registerEvent(p,"load",function(){n.dl(n,p,a)},!1),registerEvent(p,"error",function(){n.el(a)},!1),p.open("GET",x,!0),p.send(null))};window.PatternConstants=k;window.PatternManager=h;window.Pattern=g;window.RuleTreeCache=q}(),function(){var u={yz:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,
125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,
153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,
255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,
240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,
231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,
36],xz:[],Pg:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",
210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",
153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",
34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",
255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",
119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",
0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",
238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",
139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",
255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},lP:function(){return this.xz},Ff:function(){var h,g;if(!this.DL)for(this.DL=!0,h=g=0;256>h;h+=1)u.xz[h]=u.yz[g]<<16|u.yz[g+1]<<8|u.yz[g+2],g+=3}};window.ColourManager=u}(),function(){function u(h,g,q,k){this.l=h;this.s=g;this.u=q;this.v=k}u.prototype.set=function(h){this.l=
h.l;this.s=h.s;this.u=h.u;this.v=h.v};window.BoundingBox=u}(),function(){function u(g,q,k){this.index=q;this.ja=g.cp[q];this.La=g.Tn[q];this.Rs=g.Fo[q];this.U=g.Iv[q];this.G=g.Su[q];k?this.B=g.Qs[q]:this.B=null;this.M=new BoundingBox(0,0,0,0);this.Pa=new BoundingBox(0,0,0,0);this.Y=this.Kj=this.bf=this.gF=this.counter=this.Fb=this.Vb=this.ga=0;this.C=g}function h(g,q){this.A=g;this.vf=[];this.uj=[];this.cp=[];this.Tn=[];this.Fo=[];this.Iv=[];this.Su=[];this.Qs=[];this.G=0;this.index=-1;this.YL=51;
this.Sy=q;this.B=null}u.prototype.CN=function(g,q,k){var a=q.length,b=q[0].length,d,f,m=0,n,p=k.ep;k=k.fp;var r,x=0,t=this.U,w=0,z=t[w],y=z.length;Array.Wh(this.ja,q);for(d=0;d<a;d+=1){var C=this.ja[d];for(q=r=0;q<b;q+=1)if(n=C[q])for(f=15;0<=f;--f){if(0!==(n&1<<f)){var c=x;var l=r;var e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>
8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;c+=2;e=z[m];m+=1;g[c][l]=e&255;g[c][l+1]=e>>8&255;g[c+1][l]=e>>16&255;g[c+1][l+1]=e>>24;m>=y&&(w+=1,z=t[w],
m=0)}r+=p}else r+=p<<4;x+=k}};u.prototype.QN=function(g,q,k){var a=q.length,b=q[0].length,d,f=0,m;var n=0;var p=k.ep,r=k.fp,x,t=0,w=this.U,z=0,y=w[z],C=y.length,c=w.length;var l=this.C.Sy;Array.Wh(q,this.ja);for(d=0;d<a;d+=1){var e=q[d];for(k=0;k<b;k+=1)(m=e[k])&&(n+=l[m])}if(n)for(d=0;d<a;d+=1){e=q[d];for(k=x=0;k<b;k+=1)if(m=e[k])for(n=15;0<=n;--n){if(0!==(m&1<<n)){var v=t;l=x;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;
f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;v+=2;y[f]=g[v][l]|g[v][l+1]<<8|g[v+1][l]<<16|g[v+1][l+1]<<24;f+=1;f>=C&&(z+=1,f=0,z>=c&&(Array.wp(w,"Snapshot.gridBufferRow"),c+=1));y=w[z]}x+=p}else x+=p<<4;t+=r}};u.prototype.DN=
function(g,q,k){var a=q.length,b=q[0].length,d,f,m,n=0,p,r=k.ep<<3,x=k.fp,t,w=0,z=this.B,y=0,C=z[y],c=C.length;Array.Wh(this.Rs,q);for(d=0;d<a;d+=1){var l=q[d];for(k=t=0;k<b;k+=1)if(p=l[k])for(f=15;0<=f;--f){if(0!==(p&1<<f))for(m=t;m<t+r;m+=4){var e=w;var v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=
v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&
255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+
2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;n>=c&&(y+=1,C=z[y],n=0)}t+=r}else t+=r<<4;w+=x}};u.prototype.BN=function(g,q,k){var a=q.length,b=q[0].length,d,f,m,n=0,p,r=k.ep<<3,x=k.fp,t,w=0,z=this.G,y=0,C=z[y],c=C.length;Array.Wh(this.La,q);for(d=0;d<a;d+=1){var l=q[d];for(k=t=0;k<b;k+=1)if(p=l[k])for(f=15;0<=f;--f){if(0!==(p&1<<f))for(m=t;m<t+r;m+=4){var e=w;var v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+
3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>
16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;
g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;e+=1;v=C[n];n+=1;g[e][m]=v&255;g[e][m+1]=v>>8&255;g[e][m+2]=v>>16&255;g[e][m+3]=v>>24;n>=c&&(y+=1,C=z[y],n=0)}t+=r}else t+=r<<4;w+=x}};u.prototype.RN=function(g,q,k){var a=q.length,b=q[0].length,d,f=0,m;var n=0;var p=k.ep<<3,r=k.fp,x,t=0,w=this.B,z=0,y=w[z],C=y.length,c=w.length;var l=this.C.Sy;
Array.Wh(q,this.Rs);for(d=0;d<a;d+=1){var e=q[d];for(k=0;k<b;k+=1)(m=e[k])&&(n+=l[m])}if(n)for(d=0;d<a;d+=1){e=q[d];for(k=x=0;k<b;k+=1)if(m=e[k])for(n=15;0<=n;--n){if(0!==(m&1<<n))for(l=x;l<x+p;l+=4){var v=t;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<
16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|
g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;f>=C&&(z+=1,f=0,z>=c&&(Array.wp(w,"Snapshot.overlayGridBufferRow"),c+=1),y=w[z])}x+=p}else x+=p<<4;t+=r}};u.prototype.ON=function(g,q,k){var a=q.length,b=q[0].length,d,f=0,m;var n=0;var p=k.ep<<3,r=k.fp,x,t=0,w=this.G,z=0,y=w[z],C=y.length,c=w.length;var l=this.C.Sy;Array.Wh(q,
this.La);for(d=0;d<a;d+=1){var e=q[d];for(k=0;k<b;k+=1)(m=e[k])&&(n+=l[m])}if(n)for(d=0;d<a;d+=1){e=q[d];for(k=x=0;k<b;k+=1)if(m=e[k])for(n=15;0<=n;--n){if(0!==(m&1<<n))for(l=x;l<x+p;l+=4){var v=t;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<
24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|
g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;v+=1;y[f]=g[v][l]|g[v][l+1]<<8|g[v][l+2]<<16|g[v][l+3]<<24;f+=1;f>=C&&(z+=1,f=0,z>=c&&(Array.wp(w,"Snapshot.colourGridBufferRow"),c+=1),y=w[z])}x+=p}else x+=p<<4;t+=r}};h.prototype.bufferSize=function(){for(var g=0,q=0;q<this.uj.length;)g+=this.cp[q].length*this.cp[q][0].length*2,g+=this.Tn[q].length*this.Tn[q][0].length*2,g+=this.Iv[q].length*this.Iv[q][0].length*
4,g+=this.Su[q].length*this.Su[q][0].length*4,this.Qs[q]&&(g+=this.Fo[q].length*this.Fo[q][0].length*2,g+=this.Qs[q].length*this.Qs[q][0].length*4),q+=1;return g};h.prototype.SO=function(){for(var g=0,q=0;q<this.uj.length;)this.uj[q]&&(g+=1),q+=1;return g};h.prototype.reset=function(){this.vf=[];this.uj=[];this.G=0;this.index=-1};h.prototype.mO=function(g){var q=null;if(0<this.vf.length)for(q=this.vf[this.index];q&&q.counter>g;)q=null,0<this.index&&(this.U(this.vf[this.index].index),this.vf.pop(),
--this.index,0<=this.index&&(q=this.vf[this.index]));return q};h.prototype.st=function(g,q,k,a,b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e){var v=null!==b;if(l)y=this.B;else if(51>this.vf.length)y=this.lz(y,C,!1,v),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.U(this.vf[0].index);for(l=0;50>l;l+=1)this.vf[l]=this.vf[l+1];this.vf.pop();this.lz(y,C,!1,v)}y=this.vf[this.index]}y.Y=e;y.QN(g,q,c);y.ON(k,a,c);v&&y.RN(b,d,c);y.M.l=f.l;y.M.u=f.u;y.M.s=f.s;y.M.v=f.v;y.Pa.l=m.l;y.Pa.u=m.u;y.Pa.s=
m.s;y.Pa.v=m.v;y.ga=n;y.Vb=p;y.Fb=r;y.counter=x;y.gF=t;y.bf=w;y.Kj=z};h.prototype.U=function(g){this.uj[g]=!1};h.prototype.na=function(g,q,k){for(var a=0,b=!1;a<this.G&&!b;)this.uj[a]?a+=1:b=!0;b?(g=a,this.uj[a]=!0):(this.cp[a]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.tileGrid"+a),this.Tn[a]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.colourTileGrid"+a),this.Iv[a]=Array.ka(Uint32,1,1024,0,this.A,"Snapshot.gridBuffer"+a),this.Su[a]=Array.ka(Uint32,1,8192,0,this.A,"Snapshot.colourGridBuffer"+a),k&&(this.Fo[a]=
Array.ka(Uint16,q,g,0,this.A,"Snapshot.overlayTileGrid"+a),this.Qs[a]=Array.ka(Uint32,1,8192,0,this.A,"Snapshot.overlayGridBuffer"+a)),this.uj[a]=!0,this.G+=1,g=a);return g};h.prototype.lz=function(g,q,k,a){g=this.na(g,q,a);k?this.B=k=new u(this,g,a):(k=new u(this,g,a),this.vf[this.vf.length]=k);return k};h.prototype.da=function(g,q,k,a,b,d,f,m){var n=g.ja,p=g.La,r=g.Rs,x=g.ja.length,t=0,w=g.index;this.cp[w]=Array.ka(Uint16,k,q,0,this.A,"Snapshot.tileGrid"+w);this.Tn[w]=Array.ka(Uint16,k,q,0,this.A,
"Snapshot.colourTileGrid"+w);m&&(this.Fo[w]=Array.ka(Uint16,k,q,0,this.A,"Snapshot.overlayTileGrid"+w));g.ja=this.cp[w];g.La=this.Tn[w];m&&(g.Rs=this.Fo[w]);if(0<a||0<b)for(;t<x;)g.ja[t+b].set(n[t],a),g.La[t+b].set(p[t],a),m&&g.Rs[t+b].set(r[t],a),t+=1;g.M.l+=d;g.M.u+=d;g.M.s+=f;g.M.v+=f;g.Pa.l+=d;g.Pa.u+=d;g.Pa.s+=f;g.Pa.v+=f};h.prototype.oH=function(g,q,k,a,b,d,f){var m;this.B&&this.da(this.B,g,q,k,a,b,d,f);var n=0;for(m=this.vf.length;n<m;)this.da(this.vf[n],g,q,k,a,b,d,f),n+=1;for(n=0;n<this.uj.length;)this.uj[n]||
(this.cp[n]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.tileGrid"+n),this.Tn[n]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.colourTileGrid"+n),f&&(this.Fo[n]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.overlayTileGrid"+n))),n+=1};window.SnapshotManager=h;window.Snapshot=u}(),function(){function u(h,g,q){this.A=h;this.g=g;this.C=q;this.hh=this.gh=1;this.Ro=2;this.Vb=h.R(Uint8,0,"HROT.births");this.wx=h.R(Uint8,0,"HROT.survivals");this.Eu=h.R(Uint8,0,"HROT.altBirths");this.Fu=h.R(Uint8,0,"HROT.altSurvivals");this.type=
q.ce;this.xo=Array.ka(Uint8,1,1,0,h,"HROT.neighbourhood");this.Ka=h.R(Int16,0,"HROT.neighbourList");this.Lb=Array.ka(Int32,1,1,0,h,"HROT.counts");this.da=h.R(Uint32,0,"HROT.widths");this.Ru=h.R(Uint8,0,"HROT.colUsed");this.zf=h.R(Int8,0,"HROT.weightedNeighbourhood");this.Ih=null;this.Vf=this.Wf=-1;this.Ba=this.G=this.U=this.na=0;this.oc=!1;this.Ne="";this.Fi=-1;this.P=!1}u.prototype.resize=function(h,g){this.Lb=Array.ka(Int32,g,h,0,this.A,"HROT.counts");this.Ru=this.A.R(Uint8,h,"HROT.colUsed")};u.prototype.gO=
function(h,g,q,k,a,b,d,f,m){var n=2*g+1,p=g*g,r=p+g,x,t=q.length>>1;this.type=h;this.hh=g;this.gh=a&&h!=this.C.km&&h!=this.C.up?g+g:g;this.da=this.A.R(Uint32,n,"HROT.widths");this.Ne=q;this.Fi=k;this.P=a;this.Vf=f;this.Wf=m;if(b)for(this.zf=this.A.R(Int8,b.length,"HROT.weightedNeighbourhood"),k=0;k<b.length;k+=1)this.zf[k]=b[k];else this.zf=null;if(d)for(this.Ih=this.A.R(Uint8,d.length,"HROT.weightedStates"),k=0;k<d.length;k+=1)this.Ih[k]=d[k];else this.Ih=null;switch(h){case this.C.ce:for(k=0;k<
n;k+=1)this.da[k]=g;break;case this.C.Nf:for(k=0;k<g;k+=1)this.da[k]=k,this.da[n-k-1]=k;this.da[k]=g;break;case this.C.zk:for(k=-g;k<=g;k+=1){for(h=0;(h+1)*(h+1)+k*k<=r;)h+=1;this.da[k+g]=h}break;case this.C.Gk:for(k=-g;k<=g;k+=1){for(h=0;(h+1)*(h+1)+k*k<=p;)h+=1;this.da[k+g]=h}break;case this.C.km:this.xo=Array.ka(Uint8,n,n,0,this.A,"HROT.neighbourhood");p=new Uint16Array(n);d=x=a=k=r=b=0;for(f=this.xo[r];r<n;)for(h="0123456789abcdef".indexOf(q[b]),b===t&&(f[k]=1,k+=1,a+=1,x+=1),b+=1,m=3;0<=m;--m)0!==
(h&1<<m)&&(f[k]=1,a+=1,x+=1),k+=1,k===n&&(p[d]=x,x=0,d+=1,k=0,r+=1,r<n&&(f=this.xo[r]));q=new Uint32Array(a);for(r=a=0;r<n;r+=1)for(f=this.xo[r],k=0;k<n;k+=1)0<f[k]&&(q[a]=r<<16|k,a+=1);for(k=n=0;k<p.length;k+=1)0<p[k]&&(n+=p[k]+2);this.Ka=this.A.R(Int16,n,"HROT.neighbourList");for(k=a=b=0;k<p.length;k+=1)if(0<p[k]){d=q[b];this.Ka[a]=g-(d>>16);this.Ka[a+1]=p[k];a+=2;for(r=0;r<p[k];r+=1)this.Ka[a+r]=g-(q[b]&65535),b+=1;a+=p[k]}}};u.prototype.B=function(h,g,q){return 0>h||0>h+g||g-h>=this.U?0:0>g&&
h+g<this.G?this.Lb[h+g][0]:g>=this.U&&g-h>=this.U-this.G?this.Lb[h+this.U-1-g][this.U-1]:h<this.G?q[g]:h-this.G+1+g<=this.Ba?this.Lb[this.G-1][h-this.G+1+g]:g-(h-this.G+1)>=this.Ba?this.Lb[this.G-1][g-(h-this.G+1)]:this.Lb[this.G-1][this.Ba+(h+g+this.G+this.Ba+1)%2]};u.prototype.Kb=function(h,g,q,k){var a=this.g.S,b=null,d=this.gh,f=this.hh,m;for(m=0;m<f;m+=1){b=a[g+m];var n=a[k+m+1];n.set(b.slice(h,q+1),h)}for(m=0;m<f;m+=1)b=a[k-m],n=a[g-m-1],n.set(b.slice(h,q+1),h);if(copyWithin)for(m=g;m<=k;m+=
1)b=a[m],b.copyWithin(q+1,h,h+d+1),b.copyWithin(h-d-1,q-d,q+1);else for(m=g;m<=k;m+=1)for(n=0;n<d;n+=1)b[q+n+1]=b[h+n],b[h-n-1]=b[q-n];for(m=0;m<f;m+=1)b=a[g+m],n=a[k+m+1],n.set(b.slice(h,h+d+1),q+1),n.set(b.slice(q-d,q+1),h-d-1);for(m=0;m<f;m+=1)b=a[k-m],n=a[g-m-1],n.set(b.slice(h,h+d+1),q+1),n.set(b.slice(q-d,q+1),h-d-1)};u.prototype.ab=function(h,g,q,k){var a=this.g.S,b=this.gh,d=this.hh,f;for(f=0;f<d;f+=1)a[k+f+1].fill(0,h,q+1);for(f=0;f<d;f+=1)a[g-f-1].fill(0,h,q+1);for(f=g;f<=k;f+=1){var m=
a[f];m.fill(0,q+1,q+b+2);m.fill(0,h-b-1,h)}for(f=0;f<d;f+=1)m=a[k+f+1],m.fill(0,q+1,q+b+2),m.fill(0,h-b-1,h);for(f=0;f<d;f+=1)m=a[g-f-1],m.fill(0,q+1,q+b+2),m.fill(0,h-b-1,h)};u.prototype.Eb=function(h,g,q,k,a){var b,d,f=this.g.S,m=this.g.Da,n=this.g.width,p=0,r=this.g.height,x=0,t=n,w=p,z=r,y=x,C=this.g.M,c=this.g.Pa,l=this.gh,e=this.hh,v=a?this.Eu:this.Vb,A=a?this.Fu:this.wx,B=this.Lb;var D=this.Ro-1;var E=LifeConstants.Qa,G=LifeConstants.pl,F=this.g.Cp;var I=this.g.i+this.g.K-1;var L=this.g.K,
K=0<this.g.K?1:0;var J=b=a=0;if(1===D)for(D=g-e;D<=k+e;D+=1){var M=f[D];var H=B[D];var U=m[D>>4];var qa=d=!1;for(g=h-l;g<=q+l;g+=1){var ka=M[g];var O=H[g];I=0;ka<E?0<=O&&1===v[O]&&(b+=1,I=128):0<=O&&1===A[O]?I=128:J+=1;ka=F[ka+I];M[g]=ka;ka>G&&(d=!0,U[g>>8]|=1<<(~(g>>4)&15),g<n&&(n=g),g>p&&(p=g),ka>=E&&(a+=1,g<t&&(t=g),g>w&&(w=g),qa=!0))}d&&(D<r&&(r=D),D>x&&(x=D));qa&&(D<z&&(z=D),D>y&&(y=D))}else for(D=g-e;D<=k+e;D+=1){M=f[D];H=B[D];U=m[D>>4];qa=d=!1;for(g=h-l;g<=q+l;g+=1){ka=M[g];O=H[g];if(ka<=L)0<=
O&&1===v[O]?(ka=I,b+=1):ka>K&&--ka;else if(ka===I){if(0>O||0===A[O])--ka,J+=1}else ka>K&&--ka;M[g]=ka;0<ka&&(d=!0,U[g>>8]|=1<<(~(g>>4)&15),g<n&&(n=g),g>p&&(p=g),ka===I&&(a+=1,g<t&&(t=g),g>w&&(w=g),qa=!0))}d&&(D<r&&(r=D),D>x&&(x=D));qa&&(D<z&&(z=D),D>y&&(y=D))}this.g.ga=a;this.g.Vb=b;this.g.Fb=J;0<a?(C.l=n,C.u=p,C.s=r,C.v=x,c.l=t,c.u=w,c.s=z,c.v=y):this.g.Y=0};u.prototype.Gf=function(h,g,q,k,a){var b,d=this.g.i+this.g.K,f=this.g.K,m=this.zf,n=this.g.S,p=this.Lb,r=this.Ih,x=r[0],t=m[0],w=m[1],z=m[2],
y=m[3],C=m[4],c=m[5],l=m[6],e=m[7];m=m[8];for(h-=a;h<=g+a;h+=1){var v=p[h];var A=q-a;var B=A-1;for(b=A+1;A<=k+a;){var D=0;var E=n[h-1];var G=E[B];G>f?D+=t*r[d-G]:0<x&&(D+=t*x);G=E[A];G>f?D+=w*r[d-G]:0<x&&(D+=w*x);G=E[b];G>f?D+=z*r[d-G]:0<x&&(D+=z*x);E=n[h];G=E[B];G>f?D+=y*r[d-G]:0<x&&(D+=y*x);G=E[A];G>f?D+=C*r[d-G]:0<x&&(D+=C*x);G=E[b];G>f?D+=c*r[d-G]:0<x&&(D+=c*x);E=n[h+1];G=E[B];G>f?D+=l*r[d-G]:0<x&&(D+=l*x);G=E[A];G>f?D+=e*r[d-G]:0<x&&(D+=e*x);G=E[b];G>f?D+=m*r[d-G]:0<x&&(D+=m*x);v[A]=D;A+=1;B+=
1;b+=1}}};u.prototype.rf=function(h,g,q,k,a){var b,d=LifeConstants.Qa,f=this.zf,m=this.g.S,n=this.Lb,p=f[0],r=f[1],x=f[2],t=f[3],w=f[4],z=f[5],y=f[6],C=f[7];f=f[8];for(h-=a;h<=g+a;h+=1){var c=n[h];var l=q-a;var e=l-1;for(b=l+1;l<=k+a;){var v=0;var A=m[h-1];A[e]>=d&&(v+=p);A[l]>=d&&(v+=r);A[b]>=d&&(v+=x);A=m[h];A[e]>=d&&(v+=t);A[l]>=d&&(v+=w);A[b]>=d&&(v+=z);A=m[h+1];A[e]>=d&&(v+=y);A[l]>=d&&(v+=C);A[b]>=d&&(v+=f);c[l]=v;l+=1;e+=1;b+=1}}};u.prototype.hd=function(h,g,q,k,a,b){var d=this.Lb,f,m=LifeConstants.Qa,
n=this.Vf,p=this.Wf,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var x=d[f];for(g=h-a;g<=q+a;){var t=0;var w=r[f-n];w[g-n]>=m&&(t+=1);w[g+n]>=m&&(t+=1);w=r[f+n];w[g-n]>=m&&(t+=1);w[g+n]>=m&&(t+=1);r[f-p][g]>=m&&(t+=1);r[f+p][g]>=m&&(t+=1);w=r[f];w[g-p]>=m&&(t+=1);w[g+p]>=m&&(t+=1);w[g]>=m&&(t+=1);x[g]=t;g+=1}}};u.prototype.uc=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=LifeConstants.Qa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=-b;0>m;m+=1){var t=p[f+m];t[g]>=n&&(x+=1);t[g+m]>=
n&&(x+=1)}t=p[f];for(m=-a;m<=a;m+=1)t[g+m]>=n&&(x+=1);for(m=1;m<=a;m+=1)t=p[f+m],t[g]>=n&&(x+=1),t[g+m]>=n&&(x+=1);r[g]=x;g+=1}}};u.prototype.jf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=LifeConstants.Qa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=-b;0>m;m+=1){var t=p[f+m];t[g]>=n&&(x+=1)}t=p[f];for(m=-a;0>=m;m+=1)t[g+m]>=n&&(x+=1);for(m=1;m<=a;m+=1)p[f+m][g+m]>=n&&(x+=1);r[g]=x;g+=1}}};u.prototype.qf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=LifeConstants.Qa,r=
this.g.S;if(null===this.Ih)if(1!==a||1!==b||this.P)for(f=g-b;f<=k+b;f+=1){var x=d[f];for(g=h-a;g<=q+a;){if(this.P&&0!==(g+f&1)){var t=-(a+a+1);var w=this.zf.length+t;t+=t}else t=w=0;var z=0;for(n=-b;n<=b;n+=1){var y=r[f+n];for(m=-a;m<=a;m+=1)y[g+m]>=p&&(z+=this.zf[w]),w+=1;w+=t}x[g]=z;g+=1}}else this.rf(g,k,h,q,a);else{var C=this.Ih[0];var c=this.Ih[1];for(f=g-b;f<=k+b;f+=1)for(x=d[f],g=h-a;g<=q+a;){this.P&&0!==(g+f&1)?(t=-(a+a+1),w=this.zf.length+t,t+=t):t=w=0;z=0;for(n=-b;n<=b;n+=1){y=r[f+n];for(m=
-a;m<=a;m+=1)z=y[g+m]>=p?z+this.zf[w]*c:z+this.zf[w]*C,w+=1;w+=t}x[g]=z;g+=1}}};u.prototype.Id=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p,r=LifeConstants.Qa,x=this.Ka,t=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];for(g=h-a;g<=q+a;){for(m=p=0;m<x.length;){var z=x[m];this.P&&0===(g+f&1)&&(z=-z);m+=1;var y=t[f+z];z=x[m];for(n=m+=1;n<m+z;n+=1)y[g+x[n]]>=r&&(p+=1);m+=z}w[g]=p;g+=1}}};u.prototype.Wd=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p,r,x=LifeConstants.Qa,t=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=
d[f];g=h-a;var z=r=p=0;for(n=-b;n<=b;n+=1){var y=t[f+n];if(1===n)for(m=-a;m<=a;m+=1)y[g+m]>=x&&(r+=1);else if(-1===n)for(m=-a;m<=a;m+=1)y[g+m]>=x&&(z+=1);else y[g-1]>=x&&(p+=1),y[g+1]>=x&&(p+=1)}t[f][g]>=x&&(p+=1);w[g]=p+r+z;for(g+=1;g<=q+a;){p=0;for(n=-b;n<=b;n+=1)y=t[f+n],1===n?(y[g-a-1]>=x&&--r,y[g+a]>=x&&(r+=1)):-1===n?(y[g-a-1]>=x&&--z,y[g+a]>=x&&(z+=1)):(y[g-1]>=x&&(p+=1),y[g+1]>=x&&(p+=1));t[f][g]>=x&&(p+=1);w[g]=p+r+z;g+=1}}};u.prototype.gb=function(h,g,q,k,a,b,d){var f=this.Lb,m,n,p,r=LifeConstants.Qa,
x=this.g.S;for(m=g-b;m<=k+b;m+=1){var t=f[m];g=h-a;var w=0;var z=d;for(p=-b;p<=b;p+=1){var y=x[m+p];for(n=-a+z;n<=a-z;n+=2)y[g+n]>=r&&(w+=1);z=1-z}1===d&&x[m][g]>=r&&(w+=1);t[g]=w;g+=1;if(g<=q+a){var C=0;z=d;for(p=-b;p<=b;p+=1){y=x[m+p];for(n=-a+z;n<=a-z;n+=2)y[g+n]>=r&&(C+=1);z=1-z}1==d&&x[m][g]>=r&&(C+=1);t[g]=C;for(g+=1;g<=q+a;){z=d;for(p=-b;p<=b;p+=1)y=x[m+p],y[g-a+z-2]>=r&&--w,y[g+a-z]>=r&&(w+=1),z=1-z;1===d&&(x[m][g-2]>=r&&--w,x[m][g]>=r&&(w+=1));t[g]=w;g+=1;if(g<=q+a){z=d;for(p=-b;p<=b;p+=
1)y=x[m+p],y[g-a+z-2]>=r&&--C,y[g+a-z]>=r&&(C+=1),z=1-z;1===d&&(x[m][g-2]>=r&&--C,x[m][g]>=r&&(C+=1));t[g]=C;g+=1}}}}};u.prototype.Oc=function(h,g,q,k,a,b){this.gb(h,g,q,k,a,b,1)};u.prototype.fc=function(h,g,q,k,a,b){this.gb(h,g,q,k,a,b,0)};u.prototype.Fe=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=LifeConstants.Qa,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var x=d[f];g=h-a;var t=0;for(n=-b;0>n;n+=1){var w=r[f+n];for(m=-a;m<=a+n;m+=1)w[g+m]>=p&&(t+=1)}for(n=0;n<=b;n+=1)for(w=r[f+n],m=-a+n;m<=a;m+=1)w[g+m]>=
p&&(t+=1);x[g]=t;for(g+=1;g<=q+a;){for(n=-b;0>n;n+=1)w=r[f+n],w[g-a-1]>=p&&--t,w[g+a+n]>=p&&(t+=1);for(n=0;n<=b;n+=1)w=r[f+n],w[g-a+n-1]>=p&&--t,w[g+a]>=p&&(t+=1);x[g]=t;g+=1}}};u.prototype.He=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=LifeConstants.Qa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=1;m<=b;m+=1){var t=p[f+m];t[g-m]>=n&&(x+=1);t[g+m]>=n&&(x+=1);t=p[f-m];t[g-m]>=n&&(x+=1);t[g+m]>=n&&(x+=1)}t=p[f];t[g]>=n&&(x+=1);r[g]=x;g+=1}}};u.prototype.Ke=function(h,
g,q,k,a,b){var d=this.Lb,f,m,n=LifeConstants.Qa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=1;m<=b;m+=1){var t=p[f+m];t[g-m]>=n&&(x+=1);t[g+m]>=n&&(x+=1);t[g]>=n&&(x+=1);t=p[f-m];t[g-m]>=n&&(x+=1);t[g+m]>=n&&(x+=1);t[g]>=n&&(x+=1)}t=p[f];for(m=-a;m<=a;m+=1)t[g+m]>=n&&(x+=1);r[g]=x;g+=1}}};u.prototype.vd=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=LifeConstants.Qa,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var x=d[f];g=h-a;var t=n=0;for(m=1;m<=b;m+=1){var w=r[f+m];w[g]>=p&&
(n+=1);w=r[f-m];w[g]>=p&&(n+=1)}w=r[f];for(m=-a;m<=a;m+=1)w[g+m]>=p&&(t+=1);x[g]=n+t;for(g+=1;g<=q+a;){n=0;for(m=1;m<=b;m+=1)r[f+m][g]>=p&&(n+=1),r[f-m][g]>=p&&(n+=1);w=r[f];w[g-a-1]>=p&&--t;w[g+a]>=p&&(t+=1);x[g]=n+t;g+=1}}};u.prototype.gf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=LifeConstants.Qa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];g=h-a;var x=0;var t=g+f&1;if(0===t){var w=b+1;for(t=-b;0>t;t+=1){var z=p[f+t];for(m=-w;m<w;m+=2)z[g+m]>=n&&(x+=1),z[g+m+1]>=n&&(x+=1);z[g+m]>=n&&(x+=1);w+=1}t=
0}else{w=b;for(t=-b;0>=t;t+=1){z=p[f+t];for(m=-w;m<w;m+=2)z[g+m]>=n&&(x+=1),z[g+m+1]>=n&&(x+=1);z[g+m]>=n&&(x+=1);w+=1}t=1}for(;t<=b;t+=1){--w;z=p[f+t];for(m=-w;m<w;m+=2)z[g+m]>=n&&(x+=1),z[g+m+1]>=n&&(x+=1);z[g+m]>=n&&(x+=1)}r[g]=x;for(g+=1;g<=q+a;){t=g+f&1;if(0===t){w=b+1;m=b;for(t=-b;0>t;t+=1)z=p[f+t],z[g+m]>=n&&(x+=1),m+=1,z[g+m]>=n&&(x+=1),w+=1;--w;z=p[f];z[g-m-1]>=n&&--x;z[g+m]>=n&&(x+=1);m+=1;for(t=1;t<=b;t+=1)--w,--m,z=p[f+t],z[g-m-1]>=n&&--x,z[g-m]>=n&&--x}else{w=b;m=b+1;for(t=-b;0>t;t+=
1)z=p[f+t],z[g-m-1]>=n&&--x,z[g-m]>=n&&--x,w+=1,m+=1;--m;z=p[f];z[g-m-1]>=n&&--x;z[g+m]>=n&&(x+=1);w+=1;for(t=1;t<=b;t+=1)--w,--m,z=p[f+t],z[g+m]>=n&&(x+=1),z[g+m+1]>=n&&(x+=1)}r[g]=x;g+=1}}};u.prototype.Sd=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p,r=LifeConstants.Qa,x=this.g.S;for(f=g-b;f<=k+b;f+=1){var t=d[f];for(g=h-a;g<=q+a;){var w=0;for(n=-b;0>n;n+=1){var z=p=n+b+1;var y=x[f+n];for(m=-a;0>=m;m+=1)y[g+m]>=r&&(w+=z),z+=p;z-=p+p;for(m=1;m<=a;m+=1)y[g+m]>=r&&(w+=z),z-=p;z=p=n+b+1;y=x[f-n];for(m=
-a;0>=m;m+=1)y[g+m]>=r&&(w+=z),z+=p;z-=p+p;for(m=1;m<=a;m+=1)y[g+m]>=r&&(w+=z),z-=p}z=p=a+1;y=x[f];for(m=-a;0>=m;m+=1)y[g+m]>=r&&(w+=z),z+=p;z-=p+p;for(m=1;m<=a;m+=1)y[g+m]>=r&&(w+=z),z-=p;t[g]=w;g+=1}}};u.prototype.Ie=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=LifeConstants.Qa,r=this.da,x=this.g.S;for(f=g-b;f<=k+b;f+=1){var t=d[f];g=h-a;var w=0;for(n=-b;n<=b;n+=1){var z=r[n+b];var y=x[f+n];for(m=-z;m<z;m+=2)y[g+m]>=p&&(w+=1),y[g+m+1]>=p&&(w+=1);y[g+m]>=p&&(w+=1)}t[g]=w;for(g+=1;g<=q+a;){for(n=-b;n<=
b;n+=1)z=r[n+b],y=x[f+n],y[g-z-1]>=p&&--w,y[g+z]>=p&&(w+=1);t[g]=w;g+=1}}};u.prototype.Ud=function(h){var g,q,k=this.g.M.l,a=this.g.M.u,b=this.g.M.s,d=this.g.M.v,f=this.gh,m=this.hh,n=h?this.Eu:this.Vb,p=h?this.Fu:this.wx,r=f+f,x=m+m;var t=f+1;var w=m+1;var z=this.Lb,y=this.type,C=this.Ro-1,c=this.g.width,l=0,e=this.g.height,v=0,A=c,B=l,D=e,E=v,G=this.g.S,F=this.g.Da;var I=this.g.Aa;var L=this.g.wa,K=0,J=0,M=0,H=0,U=0,qa=0,ka=0,O=LifeConstants.Qa,ca=LifeConstants.pl,Q=this.g.Cp,W=this.Ru;-1!==this.g.xa&&
(K=Math.round((this.g.width-I)/2),M=Math.round((this.g.height-L)/2),J=K+I-1,H=M+L-1,1===n[0]&&(k=K+f,a=J-f,d=H-m,b=M+m),1===this.g.xa&&(k-K<f&&(a=J),J-a<f&&(k=K),H-d<m&&(b=M),b-M<m&&(d=H),this.Kb(K,M,J,H)),0===this.g.xa&&1===C&&this.g.Hz(G,0),k-K<f&&(k=K+f),J-a<f&&(a=J-f),H-d<m&&(d=H-m),b-M<m&&(b=M+m),y===this.C.ce?(k-=r,b-=x,a+=r,d+=x):y===this.C.Nf&&6<f&&(k-=f,b-=m,a+=f,d+=m));if(y===this.C.ce){k-=r;b-=x;a+=r;d+=x;for(q=b;q<b+x;q+=1)z[q].fill(0,k,a+1);for(q=b+x;q<=d;q+=1)z[q].fill(0,k,k+r+1);var ia=
z[b+x-1];for(q=b+x;q<=d;q+=1){var ha=z[q];C=G[q];I=0;for(g=k+r;g+8<=a;)C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1,C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1;for(;g<=a;)C[g]>=O&&(I+=1),ha[g]=ia[g]+I,g+=1;ia=ha}k+=f;b+=m;a-=f;d-=m;-1!==this.g.xa&&(k+=r,b+=x,a-=r,d-=x);x=G[b][k];I=z[b+m][k+f];var X=0;x<O?1===
n[I]&&(qa+=1,X=128):0===p[I]?ka+=1:X=128;x=Q[x+X];G[b][k]=x;x>ca&&(W[k]|=1,v=e=b,F[b>>4][k>>8]|=1<<(~(k>>4)&15),x>=O&&(U+=1,W[k]|=2,E=D=b));var ea=L=!1;ha=z[b+m];ia=z[b+m];C=G[b];r=F[b>>4];for(g=k+1;g<=a;g+=1)x=C[g],I=ha[g+f]-ia[g-t],X=0,x<O?1===n[I]&&(qa+=1,X=128):0===p[I]?ka+=1:X=128,x=Q[x+X],C[g]=x,x>ca&&(W[g]|=1,L=!0,r[g>>8]|=1<<(~(g>>4)&15),x>=O&&(U+=1,W[g]|=2,ea=!0));L&&(v=e=b);ea&&(E=D=b);r=C=!1;ha=k+f;for(q=b+1;q<=d;q+=1)x=G[q][k],I=z[q+m][ha]-z[q-w][ha],X=0,x<O?1===n[I]&&(qa+=1,X=128):0===
p[I]?ka+=1:X=128,x=Q[x+X],G[q][k]=x,x>ca&&(q<e&&(e=q),q>v&&(v=q),C=!0,F[q>>4][k>>8]|=1<<(~(k>>4)&15),x>=O&&(U+=1,q<D&&(D=q),q>E&&(E=q),r=!0));C&&(W[k]|=1);r&&(W[k]|=2);for(q=b+1;q<=d;q+=1){C=G[q];r=F[q>>4];ia=z[q+m];var da=z[q-w];ha=k+1+f;var ra=k+1-t;ea=L=!1;for(g=k+1;g<=a;g+=1)x=C[g],I=ia[ha]+da[ra]-ia[ra]-da[ha],X=0,x<O?1===n[I]&&(X=128,qa+=1):0===p[I]?ka+=1:X=128,x=Q[x+X],C[g]=x,x>ca&&(L=!0,r[g>>8]|=1<<(~(g>>4)&15),W[g]|=1,x>=O&&(U+=1,ea=!0,W[g]|=2)),ha+=1,ra+=1;L&&(q<e&&(e=q),q>v&&(v=q));ea&&
(q<D&&(D=q),q>E&&(E=q))}for(g=k;g<=a;g+=1)W[g]&&(g<c&&(c=g),g>l&&(l=g),0!==(W[g]&2)&&(g<A&&(A=g),g>B&&(B=g)),W[g]=0);this.g.ga=U;this.g.Vb=qa;this.g.Fb=ka;0<U?(this.g.M.l=c,this.g.M.u=l,this.g.M.s=e,this.g.M.v=v,this.g.Pa.l=A,this.g.Pa.u=B,this.g.Pa.s=D,this.g.Pa.v=E):this.g.Y=0}else if(y===this.C.Nf&&6<f){k-=f;a+=f;b-=m;d+=m;-1===this.g.xa&&(k-=f,a+=f,b-=m,d+=m);this.na=d-b+1;this.U=a-k+1;this.G=this.na+(this.U-1)/2|0;this.Ba=this.U/2|0;for(t=0;t<this.G;t+=1)for(ha=z[t],C=G[t+b],W=t-1,I=W-1,q=z[W],
r=z[I],w=0;w<=this.U;w+=1)ha[w]=this.B(W,w-1,q)+this.B(W,w+1,q)-this.B(I,w,r),t<this.na&&C[w+k]>=O&&(ha[w]+=1);for(t=m;t<=this.na-m;t+=1){W=t-1;q=z[W];ra=t+m;var na=z[ra];ha=ra-1;var T=z[ha];g=t-m-1;var R=z[g];ia=g-1;var V=z[ia];da=t+b;C=G[da];r=F[da>>4];ea=L=!1;for(w=f;w<=this.U-f;w+=1){I=w+f;x=w-f;I=this.B(ra,w,na)-this.B(W,I+1,q)-this.B(W,x-1,q)+this.B(ia,w,V)+this.B(ha,w,T)-this.B(W,I,q)-this.B(W,x,q)+this.B(g,w,R);var ja=w+k;x=C[ja];X=0;x<O?1===n[I]&&(X=128,qa+=1):0===p[I]?ka+=1:X=128;x=Q[x+
X];C[ja]=x;x>ca&&(ja<c&&(c=ja),ja>l&&(l=ja),L=!0,r[ja>>8]|=1<<(~(ja>>4)&15),x>=O&&(U+=1,ea=!0,ja<A&&(A=ja),ja>B&&(B=ja)))}L&&(da<e&&(e=da),da>v&&(v=da));ea&&(da<D&&(D=da),da>E&&(E=da))}this.g.ga=U;this.g.Vb=qa;this.g.Fb=ka;0<U?(this.g.M.l=c,this.g.M.u=l,this.g.M.s=e,this.g.M.v=v,this.g.Pa.l=A,this.g.Pa.u=B,this.g.Pa.s=D,this.g.Pa.v=E):this.g.Y=0}else switch(y){case this.C.jh:this.hd(k,b,a,d,f,m);break;case this.C.Uh:this.uc(k,b,a,d,f,m);break;case this.C.oi:this.jf(k,b,a,d,f,m);break;case this.C.up:this.qf(k,
b,a,d,f,m);break;case this.C.km:this.Id(k,b,a,d,f,m);break;case this.C.Gj:this.Wd(k,b,a,d,f,m);break;case this.C.vj:this.Oc(k,b,a,d,f,m);break;case this.C.pj:this.fc(k,b,a,d,f,m);break;case this.C.Li:this.Fe(k,b,a,d,f,m);break;case this.C.Xj:this.He(k,b,a,d,f,m);break;case this.C.ak:this.Ke(k,b,a,d,f,m);break;case this.C.xj:this.vd(k,b,a,d,f,m);break;case this.C.fj:this.gf(k,b,a,d,f,m);break;case this.C.Ii:this.Sd(k,b,a,d,f,m);break;default:this.Ie(k,b,a,d,f,m)}-1!==this.g.xa&&(k<K+f&&(k=K+f),a>J-
f&&(a=J-f),b<M+m&&(b=M+m),d>H-m&&(d=H-m));y===this.C.ce||y===this.C.Nf&&6<f||this.Eb(k,b,a,d,h);1===this.g.xa&&this.ab(K,M,J,H)};u.prototype.jd=function(h,g,q,k,a,b){var d=this.Lb,f,m=this.g.i+this.g.K-1,n=this.Vf,p=this.Wf,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var x=d[f];for(g=h-a;g<=q+a;){var t=0;var w=r[f-n];w[g-n]===m&&(t+=1);w[g+n]===m&&(t+=1);w=r[f+n];w[g-n]===m&&(t+=1);w[g+n]===m&&(t+=1);r[f-p][g]===m&&(t+=1);r[f+p][g]===m&&(t+=1);w=r[f];w[g-p]===m&&(t+=1);w[g+p]===m&&(t+=1);w[g]===m&&(t+=1);x[g]=
t;g+=1}}};u.prototype.Dc=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=-b;0>m;m+=1){var t=p[f+m];t[g]===n&&(x+=1);t[g+m]===n&&(x+=1)}t=p[f];for(m=-a;m<=a;m+=1)t[g+m]===n&&(x+=1);for(m=1;m<=a;m+=1)t=p[f+m],t[g]===n&&(x+=1),t[g+m]===n&&(x+=1);r[g]=x;g+=1}}};u.prototype.nf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=
-b;0>m;m+=1){var t=p[f+m];t[g]===n&&(x+=1)}t=p[f];for(m=-a;0>=m;m+=1)t[g+m]===n&&(x+=1);for(m=1;m<=a;m+=1)p[f+m][g+m]===n&&(x+=1);r[g]=x;g+=1}}};u.prototype.Hf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=this.g.i+this.g.K-1,r=this.g.S;if(null===this.Ih)for(f=g-b;f<=k+b;f+=1){var x=d[f];for(g=h-a;g<=q+a;){if(this.P&&0!==(g+f&1)){var t=-(a+a+1);var w=this.zf.length+t;t+=t}else t=w=0;var z=0;for(n=-b;n<=b;n+=1){var y=r[f+n];for(m=-a;m<=a;m+=1)y[g+m]===p&&(z+=this.zf[w]),w+=1;w+=t}x[g]=z;g+=1}}else if(1!==
a||1!==b||this.P){var C=this.Ih[0];var c=this.Ih[1];for(f=g-b;f<=k+b;f+=1)for(x=d[f],g=h-a;g<=q+a;){this.P&&0!==(g+f&1)?(t=-(a+a+1),w=this.zf.length+t,t+=t):t=w=0;z=0;for(n=-b;n<=b;n+=1){y=r[f+n];for(m=-a;m<=a;m+=1)z=y[g+m]===p?z+this.zf[w]*c:z+this.zf[w]*C,w+=1;w+=t}x[g]=z;g+=1}}else this.Gf(g,k,h,q,a)};u.prototype.Jd=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p,r=this.g.i+this.g.K-1,x=this.Ka,t=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];for(g=h-a;g<=q+a;){for(m=p=0;m<x.length;){var z=x[m];this.P&&
0===(g+f&1)&&(z=-z);m+=1;var y=t[f+z];z=x[m];for(n=m+=1;n<m+z;n+=1)y[g+x[n]]===r&&(p+=1);m+=z}w[g]=p;g+=1}}};u.prototype.oe=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p,r,x=this.g.i+this.g.K-1,t=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];g=h-a;var z=r=p=0;for(n=-b;n<=b;n+=1){var y=t[f+n];if(1===n)for(m=-a;m<=a;m+=1)y[g+m]===x&&(r+=1);else if(-1===n)for(m=-a;m<=a;m+=1)y[g+m]===x&&(z+=1);else y[g-1]===x&&(p+=1),y[g+1]===x&&(p+=1)}t[f][g]===x&&(p+=1);w[g]=p+r+z;for(g+=1;g<=q+a;){p=0;for(n=-b;n<=b;n+=
1)y=t[f+n],1===n?(y[g-a-1]===x&&--r,y[g+a]===x&&(r+=1)):-1===n?(y[g-a-1]===x&&--z,y[g+a]===x&&(z+=1)):(y[g-1]===x&&(p+=1),y[g+1]===x&&(p+=1));t[f][g]===x&&(p+=1);w[g]=p+r+z;g+=1}}};u.prototype.zb=function(h,g,q,k,a,b,d){var f=this.Lb,m,n,p,r=this.g.i+this.g.K-1,x=this.g.S;for(m=g-b;m<=k+b;m+=1){var t=f[m];g=h-a;var w=0;var z=d;for(p=-b;p<=b;p+=1){var y=x[m+p];for(n=-a+z;n<=a-z;n+=2)y[g+n]===r&&(w+=1);z=1-z}1===d&&x[m][g]===r&&(w+=1);t[g]=w;g+=1;if(g<=q+a){var C=0;z=d;for(p=-b;p<=b;p+=1){y=x[m+p];
for(n=-a+z;n<=a-z;n+=2)y[g+n]===r&&(C+=1);z=1-z}1===d&&x[m][g]===r&&(C+=1);t[g]=C;for(g+=1;g<=q+a;){z=d;for(p=-b;p<=b;p+=1)y=x[m+p],y[g-a+z-2]===r&&--w,y[g+a-z]===r&&(w+=1),z=1-z;1===d&&(x[m][g-2]===r&&--w,x[m][g]===r&&(w+=1));t[g]=w;g+=1;if(g<=q+a){z=d;for(p=-b;p<=b;p+=1)y=x[m+p],y[g-a+z-2]===r&&--C,y[g+a-z]===r&&(C+=1),z=1-z;1===d&&(x[m][g-2]===r&&--C,x[m][g]===r&&(C+=1));t[g]=C;g+=1}}}}};u.prototype.ad=function(h,g,q,k,a,b){this.zb(h,g,q,k,a,b,1)};u.prototype.hc=function(h,g,q,k,a,b){this.zb(h,
g,q,k,a,b,0)};u.prototype.Ge=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=this.g.i+this.g.K-1,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var x=d[f];g=h-a;var t=0;for(n=-b;0>n;n+=1){var w=r[f+n];for(m=-a;m<=a+n;m+=1)w[g+m]===p&&(t+=1)}for(n=0;n<=b;n+=1)for(w=r[f+n],m=-a+n;m<=a;m+=1)w[g+m]===p&&(t+=1);x[g]=t;for(g+=1;g<=q+a;){for(n=-b;0>n;n+=1)w=r[f+n],w[g-a-1]===p&&--t,w[g+a+n]===p&&(t+=1);for(n=0;n<=b;n+=1)w=r[f+n],w[g-a+n-1]===p&&--t,w[g+a]===p&&(t+=1);x[g]=t;g+=1}}};u.prototype.De=function(h,g,q,k,a,b){var d=
this.Lb,f,m,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=1;m<=b;m+=1){var t=p[f+m];t[g-m]===n&&(x+=1);t[g+m]===n&&(x+=1);t=p[f-m];t[g-m]===n&&(x+=1);t[g+m]===n&&(x+=1)}t=p[f];t[g]===n&&(x+=1);r[g]=x;g+=1}}};u.prototype.cf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var x=0;for(m=1;m<=b;m+=1){var t=p[f+m];t[g-m]===n&&(x+=1);t[g+m]===n&&(x+=1);t[g]===n&&(x+=1);t=p[f-
m];t[g-m]===n&&(x+=1);t[g+m]===n&&(x+=1);t[g]===n&&(x+=1)}t=p[f];for(m=-a;m<=a;m+=1)t[g+m]===n&&(x+=1);r[g]=x;g+=1}}};u.prototype.Hd=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=this.g.i+this.g.K-1,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var x=d[f];g=h-a;var t=n=0;for(m=1;m<=b;m+=1){var w=r[f+m];w[g]===p&&(n+=1);w=r[f-m];w[g]===p&&(n+=1)}w=r[f];for(m=-a;m<=a;m+=1)w[g+m]===p&&(t+=1);x[g]=n+t;for(g+=1;g<=q+a;){n=0;for(m=1;m<=b;m+=1)r[f+m][g]===p&&(n+=1),r[f-m][g]===p&&(n+=1);w=r[f];w[g-a-1]===p&&--t;w[g+a]===
p&&(t+=1);x[g]=n+t;g+=1}}};u.prototype.hf=function(h,g,q,k,a,b){var d=this.Lb,f,m,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];g=h-a;var x=0;var t=g+f&1;if(0===t){var w=b+1;for(t=-b;0>t;t+=1){var z=p[f+t];for(m=-w;m<w;m+=2)z[g+m]===n&&(x+=1),z[g+m+1]===n&&(x+=1);z[g+m]===n&&(x+=1);w+=1}t=0}else{w=b;for(t=-b;0>=t;t+=1){z=p[f+t];for(m=-w;m<w;m+=2)z[g+m]===n&&(x+=1),z[g+m+1]===n&&(x+=1);z[g+m]===n&&(x+=1);w+=1}t=1}for(;t<=b;t+=1){--w;z=p[f+t];for(m=-w;m<w;m+=2)z[g+m]===n&&(x+=1),
z[g+m+1]===n&&(x+=1);z[g+m]===n&&(x+=1)}r[g]=x;for(g+=1;g<=q+a;){t=g+f&1;if(0===t){w=b+1;m=b;for(t=-b;0>t;t+=1)z=p[f+t],z[g+m]===n&&(x+=1),m+=1,z[g+m]===n&&(x+=1),w+=1;--w;z=p[f];z[g-m-1]===n&&--x;z[g+m]===n&&(x+=1);m+=1;for(t=1;t<=b;t+=1)--w,--m,z=p[f+t],z[g-m-1]===n&&--x,z[g-m]===n&&--x}else{w=b;m=b+1;for(t=-b;0>t;t+=1)z=p[f+t],z[g-m-1]===n&&--x,z[g-m]===n&&--x,w+=1,m+=1;--m;z=p[f];z[g-m-1]===n&&--x;z[g+m]===n&&(x+=1);w+=1;for(t=1;t<=b;t+=1)--w,--m,z=p[f+t],z[g+m]===n&&(x+=1),z[g+m+1]===n&&(x+=
1)}r[g]=x;g+=1}}};u.prototype.Td=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p,r=this.g.i+this.g.K-1,x=this.g.S;for(f=g-b;f<=k+b;f+=1){var t=d[f];for(g=h-a;g<=q+a;){var w=0;for(n=-b;0>n;n+=1){var z=p=n+b+1;var y=x[f+n];for(m=-a;0>=m;m+=1)y[g+m]===r&&(w+=z),z+=p;z-=p+p;for(m=1;m<=a;m+=1)y[g+m]===r&&(w+=z),z-=p;z=p=n+b+1;y=x[f-n];for(m=-a;0>=m;m+=1)y[g+m]===r&&(w+=z),z+=p;z-=p+p;for(m=1;m<=a;m+=1)y[g+m]===r&&(w+=z),z-=p}z=p=a+1;y=x[f];for(m=-a;0>=m;m+=1)y[g+m]===r&&(w+=z),z+=p;z-=p+p;for(m=1;m<=a;m+=
1)y[g+m]===r&&(w+=z),z-=p;t[g]=w;g+=1}}};u.prototype.Je=function(h,g,q,k,a,b){var d=this.Lb,f,m,n,p=this.g.i+this.g.K-1,r=this.da,x=this.g.S;for(f=g-b;f<=k+b;f+=1){var t=d[f];g=h-a;var w=0;for(n=-b;n<=b;n+=1){var z=r[n+b];var y=x[f+n];for(m=-z;m<z;m+=2)y[g+m]===p&&(w+=1),y[g+m+1]===p&&(w+=1);y[g+m]===p&&(w+=1)}t[g]=w;for(g+=1;g<=q+a;){for(n=-b;n<=b;n+=1)z=r[n+b],y=x[f+n],y[g-z-1]===p&&--w,y[g+z]===p&&(w+=1);t[g]=w;g+=1}}};u.prototype.Vd=function(h){var g,q,k=this.g.M.l,a=this.g.M.u,b=this.g.M.s,d=
this.g.M.v,f=this.gh,m=this.hh,n=h?this.Eu:this.Vb,p=h?this.Fu:this.wx,r=f+f,x=m+m;var t=f+1;var w=m+1;var z=this.Lb,y=this.type,C=this.g.width,c=0,l=this.g.height,e=0,v=C,A=c,B=l,D=e,E=this.g.S,G=this.g.Da;var F=this.g.Aa;var I=this.g.wa;var L=0,K=0,J=0,M=0,H=0,U=0,qa=0,ka,O=this.g.i+this.g.K-1,ca=this.g.K,Q=0<this.g.K?1:0;-1!==this.g.xa&&(L=Math.round((this.g.width-F)/2),J=Math.round((this.g.height-I)/2),K=L+F-1,M=J+I-1,1===n[0]&&(k=L+f,a=K-f,d=M-m,b=J+m),1===this.g.xa&&(k-L<f&&(a=K),K-a<f&&(k=
L),M-d<m&&(b=J),b-J<m&&(d=M),this.Kb(L,J,K,M)),k-L<f&&(k=L+f),K-a<f&&(a=K-f),M-d<m&&(d=M-m),b-J<m&&(b=J+m),y===this.C.ce?(k-=r,b-=x,a+=r,d+=x):y===this.C.Nf&&6<f&&(k-=f,b-=m,a+=f,d+=m));if(y===this.C.ce){k-=r;b-=x;a+=r;d+=x;for(q=b;q<b+x;q+=1)z[q].fill(0,k,a+1);for(q=b+x;q<=d;q+=1)z[q].fill(0,k,k+r);for(q=b+x;q<=d;q+=1){var W=z[q-1];var ia=z[q];F=E[q];I=0;for(g=k+r;g<=a;g+=1)F[g]===O&&(I+=1),ia[g]=W[g]+I}k+=f;b+=m;a-=f;d-=m;-1!==this.g.xa&&(k+=r,b+=x,a-=r,d-=x);x=E[b][k];I=z[b+m][k+f];x<=ca?1===n[I]?
(x=O,U+=1):x>Q&&--x:x===O?0===p[I]&&(--x,qa+=1):x>Q&&--x;E[b][k]=x;0<x&&(c=C=k,e=l=b,G[b>>4][k>>8]|=1<<(~(k>>4)&15),x===O&&(H+=1,A=v=k,D=B=b));var ha=ka=!1;ia=z[b+m];W=z[b+m];F=E[b];r=G[b>>4];for(g=k+1;g<=a;g+=1)x=F[g],I=ia[g+f]-W[g-t],x<=ca?1===n[I]?(x=O,U+=1):x>Q&&--x:x===O?0===p[I]&&(--x,qa+=1):x>Q&&--x,F[g]=x,0<x&&(g<C&&(C=g),g>c&&(c=g),ka=!0,r[g>>8]|=1<<(~(g>>4)&15),x===O&&(H+=1,g<v&&(v=g),g>A&&(A=g),ha=!0));ka&&(e=l=b);ha&&(D=B=b);r=F=!1;ia=k+f;for(q=b+1;q<=d;q+=1)x=E[q][k],I=z[q+m][ia]-z[q-
w][ia],x<=ca?1===n[I]?(x=O,U+=1):x>Q&&--x:x===O?0===p[I]&&(--x,qa+=1):x>Q&&--x,E[q][k]=x,0<x&&(q<l&&(l=q),q>e&&(e=q),F=!0,G[q>>4][k>>8]|=1<<(~(k>>4)&15),x===O&&(H+=1,q<B&&(B=q),q>D&&(D=q),r=!0));F&&(k<C&&(C=k),k>c&&(c=k));r&&(k<v&&(v=k),k>A&&(A=k));for(q=b+1;q<=d;q+=1){F=E[q];r=G[q>>4];W=z[q+m];var X=z[q-w];ha=ka=!1;ia=k+1+f;var ea=k+1-t;for(g=k+1;g<=a;g+=1)x=F[g],I=W[ia]+X[ea]-W[ea]-X[ia],x<=ca?1===n[I]?(x=O,U+=1):x>Q&&--x:x===O?0===p[I]&&(--x,qa+=1):x>Q&&--x,F[g]=x,0<x&&(r[g>>8]|=1<<(~(g>>4)&15),
g<C&&(C=g),g>c&&(c=g),ka=!0,x===O&&(H+=1,ha=!0,g<v&&(v=g),g>A&&(A=g))),ia+=1,ea+=1;ka&&(q<l&&(l=q),q>e&&(e=q));ha&&(q<B&&(B=q),q>D&&(D=q))}this.g.ga=H;this.g.Vb=U;this.g.Fb=qa;0<H?(this.g.M.l=C,this.g.M.u=c,this.g.M.s=l,this.g.M.v=e,this.g.Pa.l=v,this.g.Pa.u=A,this.g.Pa.s=B,this.g.Pa.v=D):this.g.Y=0}else if(y===this.C.Nf&&6<f){k-=f;a+=f;b-=m;d+=m;-1===this.g.xa&&(k-=f,a+=f,b-=m,d+=m);this.na=d-b+1;this.U=a-k+1;this.G=this.na+(this.U-1)/2|0;this.Ba=this.U/2|0;for(t=0;t<this.G;t+=1)for(ia=z[t],F=E[t+
b],q=t-1,I=q-1,g=z[q],r=z[I],w=0;w<=this.U;w+=1)ia[w]=this.B(q,w-1,g)+this.B(q,w+1,g)-this.B(I,w,r),t<this.na&&F[w+k]===O&&(ia[w]+=1);for(t=m;t<=this.na-m;t+=1){q=t-1;g=z[q];var da=t+m;var ra=z[da];ia=da-1;var na=z[ia];W=t-m-1;var T=z[W];X=W-1;var R=z[X];ea=t+b;F=E[ea];r=G[ea>>4];ha=ka=!1;for(w=f;w<=this.U-f;w+=1){I=w+f;x=w-f;I=this.B(da,w,ra)-this.B(q,I+1,g)-this.B(q,x-1,g)+this.B(X,w,R)+this.B(ia,w,na)-this.B(q,I,g)-this.B(q,x,g)+this.B(W,w,T);var V=w+k;x=F[V];x<=ca?1===n[I]?(x=O,U+=1):x>Q&&--x:
x===O?0===p[I]&&(--x,qa+=1):x>Q&&--x;F[V]=x;0<x&&(r[V>>8]|=1<<(~(V>>4)&15),V<C&&(C=V),V>c&&(c=V),ka=!0,x===O&&(H+=1,ha=!0,V<v&&(v=V),V>A&&(A=V)))}ka&&(ea<l&&(l=ea),ea>e&&(e=ea));ha&&(ea<B&&(B=ea),ea>D&&(D=ea))}this.g.ga=H;this.g.Vb=U;this.g.Fb=qa;0<H?(this.g.M.l=C,this.g.M.u=c,this.g.M.s=l,this.g.M.v=e,this.g.Pa.l=v,this.g.Pa.u=A,this.g.Pa.s=B,this.g.Pa.v=D):this.g.Y=0}else switch(y){case this.C.jh:this.jd(k,b,a,d,f,m);break;case this.C.Uh:this.Dc(k,b,a,d,f,m);break;case this.C.oi:this.nf(k,b,a,d,
f,m);break;case this.C.up:this.Hf(k,b,a,d,f,m);break;case this.C.km:this.Jd(k,b,a,d,f,m);break;case this.C.Gj:this.oe(k,b,a,d,f,m);break;case this.C.vj:this.ad(k,b,a,d,f,m);break;case this.C.pj:this.hc(k,b,a,d,f,m);break;case this.C.Li:this.Ge(k,b,a,d,f,m);break;case this.C.Xj:this.De(k,b,a,d,f,m);break;case this.C.ak:this.cf(k,b,a,d,f,m);break;case this.C.xj:this.Hd(k,b,a,d,f,m);break;case this.C.fj:this.hf(k,b,a,d,f,m);break;case this.C.Ii:this.Td(k,b,a,d,f,m);break;default:this.Je(k,b,a,d,f,m)}-1!==
this.g.xa&&(k<L+f&&(k=L+f),a>K-f&&(a=K-f),b<J+m&&(b=J+m),d>M-m&&(d=M-m));y===this.C.ce||y===this.C.Nf&&6<f||this.Eb(k,b,a,d,h);1===this.g.xa&&this.ab(L,J,K,M)};u.prototype.oM=function(h){var g=!1;this.oc&&1===(h&1)&&(g=!0);2===this.Ro?this.Ud(g):this.Vd(g)};window.HROT=u}(),function(){function u(a,b,d,f,m,n,p,r){this.name=a;this.yl=!1;this.wm=10;this.ci=this.bi=0;this.rb=f;this.Bb=d;this.ob=b;this.Mg=m;this.cc=n;this.Rc=p;this.gj=r;this.qm=!1;-1===this.cc.ca.red&&(this.qm=!0);128<=(this.rb.red+this.rb.green+
this.rb.blue)/3?(this.bi=ViewConstants.vF,this.ci=ViewConstants.uF):(this.bi=ViewConstants.Kv,this.ci=ViewConstants.Jv)}function h(a,b,d){this.red=a;this.green=b;this.blue=d}function g(a,b){this.aa=a;this.ca=b}function q(a,b,d,f,m,n){this.C=n;this.pu=!0;this.A=new Allocator;this.Nh=[];this.ee=!1;this.mk=!0;this.xh=!1;this.Pu=this.Vt=this.fr=this.Xt=this.qk=this.oj=this.nj=this.jd=null;this.$b=new Random;this.$b.Ff(Date.now().toString());this.fa=!1;this.Fg=8;this.Ue=2;this.ki=0;this.Ll=-1;this.ye=
this.Uk=this.Tk=null;this.ah=[];this.he=null;this.Jl=this.Wj=this.$g=0;this.rf=this.fc=this.zi=this.yi=this.mj=this.Ji=this.jf=this.ge=null;this.ab=this.Bg=0;this.Ag=this.Ak=null;this.Hf=!0;this.jj=new BoundingBox(0,0,0,0);this.Kh=this.qf=-1;this.bu=this.Yy=0;this.Zy=!1;this.$l=!0;this.wj=this.Hg=this.oc=this.ud=this.td=!1;this.Ms=0;this.ym=[];this.Bm=[];this.Em=[];this.Fm=[];this.ll=[];this.rl=[];this.ul=[];this.um=[];this.cn=[];this.hn=[];this.Lo=[];this.Qo=[];this.Hm=[];this.Km=[];this.Rm=[];this.Sm=
[];this.Gh=[];this.Lg=this.Fc="";this.Kb=255;this.kc=null;this.kg=this.A.R(Uint8,65536,"Life.bitCounts16");this.qy();this.mu=this.A.R(Uint8,65536,"Life.firstBit16");this.sy();this.ti=this.Fh=this.uc=null;this.Zb=this.dc=this.ad=this.Mh=0;this.Bc=1;this.Y=0;this.wa=this.Aa=this.xa=-1;this.Qn=this.Pn=0;this.Uy=this.Nu=!1;this.ot=ViewConstants.XE;this.Ge=[];this.He=[];this.Ge[0]=this.A.R(Int32,k.ax,"Life.boundaryX0");this.He[0]=this.A.R(Int32,k.ax,"Life.boundaryY0");this.jk=0;this.kl=4294967295;this.cm=
4286611584;this.CC="rgb(0,255,0)";this.kB="rgb(255,0,0)";this.Cu="rgb(255,255,0)";this.L=this.la=this.Ga=!1;this.ke=-1;this.P=!1;this.je=this.C.Hn;this.T=!1;this.Vg=this.C.Xp;this.Oe=this.Bw=this.sc=!1;this.i=-1;this.V=this.ta=!1;this.Ai=this.K=0;this.pg=this.pa=!1;this.dh=new SnapshotManager(this.A,this.kg);this.yo=k.xt;this.kd=this.qc=this.dj=!1;this.ae=this.Yf=this.Pa=this.M=null;this.width=f;this.height=m;this.ep=2;this.fp=16;this.ua=this.width>>4;this.ya=this.height>>4;this.$t=null;this.J=b;
this.H=d;this.Fb=this.Vb=this.ga=0;this.Qa=k.Qa;this.Sf=k.Sf;this.df=k.df;this.pl=k.pl;this.fw=this.rb=0;this.$=1;this.Uf=-1;this.Sn=1;this.fm=30;this.Na=this.angle=this.counter=this.Kj=this.bf=0;this.zoom=6;this.va=this.Ca=0;this.Pe=.1;this.ib=0;this.oa=1;this.Me=this.Le=0;this.B=.1;this.be=littleEndian;this.mb=[];this.Gg=this.De=this.Td=this.Gf=this.oe=this.vd=this.hc=this.Qh=this.hf=this.Ie=this.eh=this.Ke=this.Fe=this.Dc=null;this.tf=-1;this.lj=this.Oc=this.yd=this.dl=null;this.context=a;this.Cb=
this.Ab=0;this.Yb=this.hb=this.uh=this.zd=this.Ae=this.ra=this.ja=null;this.el=this.A.R(Uint32,this.J,"Life.blankPixelRow");this.Cf=this.A.R(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.pr=this.A.R(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.Ig=this.bk=this.aj=this.wf=this.Da=this.La=this.Lk=this.Eo=this.$c=this.ic=this.Yd=this.nl=this.ac=this.Ja=this.S=null;this.Ua=this.A.R(Uint8,
256,"Life.redChannel");this.Ta=this.A.R(Uint8,256,"Life.greenChannel");this.Ra=this.A.R(Uint8,256,"Life.blueChannel");this.Te=this.A.R(Uint32,256,"Life.pixelColours");this.Wd=null;this.yu=0;this.Vd=this.Yc=this.nf=this.Ud=this.kj=this.xi=this.yg=this.vi=null;this.Cp=this.A.R(Uint16,2*(this.Sf+1)<<8,"Life.colourLookup");this.cu=this.A.R(Uint8,2048,"Life.colourReset");this.$d=ViewConstants.Kv;this.xg=-1;this.sg=ViewConstants.Jv;this.wg=-1;this.lf=10;this.zl=!0;this.gK=10;this.gb=this.na=null;this.ia=
8192;this.qL=[0,0,48];this.pL=[255,255,255];this.oL=[255,255,255];this.rL=[0,255,0];this.sL=[255,0,0];this.Dj=[0,0,48];this.Cj=[255,255,255];this.Bj=[255,255,255];this.Ej=[0,255,0];this.Fj=[255,0,0];this.za=new HROT(this.A,this,n);this.coords=this.A.R(Float32,1,"Life.coords");this.Ka=this.A.R(Uint32,1,"Life.cellColours");this.zb=0}var k={VA:0,XA:1,WA:2,iM:3,tm:5E4,ml:0,af:1,qe:2,dM:0,tw:0,sw:1,RA:2,SA:3,lG:4,TA:5,UA:6,fM:6,eM:7,gM:8,XL:20,hM:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY FlipXorY RotCWorCCW".split(" "),
Dl:1048576,xE:"Buffer Full",Uu:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],uw:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 1;off trail 1;on trail;off trail 2;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
Dp:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],cL:[[1,1,1],[1,0,0],[0,1,0]],dL:[[0,1,0],[1,1,0],[1,0,1]],eL:[[1,1,0],[1,0,1],[1,0,0]],fL:[[0,1,1],[1,1,0],[0,0,1]],ZK:[[1,1,1],[0,0,1],[0,1,0]],$K:[[0,1,0],[0,1,1],[1,0,1]],aL:[[0,1,1],[1,0,1],[0,0,1]],bL:[[1,1,0],[0,1,1],[1,0,0]],kL:[[0,1,0],[1,0,0],[1,1,1]],lL:[[1,0,
1],[1,1,0],[0,1,0]],mL:[[1,0,0],[1,0,1],[1,1,0]],nL:[[0,0,1],[1,1,0],[0,1,1]],gL:[[0,1,0],[0,0,1],[1,1,1]],hL:[[1,0,1],[0,1,1],[0,1,0]],iL:[[0,0,1],[1,0,1],[0,1,1]],jL:[[1,0,0],[0,1,1],[1,1,0]],Gc:4096,Ei:16,ax:4096,vL:512,Nv:262144,xm:65536,ko:65536,xF:8192,wF:131072,xt:64,$F:524288,Rj:12,Qa:64,Sf:127,df:63,pl:1,Tb:1,lb:2,yb:4,Rb:8,bc:16,xb:32,Wb:64,Xb:128};u.prototype.set=function(a){this.yl=a.yl;this.wm=a.wm;this.bi=a.bi;this.ci=a.ci;this.rb.set(a.rb);this.Bb.set(a.Bb);this.ob.set(a.ob);this.Mg.set(a.Mg);
this.cc.set(a.cc);this.Rc.set(a.Rc);this.gj.set(a.gj);this.cc.set(a.cc);this.qm=a.qm};u.prototype.Vo=function(a,b,d){this.yl=!0;this.wm=a;this.bi=b.red<<16|b.green<<8|b.blue;this.ci=d.red<<16|d.green<<8|d.blue};u.prototype.XN=function(a,b){this.bi=-1!==a?a:128<=(this.rb.red+this.rb.green+this.rb.blue)/3?ViewConstants.vF:ViewConstants.Kv;this.ci=-1!==b?b:128<=(this.rb.red+this.rb.green+this.rb.blue)/3?ViewConstants.uF:ViewConstants.Jv};u.prototype.uL=function(a){var b=!0;a||this.Bb.aa.pA(this.Bb.ca)&&
this.ob.aa.pA(this.ob.ca)&&this.ob.aa.pA(this.rb)&&(b=!1);return b};h.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};h.prototype.pA=function(a){var b=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(b=!0);return b};g.prototype.set=function(a){this.aa.set(a.aa);this.ca.set(a.ca)};q.prototype.mA=function(){var a=ViewConstants.Hb,b=this.J+a+a<<1;a=this.H+a+a<<1;this.xh?(null===this.jd&&(this.jd=document.createElement("canvas")),this.jd.width=b,this.jd.height=
a,this.nj=this.jd.getContext("2d",{alpha:!1}),this.oj=this.nj.getImageData(0,0,this.jd.width,this.jd.height),this.qk=new Uint32Array(this.oj.data.buffer)):this.qk=this.oj=this.nj=null};q.prototype.BF=function(){var a,b,d,f=this.J,m=20*this.H,n=-m,p=this.$b;this.Xt=new Uint16Array(k.tm);this.fr=new Float32Array(k.tm);this.Vt=new Float32Array(k.tm);this.Pu=new Uint32Array(k.tm);var r=this.Xt;var x=this.fr;var t=this.Vt;for(a=0;a<k.tm;a+=1){r[a]=p.random()*f|0;for(b=d=0;10>b;b+=1)d+=p.random()*m;x[a]=
-d/10;x[a]>n&&(n=x[a]);t[a]=p.random()/5+.8;if(a<k.tm-4&&.2>p.random()){b=r[a];d=x[a];var w=t[a];a+=1;r[a]=b;x[a]=d-2;t[a]=w;a+=1;r[a]=b;x[a]=d+2;t[a]=w;1<b&&(a+=1,r[a]=b-2,x[a]=d,t[a]=w);b<f-2&&(a+=1,r[a]=b+2,x[a]=d,t[a]=w)}}for(a=0;a<k.tm;a+=1)x[a]-=n};q.prototype.Jd=function(){var a,b=0,d=this.J,f=this.H,m=this.Te[0],n=this.yd,p=this.$b,r=this.Xt,x=this.fr,t=this.Vt,w=this.Pu;for(a=0;a<k.tm;a+=1){var z=r[a];var y=x[a];var C=t[a];var c=z;var l=y;if(0<=y&&y<f-1)if((y|0)===(y+C|0))l=y+C,n[(l|0)*d+
c]=-1;else{if(n[(y+C|0)*d+z]===m)l=y+C;else{var e=p.random();if(.05>e){var v=1;.025>e&&(v=-1);0<=z+v&&z+v<d&&n[(y+C|0)*d+z+v]===m&&n[(y|0)*d+z+v]===m&&(c=z+v,l=y+C)}}n[(l|0)*d+c]=-1}else 0>y&&(l=y+C);l>=f-1&&(w[b]=a,b+=1);r[a]=c;x[a]=l}if(5<b)for(a=0;a<b;a+=1).25>p.random()&&(e=w[a],l=-(p.random()*f),c=p.random()*d|0,r[e]=c,x[e]=l,C=t[e],a<b-4&&.2>p.random()&&(a+=1,e=w[a],r[e]=c,x[e]=l-2,t[e]=C,a+=1,e=w[a],r[e]=c,x[e]=l+2,t[e]=C,1<c&&(a+=1,e=w[a],r[e]=c-2,x[e]=l,t[e]=C),c<d-2&&(a+=1,e=w[a],r[e]=c+
2,x[e]=l,t[e]=C)))};q.prototype.RM=function(a){this.ge=a};q.prototype.ns=function(a){this.ab=0;a?null===this.jf&&(this.jf=this.A.R(Int32,k.Dl,"Life.hashList"),this.Ji=this.A.R(Uint32,k.Dl,"Life.genList"),this.mj=this.A.R(Uint32,k.Dl,"Life.popList"),this.yi=this.A.R(Uint32,k.Dl,"Life.bornList"),this.zi=this.A.R(Uint32,k.Dl,"Life.diedList"),this.fc=this.A.R(Uint32,2*k.Dl,"Life.boxList"),this.rf=this.A.R(Int32,k.Dl,"Life.nextList"),this.Ak=Array.ka(Uint8,this.height,this.width,k.ml,this.A,"Life.countList"),
2<this.i&&(this.Ag=Array.ka(Uint8,this.height,this.width,0,this.A,"Life.initList")),this.Hf=!0,this.jj.l=this.width,this.jj.s=this.height,this.jj.u=0,this.jj.v=0,this.Bg=this.Kh=this.qf=-1,this.rf.fill(-1)):(this.Ag=this.Ak=this.rf=this.fc=this.zi=this.yi=this.mj=this.Ji=this.jf=null,this.Bg=this.Kh=this.qf=-1)};q.prototype.SI=function(a,b,d){b="Spaceship ("+(b+","+d)+")c";1<a&&(b+="/"+a);return b};q.prototype.il=function(a,b){var d=31415962,f=a.l,m=a.s,n=a.u-f+1;a=a.v-m+1;var p=n-1,r=a-1,x=a,t=2>=
this.i&&!this.fa,w,z,y=0,C=0,c=0,l=0,e=this.S,v=k.Qa;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(e=this.Ja);if(b===k.tw||b===k.sw||b===k.TA||b===k.UA){var A=n;n=x;x=A}for(z=0;z<x;z+=1)for(w=0;w<n;w+=1){switch(b){case k.tw:y=c;C=r-l;break;case k.lG:y=p-w;C=r-z;break;case k.sw:y=p-c;C=l;break;case k.RA:y=p-w;C=z;break;case k.SA:y=w;C=r-z;break;case k.TA:y=c;C=l;break;case k.UA:y=p-c,C=r-l}if(t)e[C+m][y+f]>=v&&(d=1000003*d^z,d=1000003*d^w);else if(A=e[C+m][y+f],A>this.K){A-=this.K;if(this.L)switch(b){case k.tw:A=
A<<1&15|(A&8)>>3;break;case k.lG:A=A&12|A&3;break;case k.sw:A=A>>1&15|(A&1)<<3;break;case k.RA:A=A&5|(A&2)<<2|(A&8)>>2;break;case k.SA:A=A&10|(A&1)<<2|(A&4)>>2;break;case k.TA:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case k.UA:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}d=1000003*d^z;d=1000003*d^w;d=1000003*d^A}l+=1;l===a&&(l=0,c+=1)}return d|0};q.prototype.au=function(a,b){for(var d,f=k.dM,m=-1,n,p;f<=k.fM&&-1===m;){n=this.il(a,f);if(b)for(d=this.Bg;-1!==d&&-1===m;)n===this.jf[d]&&this.Ji[d]!==this.counter?
(m=d,b&&(this.Kh=f,f===k.RA&&(p=this.il(a,k.SA),p===n&&(this.Kh=k.eM)),f===k.tw&&(p=this.il(a,k.sw),p===n&&(this.Kh=k.gM)))):d=this.rf[d];else n===this.bu&&(m=1);f+=1}return m};q.prototype.nu=function(a,b){var d=31415962,f=a.l,m=a.s,n=a.u,p=a.v,r,x=2>=this.i&&!this.fa,t=this.S,w=this.Ak,z=this.Ag,y=k.Qa,C=this.jj;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(t=this.Ja);f<C.l&&(C.l=f);m<C.s&&(C.s=m);n>C.u&&(C.u=n);p>C.v&&(C.v=p);for(r=m;r<=p;r+=1){var c=r-m;var l=t[r];if(x)for(a=f;a<=n;a+=1)l[a]>=
y&&(d=1000003*d^c,d=1000003*d^a-f);else if(this.V)for(a=f;a<=n;a+=1)1===(l[a]&1)&&(d=1000003*d^c,d=1000003*d^a-f);else for(a=f;a<=n;a+=1){var e=l[a];e>this.K&&(e-=this.K,d=1000003*d^c,d=1000003*d^a-f,d=1000003*d^e)}}if(!b){for(r=C.s;r<=C.v;r+=1)if(l=t[r],b=w[r],x)if(this.Hf)for(a=C.l;a<=C.u;a+=1)l[a]>=y&&(b[a]=k.af);else for(a=C.l;a<=C.u;a+=1)l[a]>=y?b[a]===k.ml&&(b[a]=k.qe):b[a]===k.af&&(b[a]=k.qe);else if(this.L)if(this.Hf)for(a=C.l;a<=C.u;a+=1)e=l[a],e>this.K?e-=this.K:e=0,f=0,0!==(e&1)&&(f=k.af),
m=0,0!==(e&2)&&(m=k.af),n=0,0!==(e&4)&&(n=k.af),p=0,0!==(e&8)&&(p=k.af),b[a]=f|m<<2|n<<4|p<<6;else for(a=C.l;a<=C.u;a+=1)p=b[a],e=l[a],e>this.K?e-=this.K:e=0,f=p&3,0!==(e&1)?f===k.ml&&(f=k.qe):f===k.af&&(f=k.qe),m=p>>2&3,0!==(e&2)?m===k.ml&&(m=k.qe):m===k.af&&(m=k.qe),n=p>>4&3,0!==(e&4)?n===k.ml&&(n=k.qe):n===k.af&&(n=k.qe),p=p>>6&3,0!==(e&8)?p===k.ml&&(p=k.qe):p===k.af&&(p=k.qe),b[a]=f|m<<2|n<<4|p<<6;else if(this.V)for(e=z[r],a=C.l;a<=C.u;a+=1)this.Hf?(e[a]=l[a]&1,l[a]&1&&(b[a]=k.af)):l[a]&1?b[a]===
k.ml?b[a]=k.qe:(l[a]&1)!==e[a]&&(b[a]=k.qe):b[a]===k.af&&(b[a]=k.qe);else for(e=z[r],a=C.l;a<=C.u;a+=1)this.Hf?(e[a]=l[a],l[a]>this.K&&(b[a]=k.af)):l[a]>this.K?b[a]===k.ml?b[a]=k.qe:l[a]!==e[a]&&(b[a]=k.qe):b[a]===k.af&&(b[a]=k.qe);this.Hf=!1}return d|0};q.prototype.ij=function(a,b){for(var d;0!==b;)d=b,b=a%b,a=d;return a};q.prototype.my=function(a,b){var d="Oblique";if(a>b){var f=a;a=b;b=f}f=this.ij(a,b);switch(a/f*10+b/f){case 12:d+=" Knightwise";break;case 13:d+=" Camelwise";break;case 14:d+=" Giraffewise";
break;case 15:d+=" Ibiswise";break;case 16:d+=" Flamingowise";break;case 23:d+=" Zebrawise";break;case 34:d+=" Antelopewise"}return d};q.prototype.py=function(a,b,d,f,m,n,p,r,x){var t="",w=String(this.counter-f),z="",y="",C=this.ga,c=C,l=16384,e=0,v=16384,A=0,B=this.ab,D=b,E=16384,G=0,F=0,I,L=I="",K=this.Ak,J=0,M=0,H="",U=this.qf,qa="",ka="";var O=this.pa?this.Pa:this.M;0<f&&(w+=" and "+this.counter);m=Math.abs(m);n=Math.abs(n);if(0<m||0<n){var ca="Spaceship";0===m||0===n?y="0":(m>n?(y=m,z=n):(y=
n,z=m),t=this.ij(y,z),y=String(y/t),1!==z/t&&(y+="/"+String(z/t)));m===n||0===m||0===n?(z=m===n&&0!==m?"Diagonal":"Orthogonal",0===m&&(m=n),1<m?1===f?t=m+"c":(t=this.ij(m,f),O=m/t,a=f/t,1!==t?(t=1===O?"c":O+"c",1<a&&(t+="/"+a),t+=" | "+m+"c/"+f):t=m+"c/"+f):(t="c",1<f&&(t+="/"+f))):(t=this.ij(m,this.ij(n,f)),O=m/t,z=n/t,a=f/t,1!==t?(t=O>z?"("+O+","+z+")c":"("+z+","+O+")c",1<a&&(t+="/"+a),t=m>n?t+(" | ("+m+","+n+")c"):t+(" | ("+n+","+m+")c")):t=m>n?"("+m+","+n+")c":"("+n+","+m+")c",1<f&&(t+="/"+f),
z=this.my(m,n))}else if(1===f||this.oc&&2===f)ca="Still Life";else if(ca="Oscillator",!x)for(this.Hf=!0,this.Ak.Wa.fill(0),m=0;m<2*f;m+=1)this.we(!1,a.de,a.Ac,a.Gb,a),this.re(),a.hi(),this.nu(O,x),this.yi[b+m]=this.Vb,this.zi[b+m]=this.Fb;for(n=0;b<B;)m=this.mj[b],n+=m,m<C&&(C=m),m>c&&(c=m),b+=1;C=C===c?String(C):String(C)+" | "+String(c)+" | "+String((n/(B-D)).toFixed(1));b=D;if("Spaceship"===ca)for(;b<B;)m=this.fc[b<<1],c=m>>16,n=m&65535,c>p&&(p=c),n>r&&(r=n),b+=1;else{for(;b<B;)m=this.fc[b<<1],
c=m>>16,n=m&65535,m=this.fc[(b<<1)+1],p=m>>16,r=m&65535,p<l&&(l=p),r<v&&(v=r),p+c-1>e&&(e=p+c-1),r+n-1>A&&(A=r+n-1),b+=1;p=e-l+1;r=A-v+1}p=String(p+" x "+r+" = "+p*r);if(0<f){I=0;for(b=D;b<B;)F=this.yi[b]+this.zi[b],F<E&&(E=F),F>G&&(G=F),I+=F,b+=1;E===G?(F=E,I=String(F.toFixed(1))):(F=I/(B-D),I=String(E.toFixed(1)+" | "+G.toFixed(1)+" | "+F.toFixed(1)))}if("Oscillator"===ca&&!x){for(B=v;B<=A;B+=1)if(b=K[B],this.L)for(m=l;m<=e;m+=1)v=b[m],(v&3)===k.qe?J+=1:(v&3)===k.af&&(M+=1),v>>=2,(v&3)===k.qe?J+=
1:(v&3)===k.af&&(M+=1),v>>=2,(v&3)===k.qe?J+=1:(v&3)===k.af&&(M+=1),v>>=2,(v&3)===k.qe?J+=1:(v&3)===k.af&&(M+=1);else for(m=l;m<=e;m+=1)b[m]===k.qe?J+=1:b[m]===k.af&&(M+=1);L=String((J/(J+M)).toFixed(2))}"Oscillator"!==ca||x||(ka=String((F/(J+M)).toFixed(2)+" | "+(F/J).toFixed(2)));x||(H=String(J+" | "+M+" | "+(J+M)));x||this.T||this.P||(qa=0>=U?String(f):0===f%U?String(U)+" ("+k.hM[this.Kh]+")":String(f));return[d,ca,z,t,p,w,C,y,f,I,L,qa,H,ka]};q.prototype.vM=function(a,b){var d=this.pa?this.Pa:
this.M,f=d.l,m=d.s,n=d.u-f+1,p=d.v-m+1,r=n<<16|p,x=f<<16|m,t=!1,w,z=0,y=0;var C=[];if((this.la||this.oc)&&0!==(this.counter&1))return C;if(this.ab<k.Dl)if(0===this.ga)C=["Empty Pattern","Empty"];else{var c=this.nu(d,!0);var l=!1;var e=this.Bg;for(w=-1;-1!==e&&!l;){var v=this.jf[e];c>v?(w=e,e=this.rf[e]):c<this.jf[e]?l=!0:c===this.jf[e]&&(v=e<<1,this.ga===this.mj[e]&&r===this.fc[v]?(C=this.counter-this.Ji[e],this.fc[v+1]===x?1===C||(this.oc||this.la)&&2===C?(v="Still Life",C=1):v="Oscillator period "+
C:(z=f-(this.fc[v+1]>>16),y=m-(this.fc[v+1]&65535),v=this.SI(C,z,y)),t=l=!0,C=this.py(b,e,v,C,z,y,n,p,a)):(w=e,e=this.rf[e]))}t||(this.jf[this.ab]=c,this.Ji[this.ab]=this.counter,this.mj[this.ab]=this.ga,this.yi[this.ab]=this.Vb,this.zi[this.ab]=this.Fb,this.fc[this.ab<<1]=r,this.fc[(this.ab<<1)+1]=f<<16|m,this.rf[this.ab]=-1,-1===this.Bg?this.Bg=0:-1===w?this.Bg=this.ab:this.rf[w]=this.ab,-1!==this.qf||a||this.T||this.P?-1===this.qf||this.Zy||this.counter!==this.Yy||(a=this.au(d,!1),-1!==a?this.Zy=
!0:this.qf=-1):(a=this.au(d,!0),-1!==a&&(this.qf=this.counter-this.Ji[a],this.Yy=this.counter+this.qf,this.bu=c)),this.ab+=1,this.ab===k.Dl&&(this.ab=0,C=[k.xE]))}return C};q.prototype.jy=function(a,b,d,f,m,n,p){var r=this.J/2,x=this.H/2,t=0,w=this.width/2-.25,z=this.height/2,y=this.coords,C=this.Ka,c=this.height/2-this.va-this.Zb+.5,l=this.width/2-this.Ca-this.dc+.5,e=this.zoom*this.Bc;if(a>d){var v=d;d=a;a=v}b>f&&(v=f,f=b,b=v);a+=m;d+=m;b+=n;f+=n;C.length!==k.Gc&&(this.coords=this.A.R(Float32,12*
k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),y=this.coords,C=this.Ka);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(n=m=0;b<=f;b+=1)if(v=(b-z+c)*e+x,v>=-e&&v<this.H+e){var A=b-z;var B=l-w;for(v=a;v<=d;v+=1){if(0<p[t]){var D=(v+B)*e+r;if(D>=-e&&D<this.J+2*e){C[m]=(0<<k.Ei)+n;D=v-w;var E=v+b&1;y[n]=D-1;y[n+1]=A+E;y[n+2]=D+1;y[n+3]=A+E;y[n+4]=D;y[n+5]=A+1-E;n+=6;m+=1;m===k.Gc&&(this.zb=m,this.Sd(!0,!1,!0),n=m=0)}}t+=1}}else t+=d-a+1;
this.zb=m;0<m&&this.Sd(!0,!1,!0)};q.prototype.lu=function(a,b,d,f,m,n){var p=this.J/2,r=this.H/2,x=this.width/2-.25,t=this.height/2,w=this.coords,z=this.Ka,y=this.height/2-this.va-this.Zb+.5,C=this.width/2-this.Ca-this.dc+.5,c=this.zoom*this.Bc;if(a>d){var l=d;d=a;a=l}b>f&&(l=f,f=b,b=l);a+=m;d+=m;b+=n;f+=n;z.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),w=this.coords,z=this.Ka);this.context.lineWidth=1.6;this.context.lineCap="butt";
this.context.lineJoin="bevel";for(n=m=0;b<=f;b+=1)if(l=(b-t+y)*c+r,l>=-c&&l<this.H+c){var e=b-t;var v=C-x;for(l=a;l<=d;l+=1){var A=(l+v)*c+p;if(A>=-c&&A<this.J+2*c){z[m]=(0<<k.Ei)+n;A=l-x;var B=l+b&1;w[n]=A-1;w[n+1]=e+B;w[n+2]=A+1;w[n+3]=e+B;w[n+4]=A;w[n+5]=e+1-B;n+=6;m+=1;m===k.Gc&&(this.zb=m,this.Sd(!0,!1,!0),n=m=0)}}}this.zb=m;0<m&&this.Sd(!0,!1,!0)};q.prototype.xK=function(){var a=this.S,b=this.ic,d=null,f=this.ae,m=this.J/2,n=this.H/2,p,r,x=this.width/2-.25,t=this.height/2,w=ViewConstants.bb[3]+
128,z=ViewConstants.bb[4]+128,y=ViewConstants.bb[5]+128,C=ViewConstants.bb[6]+128,c=this.Qa,l=this.coords,e=this.Ka,v=f.l,A=f.u;var B=f.s;var D=f.v,E=this.height/2-this.va-this.Zb+.5,G=this.width/2-this.Ca-this.dc+.5,F=this.zoom*this.Bc,I=!this.qc&&!this.kd;(this.V||this.fa)&&0!==(this.counter&1)&&(a=this.Ja);e.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),l=this.coords,e=this.Ka);-1!==this.xa&&(0!==this.Aa?(v=Math.round((this.width-
this.Aa)/2)-1,A=v+this.Aa-1+2):(v=0,A=this.width-1),0!==this.wa?(B=Math.round((this.height-this.wa)/2)-1,D=B+this.wa-1+2):(B=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(r=f=0;B<=D;B+=1){var L=(B-t+E)*F+n;if(L>=-F&&L<this.H+F){L=a[B];b&&(d=b[B]);var K=B-t;var J=G-x;for(p=v;p<=A;p+=1){var M=(p+J)*F+m;if(M>=-F&&M<this.J+2*F){M=L[p];if(d){var H=d[p];if(H===z||H===C)M=M>c?w:H;else if(H===w||H===y)M=M<c?z:H}0<M&&(e[f]=(M<<k.Ei)+r,M=p-x,H=
p+B&1,l[r]=M-1,l[r+1]=K+H,l[r+2]=M+1,l[r+3]=K+H,l[r+4]=M,l[r+5]=K+1-H,r+=6,f+=1);f===k.Gc&&(this.zb=f,this.Sd(!0,I,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.Sd(!1,!1,!1)),r=f=0)}}}}this.zb=f;0<f&&(this.Sd(!0,I,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.Sd(!1,!1,!1)),r=0);if(this.qc){this.context.strokeStyle="rgb("+(this.$d>>16)+","+(this.$d>>8&255)+","+(this.$d&255)+")";this.context.lineWidth=
1;D=n/F-E+t|0;f=0;for(B=-n/F-E+t|0;B<=D;B+=1)if(L=(B-t+E)*F+n,L>=-F&&L<this.H+F)for(K=B-t,J=G-x,v=-m/F-J-F|0,A=m/F-J+F|0,p=v;p<=A;p+=1)M=(p+J)*F+m,M>=-F&&M<this.J+F&&(M=p-x,H=p+B&1,l[r]=M-1,l[r+1]=K+H,l[r+2]=M+1,l[r+3]=K+H,l[r+4]=M,l[r+5]=K+1-H,r+=6,f+=1),f===k.Gc&&(this.zb=f,this.Sd(!1,!1,!1),r=f=0);this.zb=f;0<f&&this.Sd(!1,!1,!1)}};q.prototype.Sd=function(a,b,d){var f,m=this.context,n=this.width/2-this.Ca-this.dc,p=this.height/2-this.va-this.Zb,r=this.zoom*this.Bc,x=this.zoom*this.Bc*ViewConstants.ie,
t=this.J/2,w=this.H/2,z=0,y=0,C=-1,c=this.coords,l=this.zb,e=this.Ka,v=(1<<k.Ei)-1;if(a&&!d&&e.sort){y=(k.Gc<<k.Ei)+256;for(f=l;f<k.Gc;f+=1)e[f]=y;e.sort()}m.beginPath();a||(C=y=z=0);for(f=0;f<l;f+=1){a&&(y=e[f],z=y&v,y>>=k.Ei);var A=c[z];var B=c[z+1];z+=2;var D=(B+p)*x+w;var E=(A+n)*r+t;var G=(c[z+1]-B)*x;var F=(c[z]-A)*r;z+=2;y!==C&&(C=y,0<f&&(a?(b&&m.stroke(),m.fill()):m.stroke(),m.beginPath()),a&&!d&&(m.fillStyle=this.Gh[y],b&&(m.strokeStyle=this.Gh[y])));m.moveTo(E|0,D|0);m.lineTo(F+E|0,G+D|
0);m.lineTo(F+E|0,D|0);G=(c[z+1]-B)*x;F=(c[z]-A)*r;m.lineTo(F+E|0,G+D|0);z+=2}a?(b&&m.stroke(),m.fill()):m.stroke()};q.prototype.iy=function(a,b,d,f,m,n,p){var r=0,x=this.width/2-.25,t=this.height/2,w=Math.PI/3,z=.5/Math.cos(w/2)*1.16,y=ViewConstants.ie/4/Math.cos(w/2)*1.16,C=[],c=[],l=this.coords,e=this.Ka,v=this.J/2,A=this.H/2,B=this.width/2-this.Ca-this.dc,D=this.height/2-this.va-this.Zb,E=this.oa;B=B+D/2+-(this.height>>2)+.5;D+=.5;if(a>d){var G=d;d=a;a=G}b>f&&(G=f,f=b,b=G);a+=m;d+=m;b+=n;f+=n;
e.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),l=this.coords,e=this.Ka);n=w/2;for(m=0;5>=m;m+=1)C[m]=Math.cos(n)*y,c[m]=Math.sin(n)*z,C[m]+=c[m]/2,n+=w;w=C[0];z=c[0];y=C[1];G=c[1];var F=C[2];var I=c[2];var L=C[3];var K=c[3];var J=C[4];var M=c[4];C=C[5];c=c[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(n=m=0;b<=f;b+=1){var H=b-t;var U=(H+D)*E+A;if(U>=-E&&U<this.H+E)for(U=a;U<=d;U+=1){if(0<
p[r]){var qa=U-x;var ka=(qa+B-(H+D)/2)*E+v;ka>=-E&&ka<this.J+E&&(e[m]=(0<<k.Ei)+n,l[n]=w+qa,l[n+1]=z+H,l[n+2]=y+qa,l[n+3]=G+H,l[n+4]=F+qa,l[n+5]=I+H,l[n+6]=L+qa,l[n+7]=K+H,l[n+8]=J+qa,l[n+9]=M+H,l[n+10]=C+qa,l[n+11]=c+H,n+=12,m+=1,m===k.Gc&&(this.zb=m,this.Id(!0,!1,!1,!0),n=m=0))}r+=1}else r+=d-a+1}this.zb=m;0<m&&this.Id(!0,!1,!1,!0)};q.prototype.ku=function(a,b,d,f,m,n){var p=this.width/2-.25,r=this.height/2,x=Math.PI/3,t=.5/Math.cos(x/2)*1.16,w=ViewConstants.ie/4/Math.cos(x/2)*1.16,z=[],y=[],C=
this.coords,c=this.Ka,l=this.J/2,e=this.H/2,v=this.width/2-this.Ca-this.dc,A=this.height/2-this.va-this.Zb,B=this.oa;v=v+A/2+-(this.height>>2)+.5;A+=.5;if(a>d){var D=d;d=a;a=D}b>f&&(D=f,f=b,b=D);a+=m;d+=m;b+=n;f+=n;c.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),C=this.coords,c=this.Ka);n=x/2;for(m=0;5>=m;m+=1)z[m]=Math.cos(n)*w,y[m]=Math.sin(n)*t,z[m]+=y[m]/2,n+=x;x=z[0];t=y[0];w=z[1];D=y[1];var E=z[2];var G=y[2];var F=z[3];var I=
y[3];var L=z[4];var K=y[4];z=z[5];y=y[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(n=m=0;b<=f;b+=1){var J=b-r;var M=(J+A)*B+e;if(M>=-B&&M<this.H+B)for(M=a;M<=d;M+=1){var H=M-p;var U=(H+v-(J+A)/2)*B+l;U>=-B&&U<this.J+B&&(c[m]=(0<<k.Ei)+n,C[n]=x+H,C[n+1]=t+J,C[n+2]=w+H,C[n+3]=D+J,C[n+4]=E+H,C[n+5]=G+J,C[n+6]=F+H,C[n+7]=I+J,C[n+8]=L+H,C[n+9]=K+J,C[n+10]=z+H,C[n+11]=y+J,n+=12,m+=1,m===k.Gc&&(this.zb=m,this.Id(!0,!1,!1,!0),n=m=0))}}this.zb=m;0<m&&this.Id(!0,
!1,!1,!0)};q.prototype.tK=function(){var a=this.S,b=this.ic,d=null,f=this.ae,m=this.J/2,n=this.H/2,p,r=this.width/2-.25,x=this.height/2,t=Math.PI/3,w=.5/Math.cos(t/2)*1.16,z=ViewConstants.ie/4/Math.cos(t/2)*1.16,y=[],C=[],c=ViewConstants.bb[3]+128,l=ViewConstants.bb[4]+128,e=ViewConstants.bb[5]+128,v=ViewConstants.bb[6]+128,A=this.Qa,B=this.coords,D=this.Ka,E=f.l,G=f.u;var F=f.s;var I=f.v,L=this.height/2-this.va-this.Zb+.5,K=this.width/2-this.Ca-this.dc+.5-(this.height>>2)+L/2,J=this.zoom*this.Bc,
M=!this.qc&&!this.kd;(this.V||this.fa)&&0!==(this.counter&1)&&(a=this.Ja);D.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),B=this.coords,D=this.Ka);-1!==this.xa&&(0!==this.Aa?(E=Math.round((this.width-this.Aa)/2)-1,G=E+this.Aa-1+2):(E=0,G=this.width-1),0!==this.wa?(F=Math.round((this.height-this.wa)/2)-1,I=F+this.wa-1+2):(F=0,I=this.height-1));var H=t/2;for(f=0;5>=f;f+=1)y[f]=Math.cos(H)*z,C[f]=Math.sin(H)*w,y[f]+=C[f]/2,H+=t;t=
y[0];w=C[0];z=y[1];var U=C[1];var qa=y[2];var ka=C[2];var O=y[3];var ca=C[3];var Q=y[4];var W=C[4];y=y[5];C=C[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(H=f=0;F<=I;F+=1){var ia=(F+L-x)*J+n;if(ia>=-J&&ia<this.H+J){ia=a[F];b&&(d=b[F]);var ha=F-x;var X=K-r-(ha+L)/2;for(p=E;p<=G;p+=1){var ea=(p+X)*J+m;if(ea>=-J&&ea<this.J+J){ea=ia[p];if(d){var da=d[p];if(da===l||da===v)ea=ea>A?c:da;else if(da===c||da===e)ea=ea<A?l:da}0<ea&&(D[f]=(ea<<k.Ei)+H,ea=p-r,B[H]=
t+ea,B[H+1]=w+ha,B[H+2]=z+ea,B[H+3]=U+ha,B[H+4]=qa+ea,B[H+5]=ka+ha,B[H+6]=O+ea,B[H+7]=ca+ha,B[H+8]=Q+ea,B[H+9]=W+ha,B[H+10]=y+ea,B[H+11]=C+ha,H+=12,f+=1);f===k.Gc&&(this.zb=f,this.Id(!0,M,!1,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.Id(!1,!1,!1,!1)),H=f=0)}}}}this.zb=f;0<f&&(this.Id(!0,M,!1,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ua[0]+","+this.Ra[0]+","+this.Ta[0]+")",this.Id(!1,!1,!1,!1)),H=0);if(this.qc){this.context.strokeStyle=
"rgb("+(this.$d>>16)+","+(this.$d>>8&255)+","+(this.$d&255)+")";this.context.lineWidth=1;f=0;I=n/J-L+x|0;for(F=-n/J-L+x|0;F<=I;F+=1)if(ia=(F+L-x)*J+n,ia>=-J&&ia<this.H+J)for(ha=F-x,X=K-r-(ha+L)/2,E=-m/J-X-J|0,G=m/J-X+J|0,p=E;p<=G;p+=1)ea=(p+X)*J+m,ea>=-J&&ea<this.J+J&&(ea=p-r,B[H]=t+ea,B[H+1]=w+ha,B[H+2]=z+ea,B[H+3]=U+ha,B[H+4]=qa+ea,B[H+5]=ka+ha,B[H+6]=O+ea,B[H+7]=ca+ha,H+=8,f+=1),f===k.Gc&&(this.zb=f,this.Id(!1,!1,!0,!1),H=f=0);this.zb=f;0<f&&this.Id(!1,!1,!0,!1)}};q.prototype.Id=function(a,b,d,
f){var m=this.context,n=this.width/2-this.Ca-this.dc,p=this.height/2-this.va-this.Zb,r=this.zoom*this.Bc,x=this.J/2,t=this.H/2,w=0,z=0,y=12,C=0,c=-1,l=this.coords,e=this.zb,v=this.Ka,A=(1<<k.Ei)-1;n=n+p/2+-(this.height>>2)+.5;p+=.5;a&&!f&&v.sort&&(C=(k.Gc<<k.Ei)+256,v.fill(C,e),v.sort());m.beginPath();a||(z=y=d?8:12,c=C=w=0);for(d=0;d<e;d+=1){a&&(C=v[d],w=C&A,z=w+y,C>>=k.Ei);var B=l[w];var D=l[w+1];var E=D+p;var G=B+n-E/2;w+=2;E=E*r+t;G=G*r+x;var F=(l[w+1]-D)*r;var I=(l[w]-B)*r-F/2;w+=2;C!==c&&(c=
C,0<d&&(a?(b&&m.stroke(),m.fill()):m.stroke(),m.beginPath()),a&&!f&&(m.fillStyle=this.Gh[C],b&&(m.strokeStyle=this.Gh[C])));m.moveTo(G,E);for(m.lineTo(I+G,F+E);w<z;)F=(l[w+1]-D)*r,I=(l[w]-B)*r-F/2,w+=2,m.lineTo(I+G,F+E);z+=y}a?(b&&m.stroke(),m.fill()):m.stroke()};q.prototype.Iu=function(a,b,d,f,m,n,p){var r="",x=b.ta?b.ae:b.M,t=x.l,w=x.u,z=x.v,y=x.s,C=w-t+1,c=z-y+1;x=0;var l=[],e=this.S,v=null;var A=(b.width>>1)-(a.kb>>1);var B=(b.height>>1)-(a.qb>>1),D=a.Ob;2>f&&(f=2);2>m&&(m=2);f===m&&this.ta&&
(m=f=7);a.ub&&(t=D.l+A,y=D.s+B,w=D.u+A,z=D.v+B,t>w&&(A=t,t=w,w=A),y>z&&(A=y,y=z,z=A),C=w-t+1,c=z-y+1);b.P&&(0<t&&0!==(t&1)&&(--t,C+=1),0<y&&0!==(y&1)&&(--y,c+=1));b.la&&(0<t&&0===(t&1)&&(--t,C+=1),0<y&&0===(y&1)&&(--y,c+=1));if(0===n.length)for(A=0;A<f;A+=1)n[A]=A;if(2>=m)l[0]="b",l[1]="o";else for(l[0]=".",A=0;A<m-1;A+=1)l[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);d&&(r+=b.Fc);A=p&&""!==a.rd?a.rd:a.Jb;"Conway's Life"===A&&(A="Life");"B3/S23History"===
A&&(A="LifeHistory");r=r+("x = "+C+", y = "+c+", rule = "+A)+a.an;r+="\n";for(a=r.length;y<=z;){A=t;2>=f&&!this.fa?(v=e[y],C=v[A],m=C<=this.df||C===this.Kb?0:1):m=b.getState(A,y,!1);p=1;for(A+=1;A<=w+1;)A>w?C=-1:2>=f&&!this.fa?(C=v[A],C=C<=this.df||C===this.Kb?0:1):C=b.getState(A,y,!1),C!==m?((-1!==C||0!==m)&&0<x&&(1<x&&(r+=x),r+="$",69<=r.length-a&&(r+="\n",a=r.length),x=0),0<m?(1<p&&(r+=p),r+=l[n[m]]):A<=w&&(1<p&&(r+=p),r+=l[n[m]]),69<=r.length-a&&(r+="\n",a=r.length),p=1,m=C):p+=1,A+=1;x+=1;y+=
1}r+="!\n";d&&(r+=b.Lg);return r};q.prototype.MI=function(a,b,d,f){var m=this.hb,n=this.ja,p=this.S,r=this.La,x=this.Da,t=this.Ae,w=this.M,z=this.ae,y,C=!0,c=this.P?1:0,l=this.P?14:15;if(a!==(a&this.Ab)||b!==(b&this.Cb)){C=!1;var e=this.width<this.ia&&a!==(a&this.Ab);for(y=this.height<this.ia&&b!==(b&this.Cb);e||y;)(e||y)&&this.Wr(e,y),e&&(a+=this.width>>2),y&&(b+=this.height>>2),e=this.width<this.ia&&a!==(a&this.Ab),y=this.height<this.ia&&b!==(b&this.Cb);a===(a&this.Ab)&&b===(b&this.Cb)&&(C=!0,m=
this.hb,n=this.ja,p=this.S,r=this.La,x=this.Da,t=this.Ae)}if(C)if(0!==(this.counter&1)&&(m=this.Yb,n=this.ra),e=1<<(~a&15),y=1<<(~(a>>4)&15),1===(d&1)?(this.Y=1,0===(m[b][a>>4]&e)&&(this.ga+=1),p[b][a]=this.ee?(a+b&127)+64:this.Qa,r[b>>4][a>>8]|=y,x[b>>4][a>>8]|=y,m[b][a>>4]|=e,n[b>>4][a>>8]|=y,t[b>>4][a>>8]&=~y,f=a&15,0<a&&f<=c?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),
0<a&&f<=c?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=c?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=l&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--b)):(0!==(m[b][a>>4]&e)&&--this.ga,p[b][a]=f?this.rb:this.df,r[b>>4][a>>8]|=y,x[b>>4][a>>8]|=y,m[b][a>>4]&=~e),0<d)1===this.ga?(w.l=a,w.u=a,w.s=b,w.v=b):(a<w.l&&(w.l=a),a>
w.u&&(w.u=a),b<w.s&&(w.s=b),b>w.v&&(w.v=b)),a<z.l&&(z.l=a),a>z.u&&(z.u=a),b<z.s&&(z.s=b),b>z.v&&(z.v=b);else if(a===w.l||a===w.u||b===w.v||b===w.s)this.Hg=!0;return 0};q.prototype.NI=function(a,b,d,f){var m=this.hb,n=this.ja,p=this.S,r=this.La,x=this.Da,t=this.Ae,w=this.ic,z=this.M,y=this.ae,C,c=!0,l=0,e=this.P?1:0,v=this.P?14:15;if(a!==(a&this.Ab)||b!==(b&this.Cb)){c=!1;var A=this.width<this.ia&&a!==(a&this.Ab);for(C=this.height<this.ia&&b!==(b&this.Cb);A||C;)(A||C)&&this.Wr(A,C),A&&(a+=this.width>>
2),C&&(b+=this.height>>2),A=this.width<this.ia&&a!==(a&this.Ab),C=this.height<this.ia&&b!==(b&this.Cb);a===(a&this.Ab)&&b===(b&this.Cb)&&(c=!0,m=this.hb,n=this.ja,p=this.S,r=this.La,x=this.Da,w=this.ic,t=this.Ae)}if(c){0!==(this.counter&1)&&(m=this.Yb,n=this.ra);A=1<<(~a&15);C=1<<(~(a>>4)&15);1===(d&1)?(this.Y=1,0===(m[b][a>>4]&A)&&(this.ga+=1),p[b][a]=this.Qa,r[b>>4][a>>8]|=C,x[b>>4][a>>8]|=C,m[b][a>>4]|=A,n[b>>4][a>>8]|=C,t[b>>4][a>>8]&=~C,f=a&15,0<a&&f<=e?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),
a+=f+1):a<this.width-1&&f>=v&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=v&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=v&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--b)):(0!==(m[b][a>>4]&A)&&--this.ga,p[b][a]=
f?this.rb:this.df,r[b>>4][a>>8]|=C,x[b>>4][a>>8]|=C,m[b][a>>4]&=~A);if(w){n=w[b][a];0<n&&(n=ViewConstants.bb.indexOf(n-128));if(6===d&&6!==n||6!==d&&6===n)l=1;2===d&&(p[b][a]=k.pl);w[b][a]=0===d?0:ViewConstants.bb[d]+128}if(0<d)1===this.ga?(z.l=a,z.u=a,z.s=b,z.v=b):(a<z.l&&(z.l=a),a>z.u&&(z.u=a),b<z.s&&(z.s=b),b>z.v&&(z.v=b)),a<y.l&&(y.l=a),a>y.u&&(y.u=a),b<y.s&&(y.s=b),b>y.v&&(y.v=b);else if(a===z.l||a===z.u||b===z.v||b===z.s)this.Hg=!0}return l};q.prototype.Mu=function(a,b,d,f){var m=this.hb,n=
this.ja,p=this.S,r=this.La,x=this.Da,t=this.Ae,w=this.ic,z=this.M,y=this.Pa,C=this.ae,c=0,l,e=this.la?-1:0;var v=Math.round((this.width-this.Aa)/2)+e;var A=Math.round((this.height-this.wa)/2)+e,B=v+this.Aa-1,D=A+this.wa-1,E=!0;e=0;var G=this.P?1:0,F=this.P?14:15;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(p=this.Ja);-1!==this.xa&&(0===this.Aa&&(v=0,B=this.width-1),0===this.wa&&(A=0,D=this.height-1));if(a!==(a&this.Ab)||b!==(b&this.Cb)){E=!1;var I=this.width<this.ia&&a!==(a&this.Ab);for(l=this.height<
this.ia&&b!==(b&this.Cb);I||l;)(I||l)&&this.Wr(I,l),I&&(a+=this.width>>2),l&&(b+=this.height>>2),I=this.width<this.ia&&a!==(a&this.Ab),l=this.height<this.ia&&b!==(b&this.Cb);a===(a&this.Ab)&&b===(b&this.Cb)&&(E=!0,m=this.hb,n=this.ja,p=this.S,r=this.La,x=this.Da,w=this.ic,t=this.Ae)}if(E&&(-1===this.xa||a>=v&&a<=B&&b>=A&&b<=D)){if(this.L||this.fa)m=p[b][a],p[b][a]=f&&0===d?0:this.K+d,x[b>>4][a>>8]=65535,this.fa&&(0!==(this.counter&1)&&(n=this.ra),c=1<<(~(a>>4)&15),n[b>>4][a>>8]|=c,t[b>>4][a>>8]&=
~c),0===d?m>this.K&&(this.L?this.ga-=this.kg[m-this.K]:--this.ga):(this.Y=1,this.L?(m<=this.K||(this.ga-=this.kg[m-this.K]),this.ga+=this.kg[d]):(n[b>>4][a>>8]|=c,t[b>>4][a>>8]&=~c,0===m&&(this.ga+=1),r=a&15,0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&
15),a-=16-r),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),--b)));else if(0!==(this.counter&1)&&(m=this.Yb,n=this.ra),v=1<<(~a&15),c=1<<(~(a>>4)&15),this.pa)m=p[b][a],2===this.i?(n=this.Qa,1===d&&(d=this.Qa,this.Y=1)):(n=this.i-1+this.K,0<d&&(d=this.K+d,this.Y=1)),p[b][a]=d,r[b>>4][a>>8]|=c,x[b>>4][a>>8]|=c,m!==n&&d===n?this.ga+=1:m===n&&d!==n&&
--this.ga;else{(I=2>=this.i||this.V?1===(d&1):d===this.i-1)?(this.Y=1,0===(m[b][a>>4]&v)&&(this.ga+=1),p[b][a]=this.Qa,r[b>>4][a>>8]|=c,x[b>>4][a>>8]|=c,m[b][a>>4]|=v,n[b>>4][a>>8]|=c,t[b>>4][a>>8]&=~c,r=a&15,0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>
4)&15),a-=16-r),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),--b)):(0!==(m[b][a>>4]&v)&&--this.ga,p[b][a]=f?this.rb:this.df,r[b>>4][a>>8]|=c,x[b>>4][a>>8]|=c,m[b][a>>4]&=~v);if(this.ta&&w){m=w[b][a];0<m&&(m=ViewConstants.bb.indexOf(m-128));if(6===d&&6!==m||6!==d&&6===m)e=1;2===d?p[b][a]=k.pl:w[b][a]=0===d?0:ViewConstants.bb[d]+128}2<this.i&&(0<
d&&(d=this.K+d),p[b][a]=d)}if(0<d)1===this.ga&&(this.Hg=!0),a<z.l&&(z.l=a),a>z.u&&(z.u=a),b<z.s&&(z.s=b),b>z.v&&(z.v=b),a<C.l&&(C.l=a),a>C.u&&(C.u=a),b<C.s&&(C.s=b),b>C.v&&(C.v=b),this.pa&&d===this.i-1+this.K&&(1===this.ga?(y.l=a,y.u=a,y.s=b,y.v=b):(a<y.l&&(y.l=a),a>y.u&&(y.u=a),b<y.s&&(y.s=b),b>y.v&&(y.v=b)));else if(a===z.l||a===z.u||b===z.v||b===z.s)this.Hg=!0}return e};q.prototype.getState=function(a,b,d){switch(this.qv){case k.VA:return this.ou(a,b,d);case k.XA:return this.ou(a,b,!0);case k.WA:return this.ny(a,
b,d);default:return this.oy(a,b,d)}};q.prototype.Zj=function(a,b,d,f){switch(this.qv){case k.VA:return this.MI(a,b,d,f);case k.XA:return this.Mu(a,b,d,f);case k.WA:return this.NI(a,b,d,f);default:return this.Mu(a,b,d,f)}};q.prototype.jO=function(){this.qv=-1!==this.i||-1!==this.xa||this.Ga?this.fa&&2===this.i?k.XA:k.iM:this.ta?k.WA:k.VA};q.prototype.eJ=function(a){var b=1<<k.Rj;a?(this.uc=Array.ka(Uint32,1,b,0,this.A,"Life.popGraphData"),this.Fh=Array.ka(Uint32,1,b,0,this.A,"Life.birthGraphData"),
this.ti=Array.ka(Uint32,1,b,0,this.A,"Life.deathGraphData"),this.Mh=b):(this.uc=Array.ka(Uint32,0,0,0,this.A,"Life.popGraphData"),this.Fh=Array.ka(Uint32,0,0,0,this.A,"Life.birthGraphData"),this.ti=Array.ka(Uint32,0,0,0,this.A,"Life.deathGraphData"),this.Mh=0)};q.prototype.ou=function(a,b,d){var f=0,m=this.S;a===(a&this.Ab)&&b===(b&this.Cb)&&(this.fa&&0!==(this.counter&1)&&(m=this.Ja),a=m[b][a],d?f=a:f=a<=this.df?0:1);return f};q.prototype.ny=function(a,b,d){var f=0,m=ViewConstants.bb[3]+128,n=ViewConstants.bb[4]+
128,p=ViewConstants.bb[5]+128,r=ViewConstants.bb[6]+128;a===(a&this.Ab)&&b===(b&this.Cb)&&(f=this.S[b][a],d||(this.ic?(a=this.ic[b][a],a===n||a===r?(f>=this.Qa&&(a=m),f=ViewConstants.bb.indexOf(a-128)):a===m||a===p?(f<this.Qa&&(a=n),f=ViewConstants.bb.indexOf(a-128)):f=f===this.rb?0:f<=this.df?2:1):f=f<=this.df?0:1));return f};q.prototype.oy=function(a,b,d){var f=0,m=ViewConstants.bb[3]+128,n=ViewConstants.bb[4]+128,p=ViewConstants.bb[5]+128,r=ViewConstants.bb[6]+128,x=this.la?-1:0,t=Math.round((this.width-
this.Aa)/2)+x;x=Math.round((this.height-this.wa)/2)+x;var w=t+this.Aa-1,z=x+this.wa-1,y=this.S;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(y=this.Ja);a===(a&this.Ab)&&b===(b&this.Cb)&&(f=y[b][a],d||2<this.i?2<this.i&&0<f&&!this.Ga&&(f<=this.K?f=0:(-1!==this.xa&&(0===this.Aa&&(t=0,w=this.width-1),0===this.wa&&(x=0,z=this.height-1)),f=-1===this.xa||f!==this.Kb||a>=t&&a<=w&&b>=x&&b<=z?this.L||this.fa||this.V?f-this.K:this.i+this.K-f:0)):this.ic?-1===this.xa||f!==this.Kb||a>=t&&a<=w&&b>=x&&b<=z?
(a=this.ic[b][a],a===n||a===r?(f>=this.Qa&&(a=m),f=ViewConstants.bb.indexOf(a-128)):a===m||a===p?(f<this.Qa&&(a=n),f=ViewConstants.bb.indexOf(a-128)):f=f===this.rb?0:f<=this.df?2:1):f=0:f=f<=this.df||f===this.Kb?0:1);return f};q.prototype.Wl=function(a){var b,d,f,m=a.length,n=a[0].length,p=this.kg,r=0;for(b=0;b<m;b+=1){var x=a[b];for(d=0;d<n;d+=1)(f=x[d])&&(r+=p[f])}return r};q.prototype.kk=function(a,b){var d=a.qg,f=d.length,m=!1;if(this.la||this.L)for(this.td=this.ud=!1,a=0;!m&&a<f;){var n=d[a];
n.ai<b?("reverse playback"===n.action&&(this.td=!this.td),a+=1):n.ai>b?m=!0:"reverse playback"===n.action?m=this.ud=!0:a+=1}};q.prototype.qt=function(a,b,d,f){var m=this.dh.vf.length,n=null;a<this.counter&&(n=this.dh.mO(a),m!==this.dh.vf.length&&(this.yo-=k.xt*(m-this.dh.vf.length)));n&&(this.xu(n,f),f.hi());for(;this.counter<a-1;)this.Y?(this.kk(f,this.counter),this.we(!1,!0,d,f.Gb,f),f.Mb+=f.Ma,0===this.Y&&2<this.i||this.re(),0===this.Y&&2>=this.i&&(this.Y=1,this.kk(f,this.counter),this.we(!1,!1,
d,f.Gb,f),this.Y=0,--this.counter,f.Mb-=f.Ma)):(this.counter+=1,f.Mb+=f.Ma,this.re()),f.hi();this.counter<a?(this.Y?(this.kk(f,this.counter),this.we(b,!0,d,f.Gb,f),f.Mb+=f.Ma,0===this.Y&&2<this.i||this.re(),0===this.Y&&2>=this.i&&(this.Y=1,this.kk(f,this.counter),this.we(!1,!1,d,f.Gb,f),this.Y=0,--this.counter,f.Mb-=f.Ma)):(this.counter+=1,f.Mb+=f.Ma,this.re()),f.hi()):-1===this.i&&0<this.counter&&this.re();f.Ij&&(this.Y=1)};q.prototype.xu=function(a,b){var d=this.S,f=this.ic;this.counter=a.counter;
b.Mb=a.gF;this.bf=a.bf;this.Kj=a.Kj;if(0!==(this.counter&1)){b=this.uh;var m=this.zd;var n=this.ra;var p=this.ja}else b=this.zd,m=this.uh,n=this.ja,p=this.ra;b.Wa.fill(0);m.Wa.fill(0);this.S.Wa.fill(0);(this.L||this.fa||this.V)&&this.Ja.Wa.fill(0);this.ac.Wa.fill(0);this.Ae.Wa.fill(0);a.CN(b,n,this);a.BN(d,this.La,this);(this.L||this.fa||this.V)&&Array.Wh(d,this.Ja);this.pg?(f.Wa.fill(0),this.$c.Wa.fill(0),a.DN(f,this.Da,this),this.Lf()):Array.Wh(this.Da,this.La);Array.Wh(n,p);Array.Wh(b,m);this.M.l=
a.M.l;this.M.s=a.M.s;this.M.u=a.M.u;this.M.v=a.M.v;this.Pa.l=a.Pa.l;this.Pa.s=a.Pa.s;this.Pa.u=a.Pa.u;this.Pa.v=a.Pa.v;this.ga=a.ga;this.Vb=a.Vb;this.Fb=a.Fb;this.Y=a.Y};q.prototype.st=function(a){if(0!==(this.counter&1)){var b=this.uh;var d=this.ra}else b=this.zd,d=this.ja;this.zu(!1,b,d,a)};q.prototype.pt=function(a,b){this.xu(this.$t,a);this.dh.reset();this.yo=k.xt;b||this.st(a)};q.prototype.zu=function(a,b,d,f){var m=this.S;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(m=this.Ja);this.dh.st(b,
d,m,this.Da,this.ic,this.Da,this.M,this.Pa,this.ga,this.Vb,this.Fb,this.counter,f.Mb,this.bf,this.Kj,(this.ua-1>>4)+1,this.ya,this,a,this.Y)};q.prototype.PN=function(a,b){this.dh.reset();this.$t=this.dh.lz((this.ua-1>>4)+1,this.ya,!0,this.pg);this.zu(!0,this.zd,this.ja,b);a||this.st(b)};q.prototype.uN=function(a,b){var d=this.ic,f=this.wf;this.width=a;this.height=b;this.pa&&this.za.resize(this.width,this.height);this.zd=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.grid");this.uh=
Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.nextGrid");this.hb=Array.Ad(Uint16,this.zd,"Life.grid16");this.Yb=Array.Ad(Uint16,this.uh,"Life.nextGrid16");f&&(this.wf=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Mask"),this.bk=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Alive"),this.aj=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Cells"));this.ua=this.width>>4;this.ya=this.height>>4;f&&(this.Ig=Array.ka(Uint16,
this.ya,(this.ua-1>>4)+1,0,this.A,"Life.state6TileGrid"));this.ja=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.tileGrid");this.ra=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.nextTileGrid");this.Ae=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.staticTileGrid");this.La=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileGrid");this.Da=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileHistoryGrid");this.Cf=this.A.R(Uint8,(this.width-1>>3)+
1,"Life.blankRow");this.pr=this.A.R(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.na=this.A.R(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.gb=this.A.R(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.S=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.colourGrid");this.L||this.fa||this.V?(this.Ja=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.nextColourGrid"),
this.Lh=Array.Ad(Uint16,this.Ja,"Life.nextColourGrid16"),this.Ba=Array.Ad(Uint32,this.Ja,"Life.nextColourGrid32")):this.Ba=this.Lh=this.Ja=null;this.ac=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallColourGrid");this.nl=Array.Ad(Uint16,this.S,"Life.colourGrid16");this.Yd=Array.Ad(Uint32,this.S,"Life.colourGrid32");d&&(this.ic=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.overlayGrid"),this.$c=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallOverlayGrid"),
this.Eo=Array.Ad(Uint16,this.ic,"Life.overlayGrid16"),this.Lk=Array.Ad(Uint32,this.ic,"Life.overlayGrid32"));this.Ab=this.width-1;this.Cb=this.height-1;this.dh.oH((this.ua-1>>4)+1,this.ya,0,0,0,0,this.pg)};q.prototype.fJ=function(){this.height=this.width=1024;this.zd=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.grid");this.uh=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.nextGrid");this.hb=Array.Ad(Uint16,this.zd,"Life.grid16");this.Yb=Array.Ad(Uint16,this.uh,"Life.nextGrid16");
this.ua=this.width>>4;this.ya=this.height>>4;this.Ig&&this.RE();this.ja=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.tileGrid");this.ra=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.nextTileGrid");this.Ae=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.staticTileGrid");this.La=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileGrid");this.Da=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileHistoryGrid");this.Cf=this.A.R(Uint8,(this.width-
1>>3)+1,"Life.blankRow");this.pr=this.A.R(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.na=this.A.R(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.gb=this.A.R(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.S=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.colourGrid");this.nl=Array.Ad(Uint16,this.S,"Life.colourGrid16");this.Yd=Array.Ad(Uint32,this.S,"Life.colourGrid32");
this.L||this.fa||this.V?(this.Ja=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.nextColourGrid"),this.Lh=Array.Ad(Uint16,this.Ja,"Life.nextColourGrid16"),this.Ba=Array.Ad(Uint32,this.Ja,"Life.nextColourGrid32")):this.Ba=this.Lh=this.Ja=null;this.ac=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallColourGrid");this.ic&&this.LE();this.Ab=this.width-1;this.Cb=this.height-1};q.prototype.Wr=function(a,b){var d=this.height,f=this.zd,m=this.uh,n=this.S,p=this.Ja,r=this.ac,x=this.ic,
t=this.$c,w=this.wf,z=this.bk,y=this.aj,C=this.Ak,c=this.Ag,l=this.Ig,e=this.ja,v=this.ra,A=this.Ae,B=this.La,D=this.Da,E=this.ya,G=0,F=0,I=0,L=0,K;if(this.width<this.ia||d<this.ia){a&&(G=this.width>>1,this.width*=2);b&&(F=this.height>>1,this.height*=2);this.pa&&this.za.resize(this.width,this.height);this.zd=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.grid");this.uh=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.nextGrid");this.hb=Array.Ad(Uint16,this.zd,"Life.grid16");
this.Yb=Array.Ad(Uint16,this.uh,"Life.nextGrid16");w&&(this.wf=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Mask"),this.bk=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Alive"),this.aj=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Cells"));this.ua=this.width>>4;this.ya=this.height>>4;w&&(this.Ig=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.state6TileGrid"));this.ja=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.tileGrid");
this.ra=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.nextTileGrid");this.Ae=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.staticTileGrid");this.La=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileGrid");this.Da=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileHistoryGrid");this.Cf=this.A.R(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.pr=this.A.R(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");
this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.na=this.A.R(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.gb=this.A.R(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");C&&(this.Ak=Array.ka(Uint8,this.height,this.width,k.ml,this.A,"Life.countList"));c&&(this.Ag=Array.ka(Uint8,this.height,this.width,0,this.A,"Life.initList"));this.S=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.colourGrid");this.ac=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallColourGrid");
this.nl=Array.Ad(Uint16,this.S,"Life.colourGrid16");this.Yd=Array.Ad(Uint32,this.S,"Life.colourGrid32");this.L||this.fa||this.V?(this.Ja=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.nextColourGrid"),this.Lh=Array.Ad(Uint16,this.Ja,"Life.nextColourGrid16"),this.Ba=Array.Ad(Uint32,this.Ja,"Life.nextColourGrid32")):this.Ba=this.Lh=this.Ja=null;x&&(this.ic=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.overlayGrid"),this.$c=Array.ka(Uint8,this.height,this.width,this.rb,this.A,
"Life.smallOverlayGrid"),this.Eo=Array.Ad(Uint16,this.ic,"Life.overlayGrid16"),this.Lk=Array.Ad(Uint32,this.ic,"Life.overlayGrid32"));this.Ab=this.width-1;this.Cb=this.height-1;for(K=0;K<d;K+=1)this.zd[K+F].set(f[K],G>>3),this.uh[K+F].set(m[K],G>>3),this.S[K+F].set(n[K],G),this.ac[K+F].set(r[K],G),(this.L||this.fa||this.V)&&this.Ja[K+F].set(p[K],G),this.Ak&&this.Ak[K+F].set(C[K],G),this.Ag&&this.Ag[K+F].set(c[K],G),x&&t&&(this.ic[K+F].set(x[K],G),this.$c[K+F].set(t[K],G)),w&&z&&y&&(this.wf[K+F].set(w[K],
G>>4),this.bk[K+F].set(z[K],G>>4),this.aj[K+F].set(y[K],G>>4));b&&(L=E>>1);a&&(I=this.ja[0].length>>2);for(K=0;K<E;K+=1)l&&this.Ig[K+L].set(l[K],I),this.ja[K+L].set(e[K],I),this.ra[K+L].set(v[K],I),this.Ae[K+L].set(A[K],I),this.La[K+L].set(B[K],I),this.Da[K+L].set(D[K],I);this.dh.oH((this.ua-1>>4)+1,this.ya,I,L,G,F,this.pg);this.Ca+=G;this.va+=F;this.T&&(this.Ca-=F/2|0);this.M.l+=G;this.M.u+=G;this.M.v+=F;this.M.s+=F;this.Pa.l+=G;this.Pa.u+=G;this.Pa.v+=F;this.Pa.s+=F;this.Yf.l+=G;this.Yf.u+=G;this.Yf.v+=
F;this.Yf.s+=F;this.ae.l+=G;this.ae.u+=G;this.ae.v+=F;this.ae.s+=F;if(0<this.ab)for(K=0;K<this.ab;K+=1)b=this.fc[(K<<1)+1],a=(b>>16)+G,b=(b&65535)+F,this.fc[(K<<1)+1]=a<<16|b}};q.prototype.Kz=function(a,b,d){var f=this.width,m=this.height,n=!1,p=!1,r=!1;(f<this.ia||m<this.ia)&&this.Y&&(f<this.ia&&(b.l<=d||b.u>=f-d)&&(n=!0),m<this.ia&&(b.s<=d||b.v>=m-d)&&(p=!0),n||p)&&(this.Wr(n,p),r=!0,n&&(a.ef+=this.width>>2,a.uf+=this.width>>2),p&&(a.zj+=this.height>>2,a.Yj+=this.height>>2),a.g.T&&p&&(a.ef-=this.height>>
3,a.uf-=this.height>>3),n&&(a.Lc+=this.width>>2),p&&(a.Mc+=this.height>>2),n&&(b.l+=this.width>>2,b.u+=this.width>>2),p&&(b.s+=this.height>>2,b.v+=this.height>>2));return r};q.prototype.wJ=function(a,b,d){for(;this.Kz(a,b,d););};q.prototype.sy=function(){var a,b=this.mu;for(a=0;65536>a;a+=1){var d=a;var f=0;65535<d&&(d>>=16,f+=16);255<d&&(d>>=8,f+=8);15<d&&(d>>=4,f+=4);3<d&&(d>>=2,f+=2);f+=d>>1;b[a]=f}};q.prototype.qy=function(){var a,b,d=this.kg;for(a=0;65536>a;a+=1){var f=a;for(b=0;f;b+=1)f&=f-
1;d[a]=b}};q.prototype.ry=function(){var a,b,d=this.cu,f=this.Qa;for(a=0;256>a;a+=1)for(b=0;8>b;b+=1)d[(a<<3)+b]=a&1<<7-b?f:0};q.prototype.wN=function(a,b){var d,f=0,m=this.kg;var n=this.M;var p=n.l,r=n.u,x=n.v;n=n.s;if(this.pa||this.L||this.fa||this.Ga)for(;n<=x;n+=1){var t=b[n];for(d=p;d<=r;d+=1)a=t[d],0<a&&(f=this.L?f+m[a-this.K]:f+1)}else for(p>>=4,r>>=4;n<=x;n+=1)for(t=a[n],d=p;d<=r;d+=1)b=m[t[d]],f+=b;this.ga=f;this.Fb=this.Vb=0};q.prototype.nH=function(a,b){var d=this.context,f=!1;var m=this.be?
4278190080:255;if(this.J!==a||this.H!==b)f=!0;this.J=a;this.H=b;this.lj=this.dl=this.yd=this.Oc=null;this.Oc=d.createImageData(d.canvas.width,d.canvas.height);this.A.wC(Uint32,d.canvas.width*d.canvas.height,"Life.imageData");this.Oc.data.buffer?this.yd=new Uint32Array(this.Oc.data.buffer):(this.yd=new Uint32Array(this.Oc.data.length>>2),this.dl=new Uint8Array(this.yd.buffer));if(f){this.el=this.A.R(Uint32,a,"Life.blankPixelRow");for(b=0;b<a;b+=1)this.el[b]=m;this.NA(m);this.mA()}};q.prototype.QJ=
function(a,b,d){var f,m,n=this.S,p=a.width,r=a.height,x=this.Ab,t=this.Cb,w=this.pl,z=ViewConstants.bb[2];for(m=0;m<r;m+=1){var y=a.sh[m];var C=n[m+d&t];for(f=0;f<p;f+=1)y[f]===z&&(C[f+b&x]=w)}};q.prototype.NK=function(){this.Lk=this.Eo=this.$c=this.ic=null};q.prototype.LE=function(){this.ic=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.overlayGrid");this.$c=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallOverlayGrid");Array.LA(this.$c,1,"Life.smallOverlayGrid4");Array.LA(this.$c,
3,"Life.smallOverlayGrid8");Array.LA(this.$c,7,"Life.smallOverlayGrid16");this.Eo=Array.Ad(Uint16,this.ic,"Life.overlayGrid16");this.Lk=Array.Ad(Uint32,this.ic,"Life.overlayGrid32")};q.prototype.OK=function(){this.Ig=this.aj=this.bk=this.wf=null};q.prototype.RE=function(){this.wf=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Mask");this.bk=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Alive");this.aj=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,
"Life.state6Cells");this.Ig=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.state6TileGrid")};q.prototype.Lf=function(){var a,b,d=this.Ab,f=this.Cb,m=this.Ig,n=this.V?6:ViewConstants.bb[6]+128,p=this.V?this.S:this.ic;this.wf.Wa.fill(0);this.aj.Wa.fill(0);this.bk.Wa.fill(0);this.Ig.Wa.fill(0);for(b=1;b<this.height-1;b+=1){var r=p[b];var x=this.wf[b-1&f];var t=this.wf[b&f];var w=this.wf[b+1&f];var z=this.aj[b&f];var y=m[(b-1&f)>>4];var C=m[(b&f)>>4];var c=m[(b+1&f)>>4];for(a=1;a<=this.width-
1;a+=1)if(r[a]===n){var l=a&d;z[l>>4]|=1<<(~l&15);x[l>>4]|=1<<(~l&15);t[l>>4]|=1<<(~l&15);w[l>>4]|=1<<(~l&15);y[l>>8]|=1<<(~(l>>4)&15);C[l>>8]|=1<<(~(l>>4)&15);c[l>>8]|=1<<(~(l>>4)&15);l=a-1&d;x[l>>4]|=1<<(~l&15);t[l>>4]|=1<<(~l&15);w[l>>4]|=1<<(~l&15);y[l>>8]|=1<<(~(l>>4)&15);C[l>>8]|=1<<(~(l>>4)&15);c[l>>8]|=1<<(~(l>>4)&15);l=a+1&d;x[l>>4]|=1<<(~l&15);t[l>>4]|=1<<(~l&15);w[l>>4]|=1<<(~l&15);y[l>>8]|=1<<(~(l>>4)&15);C[l>>8]|=1<<(~(l>>4)&15);c[l>>8]|=1<<(~(l>>4)&15)}}};q.prototype.NM=function(a,b,
d){var f,m,n=a.width,p=a.height,r=this.Ab,x=this.Cb,t=this.Ig;for(m=0;m<p;m+=1){var w=a.sh[m];var z=this.wf[m-1+d&x];var y=this.wf[m+d&x];var C=this.wf[m+1+d&x];var c=this.aj[m+d&x];var l=t[(m-1+d&x)>>4];var e=t[(m+d&x)>>4];var v=t[(m+1+d&x)>>4];for(f=0;f<n;f+=1)if(6===w[f]){var A=f+b&r;c[A>>4]|=1<<(~A&15);z[A>>4]|=1<<(~A&15);y[A>>4]|=1<<(~A&15);C[A>>4]|=1<<(~A&15);l[A>>8]|=1<<(~(A>>4)&15);e[A>>8]|=1<<(~(A>>4)&15);v[A>>8]|=1<<(~(A>>4)&15);A=f-1+b&r;z[A>>4]|=1<<(~A&15);y[A>>4]|=1<<(~A&15);C[A>>4]|=
1<<(~A&15);l[A>>8]|=1<<(~(A>>4)&15);e[A>>8]|=1<<(~(A>>4)&15);v[A>>8]|=1<<(~(A>>4)&15);A=f+1+b&r;z[A>>4]|=1<<(~A&15);y[A>>4]|=1<<(~A&15);C[A>>4]|=1<<(~A&15);l[A>>8]|=1<<(~(A>>4)&15);e[A>>8]|=1<<(~(A>>4)&15);v[A>>8]|=1<<(~(A>>4)&15)}}};q.prototype.ex=function(a){this.ee?this.LI(a):this.JI(a)};q.prototype.LI=function(a){var b,d=this.S;var f=this.M;var m=f.l>>4,n=f.u>>4,p=f.v;for(b=f.s;b<=p;b+=1){var r=a[b];var x=d[b];var t=m<<4;for(f=m;f<=n;f+=1){var w=r[f]>>8;x[t]=w&128?(b+t&127)+64:0;t+=1;x[t]=w&64?
(b+t&127)+64:0;t+=1;x[t]=w&32?(b+t&127)+64:0;t+=1;x[t]=w&16?(b+t&127)+64:0;t+=1;x[t]=w&8?(b+t&127)+64:0;t+=1;x[t]=w&4?(b+t&127)+64:0;t+=1;x[t]=w&2?(b+t&127)+64:0;t+=1;x[t]=w&1?(b+t&127)+64:0;t+=1;w=r[f]&255;x[t]=w&128?(b+t&127)+64:0;t+=1;x[t]=w&64?(b+t&127)+64:0;t+=1;x[t]=w&32?(b+t&127)+64:0;t+=1;x[t]=w&16?(b+t&127)+64:0;t+=1;x[t]=w&8?(b+t&127)+64:0;t+=1;x[t]=w&4?(b+t&127)+64:0;t+=1;x[t]=w&2?(b+t&127)+64:0;t+=1;x[t]=w&1?(b+t&127)+64:0;t+=1}}};q.prototype.JI=function(a){var b,d=this.S,f=this.cu;var m=
this.M;var n=m.l>>4,p=m.u>>4,r=m.v;m=m.s;if(!this.L&&!this.fa)for(b=m;b<=r;b+=1){var x=a[b];var t=d[b];var w=n<<4;for(m=n;m<=p;m+=1){var z=x[m]>>8<<3;t[w]=f[z];w+=1;t[w]=f[z+1];w+=1;t[w]=f[z+2];w+=1;t[w]=f[z+3];w+=1;t[w]=f[z+4];w+=1;t[w]=f[z+5];w+=1;t[w]=f[z+6];w+=1;t[w]=f[z+7];w+=1;z=(x[m]&255)<<3;t[w]=f[z];w+=1;t[w]=f[z+1];w+=1;t[w]=f[z+2];w+=1;t[w]=f[z+3];w+=1;t[w]=f[z+4];w+=1;t[w]=f[z+5];w+=1;t[w]=f[z+6];w+=1;t[w]=f[z+7];w+=1}}};q.prototype.Eb=function(a){var b=[],d,f;for(f=0;7>f;f+=1){var m=
[];for(d=0;7>d;d+=1)m[d]=0;b[f]=m}for(f=0;3>f;f+=1)for(d=0;3>d;d+=1)b[f+2][d+2]=a[f][d];return b};q.prototype.QD=function(){this.ym=this.Eb(k.cL);this.Bm=this.Eb(k.dL);this.Em=this.Eb(k.eL);this.Fm=this.Eb(k.fL);this.ll=this.Eb(k.ZK);this.rl=this.Eb(k.$K);this.ul=this.Eb(k.aL);this.um=this.Eb(k.bL);this.cn=this.Eb(k.kL);this.hn=this.Eb(k.lL);this.Lo=this.Eb(k.mL);this.Qo=this.Eb(k.nL);this.Hm=this.Eb(k.gL);this.Km=this.Eb(k.hL);this.Rm=this.Eb(k.iL);this.Sm=this.Eb(k.jL)};q.prototype.CL=function(a,
b,d){var f=this.rb,m=this.Cf,n=this.wc,p=this.el,r=this.wd;var x=this.be?4278190080:255;this.pg=!1;this.Ab=this.width-1;this.Cb=this.height-1;this.M=new BoundingBox(0,0,this.width-1,this.height-1);this.Pa=new BoundingBox(0,0,this.width-1,this.height-1);this.Yf=new BoundingBox(0,0,this.width-1,this.height-1);this.ae=new BoundingBox(0,0,this.width-1,this.height-1);new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.ry();this.nH(b,d);m.fill(0);n.fill(f);r.fill(0);p.fill(x);this.QD()};
q.prototype.VJ=function(){var a=0;this.mb[a]=new u("Mono",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,255),new h(255,255,255)),new h(0,0,0),new h(255,255,255),new g(new h(0,0,0),new h(-1,-1,-1)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));a+=1;this.mb[a]=new u("Blues",new g(new h(0,0,47),new h(0,0,255)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,0,255),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));a+=1;this.mb[a]=new u("Fire",
new g(new h(32,0,0),new h(160,0,0)),new g(new h(255,144,0),new h(255,255,0)),new h(0,0,0),new h(255,144,0),new g(new h(240,0,0),new h(-1,-1,-1)),new g(new h(32,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.mb[a]=new u("Poison",new g(new h(0,24,0),new h(0,128,0)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,192,0),new h(-1,-1,-1)),new g(new h(0,24,0),new h(0,128,0)),new h(0,0,0));a+=1;this.mb[a]=new u("Yellow",new g(new h(0,47,0),new h(128,0,128)),new g(new h(255,
255,0),new h(255,255,255)),new h(0,32,128),new h(255,255,0),new g(new h(192,64,64),new h(-1,-1,-1)),new g(new h(0,47,0),new h(128,0,128)),new h(0,32,128));a+=1;this.mb[a]=new u("Gray",new g(new h(16,16,16),new h(104,104,104)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(16,16,16),new h(104,104,104)),new h(0,0,0));a+=1;this.mb[a]=new u("Inverse",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,0),new h(0,
0,0)),new h(255,255,255),new h(0,0,0),new g(new h(255,255,255),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));a+=1;this.mb[a]=new u("Day",new g(new h(240,240,240),new h(0,255,255)),new g(new h(0,0,255),new h(0,0,0)),new h(255,255,255),new h(0,0,255),new g(new h(0,255,255),new h(-1,-1,-1)),new g(new h(240,240,240),new h(0,192,192)),new h(255,255,255));a+=1;this.mb[a]=new u("Occupied",new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,
240,240)),new h(0,0,0),new h(240,240,240),new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0));a+=1;this.mb[a]=new u("Red",new g(new h(160,0,0),new h(160,0,0)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(255,255,255),new g(new h(160,160,160),new h(160,160,160)),new g(new h(160,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.mb[a]=new u("LifeHistory",new g(new h(0,0,96),new h(0,0,160)),new g(new h(0,240,0),new h(16,255,16)),new h(0,
0,0),new h(16,255,16),new g(new h(0,128,160),new h(-1,-1,-1)),new g(new h(0,0,96),new h(0,0,160)),new h(0,0,0));a+=1;this.mb[a]=new u("Generations",new g(new h(64,0,0),new h(255,0,0)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(64,0,0),new h(128,0,0)),new h(0,0,0));a+=1;this.mb[a]=new u("Golly",new g(new h(48,48,48),new h(48,48,48)),new g(new h(255,255,255),new h(255,255,255)),new h(48,48,48),new h(255,255,0),new g(new h(255,
0,0),new h(-1,-1,-1)),new g(new h(48,48,48),new h(48,48,48)),new h(48,48,48));this.mb[a].Vo(10,new h(80,80,80),new h(112,112,112));a+=1;this.mb[a]=new u("MCell",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,0),new h(255,255,0)),new h(0,0,0),new h(255,255,0),new g(new h(0,255,0),new h(255,255,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.mb[a].Vo(5,new h(64,0,0),new h(99,3,1));a+=1;this.mb[a]=new u("Catagolue",new g(new h(160,221,204),new h(160,221,204)),new g(new h(0,0,0),new h(0,
0,0)),new h(192,255,238),new h(0,0,0),new g(new h(96,192,139),new h(2,129,2)),new g(new h(160,221,204),new h(160,221,204)),new h(192,255,238));this.mb[a].Vo(0,new h(160,221,204),new h(160,221,204));a+=1;this.mb[a]=new u("Caterer",new g(new h(54,57,62),new h(54,57,62)),new g(new h(255,255,255),new h(255,255,255)),new h(54,57,62),new h(255,170,0),new g(new h(255,85,0),new h(-1,-1,-1)),new g(new h(54,57,62),new h(54,57,62)),new h(54,57,62));this.mb[a].Vo(0,new h(0,0,0),new h(0,0,0));a+=1;this.mb[a]=
new u("Life32",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,128),new h(0,0,128)),new h(255,255,255),new h(0,0,128),new g(new h(0,0,64),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));this.mb[a].Vo(5,new h(192,192,192),new h(128,128,128));a+=1;this.mb[a]=new u("Margolus",new g(new h(0,0,47),new h(0,0,128)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(64,64,128),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),
new h(0,0,0));this.mb[a].Vo(2,new h(32,32,255),new h(64,64,128));a+=1;this.mb[a]=new u("PCA",new g(new h(24,24,24),new h(64,64,64)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(24,24,24),new h(64,64,64)),new h(0,0,0));a+=1;this.mb[a]=new u("Book",new g(new h(255,220,192),new h(192,220,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),new h(0,0,0),new g(new h(24,24,24),new h(128,128,128)),new g(new h(255,
220,192),new h(192,220,255)),new h(255,255,255));this.mb[a].Vo(0,new h(192,192,192),new h(209,209,209));this.mb[a+1]=new u(Keywords.Zq,new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0),new h(0,0,0),new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.tf=this.mb.length-1;this.Fe=new g(new h(0,0,0),new h(0,0,0));this.Dc=new g(new h(0,0,0),new h(0,0,0));this.Ke=new h(0,0,0);this.eh=new h(0,0,0);this.Ie=new g(new h(0,0,0),new h(0,0,0));this.hf=
new g(new h(0,0,0),new h(0,0,0));this.Qh=new h(0,0,0);this.vd=new g(new h(0,0,0),new h(0,0,0));this.hc=new g(new h(0,0,0),new h(0,0,0));this.oe=new h(0,0,0);this.Gf=new h(0,0,0);this.Td=new g(new h(0,0,0),new h(0,0,0));this.De=new g(new h(0,0,0),new h(0,0,0));this.Gg=new h(0,0,0)};q.prototype.eO=function(a,b,d){var f=this.mb[a],m=this.dj;this.Uf=a;this.Fe.set(this.vd);this.Dc.set(this.hc);this.Ke.set(this.oe);this.eh.set(this.Gf);this.hf.set(this.De);this.Ie.set(this.Td);this.Qh.set(this.Gg);this.vd.set(f.Bb);
this.hc.set(f.ob);this.oe.set(f.rb);this.Gf.set(f.Mg);this.De.set(f.Rc);this.Td.set(f.cc);this.Gg.set(f.gj);this.Sn=b;this.dj=f.uL(this.ta);m&&!this.dj&&!this.pa&&2>=this.i&&this.KA();this.$d=f.bi;this.sg=f.ci;a!==this.tf&&this.la?this.lf=2:this.lf=f.wm;this.be?(this.xg=-16777216|(this.$d&255)<<16|(this.$d>>8&255)<<8|this.$d>>16,this.wg=-16777216|(this.sg&255)<<16|(this.sg>>8&255)<<8|this.sg>>16):(this.xg=this.$d>>16<<24|(this.$d>>8&255)<<16|(this.$d&255)<<8|255,this.wg=this.sg>>16<<24|(this.sg>>
8&255)<<16|(this.sg&255)<<8|255);d.DE()};q.prototype.kz=function(){this.ee?this.gE():this.Ux()};q.prototype.gE=function(){var a=this.Cp,b;for(b=0;512>b;b+=1){var d=b&128;var f=b&256;var m=b&127;var n=0;0!==d&&(n=(m+1&127)+64<<8);0!==f&&(n|=(m&127)+64);a[b]=n}};q.prototype.Ux=function(){var a=this.Cp,b=this.Sf,d=this.Qa,f=this.pl,m=this.df,n,p=new Uint8Array(256);p[0]=0;p[b+1]=d;for(n=1;n<b+1;n+=1)p[n]=Math.min(Math.max(n-1,f),m),p[n+b+1]=Math.max(Math.min(n+1,b),d);if(0===this.K)for(n=d;n<=b;n+=1)p[n]=
0;else this.K<m&&(p[m-this.K]=1);for(n=0;65536>n;n+=1)a[n]=p[n>>8]<<8|p[n&255]};q.prototype.YM=function(){var a;for(a=0;a<this.mb.length;a+=1){var b=this.mb[a];if(b.qm)if(2>=this.i)b.cc.ca.set(b.Mg);else{var d=1/(this.i-2);b.cc.ca.red=b.cc.aa.red*d+b.Mg.red*(1-d)|0;b.cc.ca.green=b.cc.aa.green*d+b.Mg.green*(1-d)|0;b.cc.ca.blue=b.cc.aa.blue*d+b.Mg.blue*(1-d)|0}}};q.prototype.JE=function(){var a;var b=(this.Sn-1)/this.fm;if(!this.Ga)if(this.V)for(a=0;a<k.Uu.length;a+=1){if(this.Ua[a+this.K]=k.Uu[a][0],
this.Ta[a+this.K]=k.Uu[a][1],this.Ra[a+this.K]=k.Uu[a][2],this.kc&&this.kc.length>=a){var d=this.kc[a];-1!==d&&(this.Ua[a+this.K]=d>>16,this.Ta[a+this.K]=d>>8&255,this.Ra[a+this.K]=d&255)}}else if(2<this.i||this.fa){a=0;this.fa?(this.Ua[a]=this.ye[a]>>16,this.Ta[a]=this.ye[a]>>8&255,this.Ra[a]=this.ye[a]&255):(this.Ua[a]=this.Qh.red*b+this.Gg.red*(1-b),this.Ta[a]=this.Qh.green*b+this.Gg.green*(1-b),this.Ra[a]=this.Qh.blue*b+this.Gg.blue*(1-b));for(a=1;a<this.i-1;a+=1){d=3>=this.i?0:(a-1)/(this.i-
3);if(this.L&&18<=this.Uf)this.Ua[a+this.K]=k.Dp[a][0],this.Ta[a+this.K]=k.Dp[a][1],this.Ra[a+this.K]=k.Dp[a][2];else if(this.fa)this.Ua[a]=this.ye[a]>>16,this.Ta[a]=this.ye[a]>>8&255,this.Ra[a]=this.ye[a]&255;else{var f=this.Ie.ca.red*d+this.Ie.aa.red*(1-d);var m=this.Td.ca.red*d+this.Td.aa.red*(1-d);this.Ua[a+this.K]=f*b+m*(1-b);f=this.Ie.ca.green*d+this.Ie.aa.green*(1-d);m=this.Td.ca.green*d+this.Td.aa.green*(1-d);this.Ta[a+this.K]=f*b+m*(1-b);f=this.Ie.ca.blue*d+this.Ie.aa.blue*(1-d);m=this.Td.ca.blue*
d+this.Td.aa.blue*(1-d);this.Ra[a+this.K]=f*b+m*(1-b)}this.kc&&this.kc.length>=a&&(d=this.pa||this.L||this.fa?this.kc[a]:this.kc[this.i-a],-1!==d&&(this.Ua[a+this.K]=d>>16,this.Ta[a+this.K]=d>>8&255,this.Ra[a+this.K]=d&255))}a=this.i-1;this.L&&18<=this.Uf?(this.Ua[a+this.K]=k.Dp[a][0],this.Ta[a+this.K]=k.Dp[a][1],this.Ra[a+this.K]=k.Dp[a][2]):this.fa?(this.Ua[a]=this.ye[a]>>16,this.Ta[a]=this.ye[a]>>8&255,this.Ra[a]=this.ye[a]&255):(this.Ua[a+this.K]=this.eh.red*b+this.Gf.red*(1-b),this.Ta[a+this.K]=
this.eh.green*b+this.Gf.green*(1-b),this.Ra[a+this.K]=this.eh.blue*b+this.Gf.blue*(1-b));this.kc&&this.kc.length>=a&&(d=this.pa||this.L||this.fa?this.kc[a]:this.kc[this.i-a],-1!==d&&(this.Ua[a+this.K]=d>>16,this.Ta[a+this.K]=d>>8&255,this.Ra[a+this.K]=d&255));for(a=0;a<this.K;a+=1)d=1<this.K?1-a/(this.K-1):1,f=this.hf.aa.red*d+this.hf.ca.red*(1-d),m=this.De.aa.red*d+this.De.ca.red*(1-d),this.Ua[a+1]=f*b+m*(1-b),f=this.hf.aa.green*d+this.hf.ca.green*(1-d),m=this.De.aa.green*d+this.De.ca.green*(1-d),
this.Ta[a+1]=f*b+m*(1-b),f=this.hf.aa.blue*d+this.hf.ca.blue*(1-d),m=this.De.aa.blue*d+this.De.ca.blue*(1-d),this.Ra[a+1]=f*b+m*(1-b);this.kc&&0<this.kc.length&&(d=this.kc[0],-1!==d&&(this.Ua[0]=d>>16,this.Ta[0]=d>>8&255,this.Ra[0]=d&255))}else{a=0;this.Ua[a]=this.Ke.red*b+this.oe.red*(1-b);this.Ta[a]=this.Ke.green*b+this.oe.green*(1-b);this.Ra[a]=this.Ke.blue*b+this.oe.blue*(1-b);if(0===this.K)for(a=1;a<=this.df;a+=1)this.Ua[a]=this.Ke.red*b+this.oe.red*(1-b),this.Ta[a]=this.Ke.green*b+this.oe.green*
(1-b),this.Ra[a]=this.Ke.blue*b+this.oe.blue*(1-b);else{var n=this.df-this.K+1;for(a=1;a<n;a+=1)this.Ua[a]=this.Dc.aa.red*b+this.hc.aa.red*(1-b),this.Ta[a]=this.Dc.aa.green*b+this.hc.aa.green*(1-b),this.Ra[a]=this.Dc.aa.blue*b+this.hc.aa.blue*(1-b);for(a=n;a<=this.df;a+=1)d=this.df===n?1:1-(a-n)/(this.df-n),f=this.Dc.aa.red*d+this.Dc.ca.red*(1-d),m=this.hc.aa.red*d+this.hc.ca.red*(1-d),this.Ua[a]=f*b+m*(1-b),f=this.Dc.aa.green*d+this.Dc.ca.green*(1-d),m=this.hc.aa.green*d+this.hc.ca.green*(1-d),this.Ta[a]=
f*b+m*(1-b),f=this.Dc.aa.blue*d+this.Dc.ca.blue*(1-d),m=this.hc.aa.blue*d+this.hc.ca.blue*(1-d),this.Ra[a]=f*b+m*(1-b)}for(a=this.Qa;a<=this.Sf;a+=1)d=0===this.Ai?1:a<this.Qa+this.Ai?1-(a-this.Qa)/this.Ai:0,f=this.Fe.aa.red*d+this.Fe.ca.red*(1-d),m=this.vd.aa.red*d+this.vd.ca.red*(1-d),this.Ua[a]=f*b+m*(1-b),f=this.Fe.aa.green*d+this.Fe.ca.green*(1-d),m=this.vd.aa.green*d+this.vd.ca.green*(1-d),this.Ta[a]=f*b+m*(1-b),f=this.Fe.aa.blue*d+this.Fe.ca.blue*(1-d),m=this.vd.aa.blue*d+this.vd.ca.blue*(1-
d),this.Ra[a]=f*b+m*(1-b)}};q.prototype.KE=function(a,b){var d=this.Ua,f=this.Ta,m=this.Ra,n;for(n=0;n<a.length;n+=1){var p=b&&-1!==b[n]?b[n]:a[n];d[n]=p>>16;f[n]=p>>8&255;m[n]=p&255}this.Sn=0};q.prototype.WJ=function(a,b){var d=this.Ua,f=this.Ta,m=this.Ra,n=ViewConstants.bb,p;for(p=0;p<a.length;p+=1)b&&-1!==b[p]?(d[128+n[p]]=b[p]>>16,f[128+n[p]]=b[p]>>8&255,m[128+n[p]]=b[p]&255):(d[128+n[p]]=a[p]>>16,f[128+n[p]]=a[p]>>8&255,m[128+n[p]]=a[p]&255)};q.prototype.Zd=function(a){this.ee?this.Yx(a):this.Xx(a)};
q.prototype.Yx=function(a){var b=this.Te,d,f=255,m=15,n=15,p=0,r=0,x=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],t=this.Ua,w=this.Ta,z=this.Ra,y=this.Gh,C=this.T&&!this.sc||this.P&&!this.sc,c=this.$d,l=this.sg;for(d=1;240>=d;d+=1)b[d]=this.be?-16777216|n*a<<16|m*a<<8|f*a:f*a<<24|m*a<<16|n*a<<8|255,f+=6*x[r][0],m+=6*x[r][1],n+=6*x[r][2],p+=1,40===p&&(p=0,r+=1);for(d=0;128>d;d+=1)p=240*(d+1)/128|0,b[d]=b[p];for(d=127;0<=d;--d)b[d+64]=b[d],C&&(this.be?(f=b[d]&255,m=b[d]>>8&255,n=b[d]>>16&255):
(f=b[d]>>24,m=b[d]>>16&255,n=b[d]>>8&255),y[d+64]="#"+(16777216+((f<<16)+(m<<8)+n)).toString(16).substr(1));b[0]=this.be?-16777216|z[0]*a<<16|w[0]*a<<8|t[0]*a:t[0]*a<<24|w[0]*a<<16|z[0]*a<<8|255;this.be?(this.xg=-16777216|(c&255)<<16|(c>>8&255)<<8|c>>16,this.wg=-16777216|(l&255)<<16|(l>>8&255)<<8|l>>16):(this.xg=c>>16<<24|(c>>8&255)<<16|(c&255)<<8|255,this.wg=l>>16<<24|(l>>8&255)<<16|(l&255)<<8|255);-1!==this.xa&&(d=this.Kb,b[d]=this.be?-16777216|z[d]*a<<16|w[d]*a<<8|t[d]*a:t[d]*a<<24|w[d]*a<<16|
z[d]*a<<8|255)};q.prototype.Xx=function(a){var b=this.Ua,d=this.Ta,f=this.Ra,m=this.Te,n=this.$d,p=this.sg,r=this.Gh,x=this.T&&!this.sc||this.P&&!this.sc,t;if(2<this.i)if(this.V)if(this.be)for(t=0;t<=this.i+this.K;t+=1)m[t]=-16777216|f[t]*a<<16|d[t]*a<<8|b[t]*a;else for(t=0;t<=this.i+this.K;t+=1)m[t]=b[t]*a<<24|d[t]*a<<16|f[t]*a<<8|255;else if(this.be)for(t=0;t<=this.i+this.K;t+=1)m[t]=-16777216|f[t]*a<<16|d[t]*a<<8|b[t]*a,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1));
else for(t=0;t<=this.i+this.K;t+=1)m[t]=b[t]*a<<24|d[t]*a<<16|f[t]*a<<8|255,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1));else if(this.be){for(t=0;t<this.Qa;t+=1)m[t]=-16777216|f[t]<<16|d[t]<<8|b[t],x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1));for(t=this.Qa;t<=this.Sf;t+=1)m[t]=-16777216|f[t]*a<<16|d[t]*a<<8|b[t]*a,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1));for(t=this.Sf+1;256>t;t+=1)m[t]=-16777216|f[t]*
a<<16|d[t]*a<<8|b[t]*a,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1))}else{for(t=0;t<this.Qa;t+=1)m[t]=b[t]<<24|d[t]<<16|f[t]<<8|255,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1));for(t=this.Qa;t<=this.Sf;t+=1)m[t]=b[t]*a<<24|d[t]*a<<16|f[t]*a<<8|255,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1));for(t=this.Sf+1;256>t;t+=1)m[t]=b[t]*a<<24|d[t]*a<<16|f[t]*a<<8|255,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1))}this.be?
(this.xg=-16777216|(n&255)<<16|(n>>8&255)<<8|n>>16,this.wg=-16777216|(p&255)<<16|(p>>8&255)<<8|p>>16):(this.xg=n>>16<<24|(n>>8&255)<<16|(n&255)<<8|255,this.wg=p>>16<<24|(p>>8&255)<<16|(p&255)<<8|255);-1!==this.xa&&(t=this.Kb,m[t]=this.be?-16777216|f[t]*a<<16|d[t]*a<<8|b[t]*a:b[t]*a<<24|d[t]*a<<16|f[t]*a<<8|255,x&&(r[t]="#"+(16777216+((b[t]<<16)+(d[t]<<8)+f[t])).toString(16).substr(1)))};q.prototype.VN=function(){var a=this.Ua,b=this.Ta,d=this.Ra;this.Kb=-1!==this.xa&&256===this.i+this.K?2:255;-1!==
this.xa&&256>this.i+this.K&&(this.be?(a[this.Kb]=this.cm&255,b[this.Kb]=this.cm>>8&255,d[this.Kb]=this.cm>>16&255):(a[this.Kb]=this.cm>>24,b[this.Kb]=this.cm>>16&255,d[this.Kb]=this.cm>>8&255))};q.prototype.rr=function(a){var b=this.uh,d=this.S,f=this.Ja,m=this.ac,n=this.ic,p=this.$c,r=this.ja,x=this.La,t=this.Da,w=this.ra,z=this.Ae,y=this.rb;this.zd.Wa.fill(0);b.Wa.fill(0);a||(d.Wa.fill(y),f&&f.Wa.fill(y),m.Wa.fill(y),n&&(n.Wa.fill(y),p.Wa.fill(y)));r.Wa.fill(0);w.Wa.fill(0);z.Wa.fill(0);a||(x.Wa.fill(0),
t.Wa.fill(0))};q.prototype.fl=function(a,b){var d=k.xF,f;for(f=0;f<d;f+=1)a[f]=b[f]};q.prototype.lk=function(a,b){var d=k.Nv,f;for(f=0;f<d;f+=1){var m=b[f>>9&448|f>>6&56|f>>3&7]<<3;m|=b[f>>8&448|f>>5&56|f>>2&7]<<2;m|=b[f>>7&448|f>>4&56|f>>1&7]<<1;m|=b[f>>6&448|f>>3&56|f&7];a[f]=m}};q.prototype.pi=function(a,b,d){if(d){var f=new Uint8Array(16);for(d=0;16>d;d+=1){var m=b[d];f[m]=d}for(d=0;d<k.ko;d+=1)m=(f[d>>12]&1)<<2,m|=(f[d>>8&15]&2)<<2,m|=(f[d>>4&15]&4)>>2,m|=(f[d&15]&8)>>2,a[d]=m}else for(d=0;d<
k.ko;d+=1)m=(d>>12&1)<<2,m|=(d>>8&2)<<2,m|=(d>>4&4)>>2,m|=(d&8)>>2,a[d]=b[m]};q.prototype.gf=function(a,b){var d,f,m,n;for(d=0;d<k.xm;d+=1){var p=d>>8;var r=d&255;var x=192;var t=6;for(f=n=m=0;4>f;f+=1){var w=0===t?(r&x)<<2|p&x:(r&x)>>t-2|(p&x)>>t;w=(w&8)>>1|(w&4)<<1|(w&2)>>1|(w&1)<<1;w=b[w];w=(w&8)>>1|(w&4)<<1|(w&2)>>1|(w&1)<<1;m<<=2;n<<=2;m|=w>>2&3;n|=w&3;x>>=2;t-=2}a[d]=n<<8|m}};q.prototype.hd=function(a,b){var d,f=0,m=!0,n=new Uint8Array(16);for(d=0;m&&16>d;){var p=1<<a[d];0!==(f&p)?m=!1:(f|=
p,d+=1)}if(m){for(d=0;16>d;d+=1)f=a[d],n[f]=d;b&&a.set(n)}return m};q.prototype.iu=function(a,b){var d;for(d=0;16>d;d+=1)b[d]=a[15-d];for(d=0;16>d;d+=1)a[d]=15-a[d]};q.prototype.Zx=function(){var a=this.Ue,b,d,f,m,n,p=this.Ll,r=this.Tk,x=this.Uk;for(b=0;1<<b<a;)b+=1;var t=(this.Fg+1)*b;if(t<=k.XL){this.Wd=this.A.R(Uint8,1<<t,"Life.ruleTreeLookup");t=this.yu=b;var w=t+b;var z=w+b;var y=z+b;if(4===this.Fg)for(b=0;b<a;b+=1)for(f=0;f<a;f+=1)for(n=0;n<a;n+=1)for(m=0;m<a;m+=1)for(d=0;d<a;d+=1){var C=b<<
t|f<<w|n<<z|m<<y|d;this.Wd[C]=x[r[r[r[r[p+b]+m]+f]+d]+n]}else this.Wd=null}else this.Wd=null};q.prototype.IO=function(a){var b=this.P?this.C.vC:this.C.Vj,d=this.P?this.C.rC:this.C.qC,f=this.C.oc,m=this.P?k.xF:k.vL,n=!1,p,r=null,x=b.length;this.oc=f;if(this.fa)this.Wd=null,this.Zx();else{if(this.oc){if(this.la||this.L)x=16;var t=0;for(p=!0;t<x&&p;)b[t]!==d[t]?p=!1:t+=1;p&&(this.oc=!1,t=a.Jb.indexOf("|"),-1!==t&&(a.Jb=a.Jb.substr(0,t)),t=a.rd.indexOf("|"),-1!==t&&(a.rd=a.rd.substr(0,t)));if(this.oc&&
(this.la||this.L))for(t=0;t<x;t+=1)a=b[t],b[t]=d[t],d[t]=a}this.Vd=this.Yc=this.nf=this.Ud=this.kj=this.xi=this.yg=this.vi=null;if(this.L)this.Ud=this.A.R(Uint16,k.ko,"Life.PCALookup1"),f?(this.nf=this.A.R(Uint16,k.ko,"Life.PCALookup2"),this.pi(this.nf,b,!1),this.pi(this.Ud,d,!1),this.hd(b,!1)&&this.hd(d,!1)&&(this.Yc=this.A.R(Uint16,k.ko,"Life.PCAReverseLookup1"),this.Vd=this.A.R(Uint16,k.ko,"Life.PCAReverseLookup2"),this.hd(d,!1),this.pi(this.Yc,d,!0),this.hd(b,!1),this.pi(this.Vd,b,!0))):(this.pi(this.Ud,
b,!1),this.hd(b,!1)&&(this.Yc=this.A.R(Uint16,k.ko,"Life.PCAsReverseLookup1"),this.pi(this.Yc,b,!0)));else if(this.la){this.Ud=this.A.R(Uint16,k.xm,"Life.margolusLookup1");if(15===b[0]&&0===b[15]){f=this.oc=!0;r=new Uint8Array(16);for(t=0;16>t;t+=1)r[t]=b[t];this.iu(b,d)}f?(this.nf=this.A.R(Uint16,k.xm,"Life.margolusLookup2"),this.gf(this.nf,b),this.gf(this.Ud,d),r&&this.hd(r,!0)?(this.Yc=this.A.R(Uint16,k.xm,"Life.margolusReverseLookup1"),this.Vd=this.A.R(Uint16,k.xm,"Life.margolusReverseLookup2"),
this.iu(r,d),this.gf(this.Yc,d),this.gf(this.Vd,r)):this.hd(b,!1)&&this.hd(d,!1)&&(this.Yc=this.A.R(Uint16,k.xm,"Life.margolusReverseLookup1"),this.Vd=this.A.R(Uint16,k.xm,"Life.margolusReverseLookup2"),this.hd(b,!0),this.gf(this.Yc,b),this.hd(d,!0),this.gf(this.Vd,d))):(this.gf(this.Ud,b),this.hd(b,!0)&&(this.Yc=this.A.R(Uint16,k.xm,"Life.margolusReverseLookup1"),this.gf(this.Yc,b)))}else if(this.P)this.xi=this.A.R(Uint8,k.wF,"Life.indexLookupTri1"),f?(this.kj=this.A.R(Uint8,k.wF,"Life.indexLookupTri2"),
this.fl(this.kj,b),this.fl(this.xi,d)):this.fl(this.xi,b);else{this.vi=this.A.R(Uint8,k.Nv,"Life.indexLookup63");if(-1===this.ke&&b[0]){if(!b[m-1]){for(t=0;t<m/2;t+=1)a=b[t],b[t]=b[m-t-1],b[m-t-1]=a;n=!0;this.yg=this.A.R(Uint8,k.Nv,"Life.indexLookup632");this.lk(this.yg,b)}for(t=0;t<m/2;t+=1)a=b[t],b[t]=1-b[m-t-1],b[m-t-1]=1-a}this.oc?(this.yg=this.A.R(Uint8,k.Nv,"Life.indexLookup632"),this.lk(this.yg,b),this.lk(this.vi,d)):(this.lk(this.vi,b),n&&(this.oc=!0))}}};q.prototype.G=function(a){var b=0;
0!==(a&32768)?b=0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==(a&4096)?b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?b=14:0!==(a&1)&&(b=15);return b};q.prototype.U=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&
4096)?b=3:0!==(a&8192)?b=2:0!==(a&16384)&&(b=1);return b};q.prototype.Wx=function(a){var b=this.ic,d=this.ja,f=this.width,m=this.height,n,p=this.M.v,r=this.M.s,x=this.M.l,t=this.M.u,w,z;for(w=0;w<m;w+=1){var y=b[w];var C=d[w>>4];for(z=n=0;z<f;z+=1)0!==y[z]&&(C[z>>8]|=1<<(~(z>>4)&15),n|=y[z],z<x&&(x=z),z>t&&(t=z));n&&(w<r&&(r=w),w>p&&(p=w))}a||(this.M.v=p,this.M.s=r,this.M.l=x,this.M.u=t)};q.prototype.QI=function(){var a,b,d,f=this.hb,m=this.ra,n=this.ja,p,r=this.P?49152:32768,x=this.P?3:1,t=this.ya,
w=this.ua>>4,z=this.wd;var y=0;var C=y+16;n.Wa.fill(0);for(b=0;b<t;b+=1){var c=0;var l=m[b];var e=n[b];var v=0<b?n[b-1]:z;var A=b<t-1?n[b+1]:z;l[0]&=32767;l[w-1]&=65534;for(d=0;d<w;d+=1)if(p=l[d]){var B=e[d];var D=v[d];var E=A[d];for(a=15;0<=a;--a){if(0!==(p&1<<a)){var G=!1;var F=0;var I=y;var L=f[I];if(L=L[c])G=!0,0!==(L&r)&&(F|=k.Tb,F|=k.Wb),0!==(L&x)&&(F|=k.lb,F|=k.Xb),F|=k.Rb;for(I+=1;I<C-1;){L=f[I];if(L=L[c])G=!0,0!==(L&r)&&(F|=k.Tb),0!==(L&x)&&(F|=k.lb);I+=1}L=f[I];if(L=L[c])G=!0,0!==(L&r)&&
(F|=k.Tb,F|=k.bc),0!==(L&x)&&(F|=k.lb,F|=k.xb),F|=k.yb;G&&(B|=1<<a,F&&(0!==(F&k.Tb)&&(15>a?B|=1<<a+1:0<d&&(e[d-1]|=1)),0!==(F&k.lb)&&(0<a?B|=1<<a-1:d<w-1&&(e[d+1]|=32768)),0!==(F&k.Rb)&&(D|=1<<a),0!==(F&k.yb)&&(E|=1<<a),0!==(F&k.Wb)&&(15>a?D|=1<<a+1:0<d&&(v[d-1]|=1)),0!==(F&k.Xb)&&(0<a?D|=1<<a-1:d<w-1&&(v[d+1]|=32768)),0!==(F&k.bc)&&(15>a?E|=1<<a+1:0<d&&(A[d-1]|=1)),0!==(F&k.xb)&&(0<a?E|=1<<a-1:d<w-1&&(A[d+1]|=32768))))}c+=1}e[d]|=B;0<b&&(v[d]|=D);b<t-1&&(A[d]|=E)}else c+=16;y+=16;C+=16}z.fill(0)};
q.prototype.RI=function(){var a,b,d,f=this.hb,m=this.ra,n=this.S,p=this.ja,r,x=this.ya,t=this.ua>>4,w=this.wd;var z=0;var y=z+16;p.Wa.fill(0);for(b=0;b<x;b+=1){var C=0;var c=m[b];var l=p[b];var e=0<b?p[b-1]:w;var v=b<x-1?p[b+1]:w;c[0]&=32767;c[t-1]&=65534;for(d=0;d<t;d+=1)if(r=c[d]){var A=l[d];var B=e[d];var D=v[d];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var E=!1;var G=0;var F=z;var I=f[F];var L=n[F];I=I[C];var K=C<<4;0<L[K]&&(I|=32768);K+=1;0<L[K]&&(I|=16384);K+=1;0<L[K]&&(I|=8192);K+=1;0<L[K]&&(I|=
4096);K+=1;0<L[K]&&(I|=2048);K+=1;0<L[K]&&(I|=1024);K+=1;0<L[K]&&(I|=512);K+=1;0<L[K]&&(I|=256);K+=1;0<L[K]&&(I|=128);K+=1;0<L[K]&&(I|=64);K+=1;0<L[K]&&(I|=32);K+=1;0<L[K]&&(I|=16);K+=1;0<L[K]&&(I|=8);K+=1;0<L[K]&&(I|=4);K+=1;0<L[K]&&(I|=2);K+=1;0<L[K]&&(I|=1);I&&(E=!0,0!==(I&32768)&&(G|=k.Tb,G|=k.Wb),0!==(I&1)&&(G|=k.lb,G|=k.Xb),G|=k.Rb);for(F+=1;F<y-1;)I=f[F],L=n[F],I=I[C],K=C<<4,0<L[K]&&(I|=32768),K+=1,0<L[K]&&(I|=16384),K+=1,0<L[K]&&(I|=8192),K+=1,0<L[K]&&(I|=4096),K+=1,0<L[K]&&(I|=2048),K+=1,
0<L[K]&&(I|=1024),K+=1,0<L[K]&&(I|=512),K+=1,0<L[K]&&(I|=256),K+=1,0<L[K]&&(I|=128),K+=1,0<L[K]&&(I|=64),K+=1,0<L[K]&&(I|=32),K+=1,0<L[K]&&(I|=16),K+=1,0<L[K]&&(I|=8),K+=1,0<L[K]&&(I|=4),K+=1,0<L[K]&&(I|=2),K+=1,0<L[K]&&(I|=1),I&&(E=!0,0!==(I&32768)&&(G|=k.Tb),0!==(I&1)&&(G|=k.lb)),F+=1;I=f[F];L=n[F];I=I[C];K=C<<4;0<L[K]&&(I|=32768);K+=1;0<L[K]&&(I|=16384);K+=1;0<L[K]&&(I|=8192);K+=1;0<L[K]&&(I|=4096);K+=1;0<L[K]&&(I|=2048);K+=1;0<L[K]&&(I|=1024);K+=1;0<L[K]&&(I|=512);K+=1;0<L[K]&&(I|=256);K+=1;0<
L[K]&&(I|=128);K+=1;0<L[K]&&(I|=64);K+=1;0<L[K]&&(I|=32);K+=1;0<L[K]&&(I|=16);K+=1;0<L[K]&&(I|=8);K+=1;0<L[K]&&(I|=4);K+=1;0<L[K]&&(I|=2);K+=1;0<L[K]&&(I|=1);I&&(E=!0,0!==(I&32768)&&(G|=k.Tb,G|=k.bc),0!==(I&1)&&(G|=k.lb,G|=k.xb),G|=k.yb);E&&(A|=1<<a,G&&(0!==(G&k.Tb)&&(15>a?A|=1<<a+1:0<d&&(l[d-1]|=1)),0!==(G&k.lb)&&(0<a?A|=1<<a-1:d<t-1&&(l[d+1]|=32768)),0!==(G&k.Rb)&&(B|=1<<a),0!==(G&k.yb)&&(D|=1<<a),0!==(G&k.Wb)&&(15>a?B|=1<<a+1:0<d&&(e[d-1]|=1)),0!==(G&k.Xb)&&(0<a?B|=1<<a-1:d<t-1&&(e[d+1]|=32768)),
0!==(G&k.bc)&&(15>a?D|=1<<a+1:0<d&&(v[d-1]|=1)),0!==(G&k.xb)&&(0<a?D|=1<<a-1:d<t-1&&(v[d+1]|=32768))))}C+=1}l[d]|=A;0<b&&(e[d]|=B);b<x-1&&(v[d]|=D)}else C+=16;z+=16;y+=16}w.fill(0)};q.prototype.RK=function(a){var b,d,f=k.Qa,m=this.height,n=this.width,p=this.S,r=this.height,x=-1,t=this.width,w=-1;this.L&&0!==(this.counter&1)&&(p=this.Ja);for(d=0;d<m;d+=1){var z=p[d];var y=!1;for(b=0;b<n;b+=1){var C=z[b];C>=f&&255>C&&(y=!0,b<t&&(t=b),b>w&&(w=b))}y&&(d<r&&(r=d),d>x&&(x=d))}if(0>x||r>=m||t>=n||0>w)r=
x=m>>1,w=t=n>>1;x>m-1&&(x=m-1);0>r&&(r=0);0>t&&(t=0);w>n-1&&(w=n-1);a.v=x;a.s=r;a.l=t;a.u=w};q.prototype.nh=function(){var a,b,d=this.width>>4,f=this.height,m=this.width,n=this.ic;var p=this.S;var r=this.M,x=this.Pa,t=this.Yf,w=this.height,z=-1,y=this.width,C=-1,c=this.height,l=-1,e=this.width,v=-1,A,B=this.na;if(this.Hg){this.Hg=!1;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(p=this.Ja);var D=0!==(this.counter&1)?this.Yb:this.hb;if(n)for(b=0;b<f;b+=1){var E=n[b];for(a=A=0;a<m;a+=1){var G=E[a];
A|=G;G&&(a<e&&(e=a),a>v&&(v=a))}A&&(b<c&&(c=b),b>l&&(l=b))}B.fill(0);if(-1!==this.i)for(b=0;b<f;b+=1){d=p[b];for(a=A=0;a<m;a+=1)G=d[a],A|=G,G&&(a<y&&(y=a),a>C&&(C=a));A&&(b<w&&(w=b),b>z&&(z=b))}else{for(b=0;b<f;b+=1){p=D[b];for(a=A=0;a<d;a+=1)G=p[a],A|=G,B[a]|=G;A&&(b<w&&(w=b),b>z&&(z=b))}for(a=0;a<d;a+=1)B[a]&&(a<y&&(y=a),a>C&&(C=a));y=(y<<4)+this.G(B[y]);C=(C<<4)+this.U(B[C])}if(0>z||w>=f||y>=m||0>C)w=z=f>>1,C=y=m>>1;n&&(l>z&&(z=l),c<w&&(w=c),e<y&&(y=e),v>C&&(C=v));z>this.height-1&&(z=this.height-
1);0>w&&(w=0);0>y&&(y=0);C>this.width-1&&(C=this.width-1);r.v=z;r.s=w;r.l=y;r.u=C;x.v=z;x.s=w;x.l=y;x.u=C;t.v=z;t.s=w;t.l=y;t.u=C}};q.prototype.nC=function(a){var b,d,f=this.width>>4,m=this.height,n=this.width,p=this.ic;var r=this.S;var x=this.M,t=this.Pa,w=this.Yf,z=this.height,y=-1,C=this.width,c=-1,l=this.height,e=-1,v=this.width,A=-1,B,D=this.na,E=this.La,G=this.Da;if(0!==(this.counter&1)){var F=this.Yb;var I=this.ra;var L=this.ja}else F=this.hb,I=this.ja,L=this.ra;if(p&&!a)for(d=0;d<m;d+=1){var K=
p[d];for(b=B=0;b<n;b+=1){var J=K[b];B|=J;J&&(b<v&&(v=b),b>A&&(A=b))}B&&(d<l&&(l=d),d>e&&(e=d))}D.fill(0);L.Wa.fill(0);if(-1!==this.i)for(d=0;d<m;d+=1){f=r[d];for(b=B=0;b<n;b+=1)J=f[b],B|=J,J&&(b<C&&(C=b),b>c&&(c=b));B&&(d<z&&(z=d),d>y&&(y=d))}else{for(d=0;d<m;d+=1){r=F[d];for(b=B=0;b<f;b+=1)J=r[b],B|=J,D[b]|=J;B&&(d<z&&(z=d),d>y&&(y=d))}for(b=0;b<f;b+=1)D[b]&&(b<C&&(C=b),b>c&&(c=b));C=(C<<4)+this.G(D[C]);c=(c<<4)+this.U(D[c])}if(0>y||z>=m||C>=n||0>c)z=y=m>>1,c=C=n>>1,e=y,l=z,v=C,A=c;p&&!a&&(e<y&&
(y=e),l>z&&(z=l),v<C&&(C=v),A>c&&(c=A));y>this.height-1&&(y=this.height-1);0>z&&(z=0);0>C&&(C=0);c>this.width-1&&(c=this.width-1);x.v=y;x.s=z;x.l=C;x.u=c;t.v=y;t.s=z;t.l=C;t.u=c;w.v=y;w.s=z;w.l=C;w.u=c;0<C&&--C;0<z&&--z;c<this.width-1&&(c+=1);y<this.height-1&&(y+=1);J=y>>4;C>>=8;c>>=8;for(d=z>>4;d<=J;d+=1)for(z=L[d],b=C;b<=c;b+=1)z[b]=-1;-1!==this.i?this.RI():this.QI();p&&(this.Wx(a),w.v=x.v,w.s=x.s,w.l=x.l,w.u=x.u);Array.Wh(I,L);Array.Wh(I,E);Array.Wh(I,G)};q.prototype.$z=function(a,b){var d=this.la?
-1:0;var f=Math.round((this.width-this.Aa)/2)+d,m=Math.round((this.height-this.wa)/2)+d,n=f+this.Aa-1,p=m+this.wa-1,r=f-a>>4,x=n+a>>4,t=f-a>>4,w=n+a>>4,z=~(1<<(~(f-a)&15)),y=~(1<<(~(n+a)&15)),C=this.kg,c=0;if(!this.L||this.fa){d=0!==(this.counter&1)?this.Yb:this.hb;var l=d[p+a];var e=d[m-a];if(0===this.Aa)for(x=this.width>>4,r=0;r<x;r+=1)c+=C[e[r]],e[r]=0,c+=C[l[r]],l[r]=0;else if(0===this.wa)for(m=0,p=this.height,x=0;x<p;x+=1)l=d[x],l[t]&~z&&(c+=1),l[t]&=z,l[w]&~y&&(c+=1),l[w]&=y;else{for(;r<=x;r+=
1)c+=C[e[r]],e[r]=0,c+=C[l[r]],l[r]=0;for(x=m-a+1;x<=p+a-1;x+=1)l=d[x],l[t]&~z&&(c+=1),l[t]&=z,l[w]&~y&&(c+=1),l[w]&=y}b&&(this.ga-=c)}if(-1!==this.i)if(d=this.S,(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(d=this.Ja),f-=a,n+=a,p+=a,m-=a,l=d[p],e=d[m],0===this.Aa)e.fill(0),l.fill(0);else if(0===this.wa)for(x=0;x<this.height;x+=1)d[x][f]=0,d[x][n]=0;else for(e.fill(0,f,n+1),l.fill(0,f,n+1),x=m+1;x<=p-1;x+=1)d[x][f]=0,d[x][n]=0};q.prototype.ju=function(a,b,d){var f,m;this.Ms+=1;for(m=0;m<a.length;m+=
1){var n=a[m];for(f=0;f<n.length;f+=1)1===n[f]&&(this.Zj(b+f,d+m,0,!1),this.Fb+=1)}};q.prototype.da=function(a,b,d,f,m){var n,p,r=f+f,x=m+m,t=r+f,w=x+m,z=t+f,y=w+m,C=this.S;var c=this.M.l;var l=this.M.u;var e=this.M.s;var v=this.M.v;var A=this.Qa;b-=2;d-=2;var B=0;for(n=!0;n&&B<a.length;){var D=0;for(p=a[B];n&&D<p.length;){var E=p[D];var G=C[d+B][b+D];G<A&&0===E||G>=A&&1===E||(n=!1);D+=1}B+=1}if(n){D=b+3+f+f;B=d+3+m+m;p=0>f?c-1:l+1;var F=0>m?e-1:v+1;for(n=!1;!n&&D!==p&&B!==F;){var I=C[B];G=I[D];e=
C[B+m][D];v=I[D+f];c=C[B+x][D];l=I[D+r];A=C[B+w][D];E=I[D+t];var L=C[B+y][D];var K=I[D+z];var J=C[B+y+m][D];var M=I[D+z+f];var H=C[B+y+m][D];var U=I[D+z+f];var qa=C[B+y+x][D];var ka=I[D+z+r];var O=C[B+y+w][D];I=I[D+z+t];(G|e|v|c|l|A|E|L|K|J|M|H|U|qa|ka|O|I)&64?n=!0:(D+=f,B+=m)}n?this.Nh[this.Nh.length]={YK:a,x:b,y:d,eP:D,gP:B}:this.ju(a,b,d)}return n};q.prototype.Rz=function(){var a,b=this.Nh.length,d;for(a=0;a<b;a+=1){var f=this.Nh[a];var m=f.eP;var n=f.gP;var p=0;for(d=!1;!d&&p<b;){if(p!==a){var r=
this.Nh[p];r.x>=m-4&&r.x<=m+4&&r.y>=n-4&&r.y<=n+4&&(this.ju(f.YK,f.x,f.y),d=!0)}p+=1}}};q.prototype.hA=function(){var a,b=this.M.l,d=this.M.u,f=this.M.s,m=this.M.v,n=this.S,p=n[m],r=n[f],x=this.Qa;if(-1===this.xa){this.Nh=[];64>b&&(b=64);d>this.width-64&&(d=this.width-64);64>f&&(f=64);m>this.height-64&&(m=this.height-64);for(a=b;a<=d;a+=1)r[a]>=x&&(this.da(this.ym,a,f,-1,1)||this.da(this.Bm,a-1,f,-1,1)||this.da(this.Em,a,f,-1,1)||this.da(this.Fm,a-1,f,-1,1)||this.da(this.ll,a,f,1,1)||this.da(this.rl,
a-1,f,1,1)||this.da(this.ul,a-1,f,1,1)||this.da(this.um,a,f,1,1)),p[a]>=x&&(this.da(this.cn,a,m-2,-1,-1)||this.da(this.hn,a-1,m-2,-1,-1)||this.da(this.Lo,a,m-2,-1,-1)||this.da(this.Qo,a-1,m-2,-1,-1)||this.da(this.Hm,a,m-2,1,-1)||this.da(this.Km,a-1,m-2,1,-1)||this.da(this.Rm,a-1,m-2,1,-1)||this.da(this.Sm,a,m-2,1,-1));for(a=f;a<=m;a+=1)f=n[a],f[b]>=x&&(this.da(this.ym,b,a,1,-1)||this.da(this.Bm,b,a-1,1,-1)||this.da(this.Em,b,a,1,-1)||this.da(this.Fm,b,a-1,1,-1)||this.da(this.cn,b,a-1,1,1)||this.da(this.hn,
b,a,1,1)||this.da(this.Lo,b,a,1,1)||this.da(this.Qo,b,a-1,1,1)),f[d]>=x&&(this.da(this.ll,d-2,a,-1,-1)||this.da(this.rl,d-2,a-1,-1,-1)||this.da(this.ul,d-2,a,-1,-1)||this.da(this.um,d-2,a-1,-1,-1)||this.da(this.Hm,d-2,a-1,-1,1)||this.da(this.Km,d-2,a,-1,1)||this.da(this.Rm,d-2,a,-1,1)||this.da(this.Sm,d-2,a-1,-1,1));this.Rz();this.nh()}};q.prototype.DC=function(){var a,b,d=this.la?-1:0,f=this.Aa,m=this.wa;for(b=0;1>=b;b+=1){var n=Math.round((this.width-f)/2-1)+d+b>>4;var p=Math.round((this.width+
f)/2)+d-b>>4;var r=Math.round((this.height-m)/2-1+b)+d>>4;var x=Math.round((this.height+m)/2)+d-b>>4;0===m&&(r=0,x=(this.height>>4)-1);0===f&&(n=0,p=(this.width>>4)-1);0>n&&(n=0);0>r&&(r=0);p>=this.width>>4&&(p=(this.width>>4)-1);x>=this.height>>4&&(x=(this.height>>4)-1);for(a=n;a<=p;a+=1){var t=-1;this.ja[r][a>>4]|=t;this.ra[r][a>>4]|=t;this.La[r][a>>4]|=t;this.Da[r][a>>4]|=t;this.ja[x][a>>4]|=t;this.ra[x][a>>4]|=t;this.La[x][a>>4]|=t;this.Da[x][a>>4]|=t}for(a=r;a<=x;a+=1)t=1<<(~n&15),this.ja[a][n>>
4]|=t,this.ra[a][n>>4]|=t,this.La[a][n>>4]|=t,this.Da[a][n>>4]|=t,t=1<<(~p&15),this.ja[a][p>>4]|=t,this.ra[a][p>>4]|=t,this.La[a][p>>4]|=t,this.Da[a][p>>4]|=t}};q.prototype.iP=function(a){var b=this.Aa,d=this.wa,f=this.la?-1:0,m=Math.round((this.width-b)/2)+f;f=Math.round((this.height-d)/2)+f;var n=m+b-1,p=f+d-1,r=this.Pn,x=this.Qn,t=this.Da,w=this.Ae,z;0===this.Aa&&(m=0,n=this.width-1,b=this.width);0===this.wa&&(f=0,p=this.height-1,d=this.height);if(0!==this.wa)for(z=0;z<b;z+=1){var y=m+z;var C=
m+(z+r+b)%b;var c=a[p][y];0!==c&&(a[f-1][C]=c,t[f-1>>4][C>>8]|=1<<(~(C>>4)&15),w[f-1>>4][C>>8]&=~(1<<(~(C>>4)&15)),15===(f-1&15)&&(t[(f-1>>4)+1][C>>8]|=1<<(~(C>>4)&15),w[(f-1>>4)+1][C>>8]&=~(1<<(~(C>>4)&15))));C=m+(z-r+b)%b;c=a[f][y];0!==c&&(a[p+1][C]=c,t[p+1>>4][C>>8]|=1<<(~(C>>4)&15),w[p+1>>4][C>>8]&=~(1<<(~(C>>4)&15)),0===(p+1&15)&&(t[(p+1>>4)-1][C>>8]|=1<<(~(C>>4)&15),w[(p+1>>4)-1][C>>8]&=~(1<<(~(C>>4)&15))))}if(0!==this.Aa)for(z=0;z<d;z+=1)y=f+z,C=f+(z-x+d)%d,c=a[y][m],0!==c&&(a[C][n+1]=c,t[C>>
4][n+1>>8]|=1<<(~(n+1>>4)&15),w[C>>4][n+1>>8]&=~(1<<(~(n+1>>4)&15)),0===(n+1&15)&&(t[C>>4][n-15>>8]|=1<<(~(n-15>>4)&15),w[C>>4][n-15>>8]&=~(1<<(~(n-15>>4)&15)))),C=f+(z+x+d)%d,c=a[y][n],0!==c&&(a[C][m-1]=c,t[C>>4][m-1>>8]|=1<<(~(m-1>>4)&15),w[C>>4][m-1>>8]&=~(1<<(~(m-1>>4)&15)),15===(m-1&15)&&(t[C>>4][m+15>>8]|=1<<(~(m+15>>4)&15),w[C>>4][m+15>>8]&=~(1<<(~(m+15>>4)&15))));0!==this.Aa&&0!==this.wa&&(c=a[f+(d-1+x+d)%d][m+(-r+b)%b],a[f-1][n+1]=c,c=a[f+(d-1-x+d)%d][m+(b-1-r+b)%b],a[f-1][m-1]=c,c=a[f+(x+
d)%d][m+(r+b)%b],a[p+1][n+1]=c,c=a[f+(-x+d)%d][m+(b-1+r+b)%b],a[p+1][m-1]=c)};q.prototype.dP=function(a){var b=this.Da,d=this.Ae,f=this.Aa,m=this.wa,n=this.la?-1:0,p=Math.round((this.width-f)/2)+n;n=Math.round((this.height-m)/2)+n;var r=p+f-1,x=n+m-1,t=this.Pn,w=this.Qn,z=this.Nu,y=this.Uy,C;for(C=0;C<f;C+=1){var c=p+C;var l=z?r-(C+t+f)%f:p+(C+t+f)%f;var e=a[x][c];0!==e&&(a[n-1][l]=e,b[n-1>>4][l>>8]|=1<<(~(l>>4)&15),d[n-1>>4][l>>8]&=~(1<<(~(l>>4)&15)),15===(n-1&15)&&(b[(n-1>>4)+1][l>>8]|=1<<(~(l>>
4)&15),d[(n-1>>4)+1][l>>8]&=~(1<<(~(l>>4)&15))));l=z?r-(C-t+f)%f:p+(C-t+f)%f;e=a[n][c];0!==e&&(a[x+1][l]=e,b[x+1>>4][l>>8]|=1<<(~(l>>4)&15),d[x+1>>4][l>>8]&=~(1<<(~(l>>4)&15)),0===(x+1&15)&&(b[(x+1>>4)-1][l>>8]|=1<<(~(l>>4)&15),d[(x+1>>4)-1][l>>8]&=~(1<<(~(l>>4)&15))))}for(C=0;C<m;C+=1)c=n+C,l=y?x-(C-w+m)%m:n+(C-w+m)%m,e=a[c][p],0!==e&&(a[l][r+1]=e,b[l>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[l>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(b[l>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[l>>4][r-15>>8]&=~(1<<(~(r-
15>>4)&15)))),l=y?x-(C+w+m)%m:n+(C+w+m)%m,e=a[c][r],0!==e&&(a[l][p-1]=e,b[l>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[l>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(b[l>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[l>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));e=a[y?x-(m-1+w+m)%m:n+(m-1+w+m)%m][z?r-(-t+f)%f:p+(-t+f)%f];a[n-1][r+1]=e;e=a[y?x-(m-1+w+m)%m:n+(m-1+w+m)%m][z?r-(f-1-t+f)%f:p+(f-1-t+f)%f];a[n-1][p-1]=e;e=a[y?x-(w+m)%m:n+(w+m)%m][z?r-(t+f)%f:p+(t+f)%f];a[x+1][r+1]=e;e=a[y?x-(w+m)%m:n+(w+m)%m][z?r-(f-1+t+f)%f:
p+(f-1+t+f)%f];a[x+1][p-1]=e};q.prototype.VO=function(a){var b=this.La,d=this.Ae,f=this.Aa,m=this.wa,n=this.la?-1:0,p=Math.round((this.width-f)/2)+n;n=Math.round((this.height-m)/2)+n;var r=p+f-1,x=n+m-1,t;for(t=0;t<f;t+=1){var w=p+t;var z=r-t;var y=a[x][w];0!==y&&(a[n-1][z]=y,b[n-1>>4][z>>8]|=1<<(~(z>>4)&15),d[n-1>>4][z>>8]&=~(1<<(~(z>>4)&15)),15===(n-1&15)&&(b[(n-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),d[(n-1>>4)+1][z>>8]&=~(1<<(~(z>>4)&15))));y=a[n][w];0!==y&&(a[x+1][z]=y,b[x+1>>4][z>>8]|=1<<(~(z>>4)&15),
d[x+1>>4][z>>8]&=~(1<<(~(z>>4)&15)),0===(x+1&15)&&(b[(x+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),d[(x+1>>4)-1][z>>8]&=~(1<<(~(z>>4)&15))))}for(t=0;t<=m;t+=1)w=n+t,z=x-t,y=a[w][p],0!==y&&(a[z][r+1]=y,b[z>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[z>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(b[z>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[z>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15)))),y=a[w][r],0!==y&&(a[z][p-1]=y,b[z>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[z>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(b[z>>4][p+15>>8]|=1<<(~(p+
15>>4)&15),d[z>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));y=a[x][p];a[x+1][p-1]=y;y=a[x][r];a[x+1][r+1]=y;y=a[n][p];a[n-1][p-1]=y;y=a[n][r];a[n-1][r+1]=y};q.prototype.hP=function(a){var b=this.La,d=this.Ae,f=this.Aa,m=this.wa,n=this.la?-1:0,p=Math.round((this.width-f)/2)+n;n=Math.round((this.height-m)/2)+n;var r=p+f-1;m=n+m-1;var x;for(x=0;x<f;x+=1){var t=n+x;var w=p+x;var z=a[t][p];0!==z&&(a[n-1][w]=z,b[n-1>>4][w>>8]|=1<<(~(w>>4)&15),d[n-1>>4][w>>8]&=~(1<<(~(w>>4)&15)),15===(n-1&15)&&(b[(n-1>>4)+1][w>>
8]|=1<<(~(w>>4)&15),d[(n-1>>4)+1][w>>8]&=~(1<<(~(w>>4)&15))));z=a[t][r];0!==z&&(a[m+1][w]=z,b[m+1>>4][w>>8]|=1<<(~(w>>4)&15),d[m+1>>4][w>>8]&=~(1<<(~(w>>4)&15)),0===(m+1&15)&&(b[(m+1>>4)-1][w>>8]|=1<<(~(w>>4)&15),d[(m+1>>4)-1][w>>8]&=~(1<<(~(w>>4)&15))));z=a[n][w];0!==z&&(a[t][p-1]=z,b[t>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[t>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(b[t>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[t>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));z=a[m][w];0!==z&&(a[t][r+1]=z,b[t>>4][r+1>>8]|=1<<
(~(r+1>>4)&15),d[t>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(b[t>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[t>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15))))}z=a[m][p];a[m+1][p-1]=z;z=a[m][r];a[m+1][r+1]=z;z=a[n][p];a[n-1][p-1]=z;z=a[n][r];a[n-1][r+1]=z};q.prototype.uu=function(){var a=this.La,b=this.Aa,d=this.wa;var f=this.la?-1:0;var m=Math.round((this.width-b)/2)+f,n=Math.round((this.height-d)/2)+f,p=m+b-1,r=n+d-1,x=this.Pn,t=this.Qn,w=this.P&&0<m&&p<this.width-1,z;if(0!==(this.counter&1)){f=this.Yb;var y=
this.ra}else f=this.hb,y=this.ja;0===this.Aa&&(m=0,p=this.width-1,b=this.width);0===this.wa&&(n=0,r=this.height-1,d=this.height);if(0!==this.wa)for(z=0;z<b;z+=1){var C=m+z;var c=m+(z+x+b)%b;0!==(f[r][C>>4]&1<<(~C&15))&&(f[n-1][c>>4]|=1<<(~c&15),y[n-1>>4][c>>8]|=1<<(~(c>>4)&15),a[n-1>>4][c>>8]|=1<<(~(c>>4)&15),15===(n-1&15)&&(y[(n-1>>4)+1][c>>8]|=1<<(~(c>>4)&15),a[(n-1>>4)+1][c>>8]|=1<<(~(c>>4)&15)));c=m+(z-x+b)%b;0!==(f[n][C>>4]&1<<(~C&15))&&(f[r+1][c>>4]|=1<<(~c&15),y[r+1>>4][c>>8]|=1<<(~(c>>4)&
15),a[r+1>>4][c>>8]|=1<<(~(c>>4)&15),0===(r+1&15)&&(y[(r+1>>4)-1][c>>8]|=1<<(~(c>>4)&15),a[(r+1>>4)-1][c>>8]|=1<<(~(c>>4)&15)))}if(0!==this.Aa)for(z=0;z<d;z+=1)C=n+z,c=n+(z-t+d)%d,0!==(f[C][m>>4]&1<<(~m&15))&&(f[c][p+1>>4]|=1<<(~(p+1)&15),y[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(y[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),w&&(m+=1,p+=1,0!==(f[C][m>>4]&1<<(~m&15))&&(f[c][p+1>>4]|=1<<(~(p+1)&15),y[c>>4][p+1>>8]|=1<<(~(p+1>>
4)&15),a[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(y[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),--m,--p),c=n+(z+t+d)%d,0!==(f[C][p>>4]&1<<(~p&15))&&(f[c][m-1>>4]|=1<<(~(m-1)&15),y[c>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[c>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(y[c>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[c>>4][m+15>>8]|=1<<(~(m+15>>4)&15))),w&&(--m,--p,0!==(f[C][p>>4]&1<<(~p&15))&&(f[c][m-1>>4]|=1<<(~(m-1)&15),y[c>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[c>>4][m-1>>8]|=1<<
(~(m-1>>4)&15),15===(m-1&15)&&(y[c>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[c>>4][m+15>>8]|=1<<(~(m+15>>4)&15))),m+=1,p+=1);0!==this.Aa&&0!==this.wa&&(C=m+(-x+b)%b,f[n-1][p+1>>4]=0!==(f[n+(d-1+t+d)%d][C>>4]&1<<(~C&15))?f[n-1][p+1>>4]|1<<(~(p+1)&15):f[n-1][p+1>>4]&~(1<<(~(p+1)&15)),C=m+(b-1-x+b)%b,f[n-1][m-1>>4]=0!==(f[n+(d-1-t+d)%d][C>>4]&1<<(~C&15))?f[n-1][m-1>>4]|1<<(~(m-1)&15):f[n-1][m-1>>4]&~(1<<(~(m-1)&15)),C=m+(x+b)%b,f[r+1][p+1>>4]=0!==(f[n+(t+d)%d][C>>4]&1<<(~C&15))?f[r+1][p+1>>4]|1<<(~(p+1)&15):
f[r+1][p+1>>4]&~(1<<(~(p+1)&15)),C=m+(b-1+x+b)%b,f[r+1][m-1>>4]=0!==(f[n+(-t+d)%d][C>>4]&1<<(~C&15))?f[r+1][m-1>>4]|1<<(~(m-1)&15):f[r+1][m-1>>4]&~(1<<(~(m-1)&15)))};q.prototype.su=function(){var a=this.La,b=this.Aa,d=this.wa;var f=this.la?-1:0;var m=Math.round((this.width-b)/2)+f,n=Math.round((this.height-d)/2)+f,p=m+b-1,r=n+d-1,x=this.Pn,t=this.Qn,w=this.Nu,z=this.Uy,y;if(0!==(this.counter&1)){f=this.Yb;var C=this.ra}else f=this.hb,C=this.ja;for(y=0;y<b;y+=1){var c=m+y;var l=w?p-(y+x+b)%b:m+(y+
x+b)%b;0!==(f[r][c>>4]&1<<(~c&15))&&(f[n-1][l>>4]|=1<<(~l&15),C[n-1>>4][l>>8]|=1<<(~(l>>4)&15),a[n-1>>4][l>>8]|=1<<(~(l>>4)&15),15===(n-1&15)&&(C[(n-1>>4)+1][l>>8]|=1<<(~(l>>4)&15),a[(n-1>>4)+1][l>>8]|=1<<(~(l>>4)&15)));l=w?p-(y-x+b)%b:m+(y-x+b)%b;0!==(f[n][c>>4]&1<<(~c&15))&&(f[r+1][l>>4]|=1<<(~l&15),C[r+1>>4][l>>8]|=1<<(~(l>>4)&15),a[r+1>>4][l>>8]|=1<<(~(l>>4)&15),0===(r+1&15)&&(C[(r+1>>4)-1][l>>8]|=1<<(~(l>>4)&15),a[(r+1>>4)-1][l>>8]|=1<<(~(l>>4)&15)))}for(y=0;y<d;y+=1)c=n+y,l=z?r-(y-t+d)%d:n+
(y-t+d)%d,0!==(f[c][m>>4]&1<<(~m&15))&&(f[l][p+1>>4]|=1<<(~(p+1)&15),C[l>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[l>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(C[l>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[l>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),l=z?r-(y+t+d)%d:n+(y+t+d)%d,0!==(f[c][p>>4]&1<<(~p&15))&&(f[l][m-1>>4]|=1<<(~(m-1)&15),C[l>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[l>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(C[l>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[l>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));c=w?p-(-x+b)%b:m+(-x+b)%
b;0!==(f[z?r-(d-1+t+d)%d:n+(d-1+t+d)%d][c>>4]&1<<(~c&15))&&(f[n-1][p+1>>4]|=1<<(~(p+1)&15));c=w?p-(b-1-x+b)%b:m+(b-1-x+b)%b;0!==(f[z?r-(d-1+t+d)%d:n+(d-1+t+d)%d][c>>4]&1<<(~c&15))&&(f[n-1][m-1>>4]|=1<<(~(m-1)&15));c=w?p-(x+b)%b:m+(x+b)%b;0!==(f[z?r-(t+d)%d:n+(t+d)%d][c>>4]&1<<(~c&15))&&(f[r+1][p+1>>4]|=1<<(~(p+1)&15));c=w?p-(b-1+x+b)%b:m+(b-1+x+b)%b;0!==(f[z?r-(t+d)%d:n+(t+d)%d][c>>4]&1<<(~c&15))&&(f[r+1][m-1>>4]|=1<<(~(m-1)&15))};q.prototype.ru=function(){var a=this.La,b=this.Aa,d=this.wa;var f=
this.la?-1:0;var m=Math.round((this.width-b)/2)+f,n=Math.round((this.height-d)/2)+f,p=m+b-1,r=n+d-1,x;if(0!==(this.counter&1)){f=this.Yb;var t=this.ra}else f=this.hb,t=this.ja;for(x=0;x<b;x+=1){var w=m+x;var z=p-x;0!==(f[r][w>>4]&1<<(~w&15))&&(f[n-1][z>>4]|=1<<(~z&15),t[n-1>>4][z>>8]|=1<<(~(z>>4)&15),a[n-1>>4][z>>8]|=1<<(~(z>>4)&15),15===(n-1&15)&&(t[(n-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),a[(n-1>>4)+1][z>>8]|=1<<(~(z>>4)&15)));0!==(f[n][w>>4]&1<<(~w&15))&&(f[r+1][z>>4]|=1<<(~z&15),t[r+1>>4][z>>8]|=1<<
(~(z>>4)&15),a[r+1>>4][z>>8]|=1<<(~(z>>4)&15),0===(r+1&15)&&(t[(r+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),a[(r+1>>4)-1][z>>8]|=1<<(~(z>>4)&15)))}for(x=0;x<=d;x+=1)w=n+x,z=r-x,0!==(f[w][m>>4]&1<<(~m&15))&&(f[z][p+1>>4]|=1<<(~(p+1)&15),t[z>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[z>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(t[z>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[z>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),0!==(f[w][p>>4]&1<<(~p&15))&&(f[z][m-1>>4]|=1<<(~(m-1)&15),t[z>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[z>>4][m-1>>8]|=1<<
(~(m-1>>4)&15),15===(m-1&15)&&(t[z>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[z>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));0!==(f[r][m>>4]&1<<(~m&15))&&(f[r+1][m-1>>4]|=1<<(~(m-1)&15));0!==(f[r][p>>4]&1<<(~p&15))&&(f[r+1][p+1>>4]|=1<<(~(p+1)&15));0!==(f[n][m>>4]&1<<(~m&15))&&(f[n-1][m-1>>4]|=1<<(~(m-1)&15));0!==(f[n][p>>4]&1<<(~p&15))&&(f[n-1][p+1>>4]|=1<<(~(p+1)&15))};q.prototype.tu=function(){var a=this.La,b=this.Aa;var d=this.wa;var f=this.la?-1:0,m=Math.round((this.width-b)/2)+f;f=Math.round((this.height-d)/
2)+f;var n=m+b-1,p=f+d-1,r;if(0!==(this.counter&1)){d=this.Yb;var x=this.ra}else d=this.hb,x=this.ja;for(r=0;r<b;r+=1){var t=f+r;var w=m+r;0!==(d[t][m>>4]&1<<(~m&15))&&(d[f-1][w>>4]|=1<<(~w&15),x[f-1>>4][w>>8]|=1<<(~(w>>4)&15),a[f-1>>4][w>>8]|=1<<(~(w>>4)&15),15===(f-1&15)&&(x[(f-1>>4)+1][w>>8]|=1<<(~(w>>4)&15),a[(f-1>>4)+1][w>>8]|=1<<(~(w>>4)&15)));0!==(d[t][n>>4]&1<<(~n&15))&&(d[p+1][w>>4]|=1<<(~w&15),x[p+1>>4][w>>8]|=1<<(~(w>>4)&15),a[p+1>>4][w>>8]|=1<<(~(w>>4)&15),0===(p+1&15)&&(x[(p+1>>4)-1][w>>
8]|=1<<(~(w>>4)&15),a[(p+1>>4)-1][w>>8]|=1<<(~(w>>4)&15)));0!==(d[f][w>>4]&1<<(~w&15))&&(d[t][m-1>>4]|=1<<(~(m-1)&15),x[t>>4][m-1>>8]|=1<<(~(m-1>>4)&15),a[t>>4][m-1>>8]|=1<<(~(m-1>>4)&15),15===(m-1&15)&&(x[t>>4][m+15>>8]|=1<<(~(m+15>>4)&15),a[t>>4][m+15>>8]|=1<<(~(m+15>>4)&15)));0!==(d[p][w>>4]&1<<(~w&15))&&(d[t][n+1>>4]|=1<<(~(n+1)&15),x[t>>4][n+1>>8]|=1<<(~(n+1>>4)&15),a[t>>4][n+1>>8]|=1<<(~(n+1>>4)&15),0===(n+1&15)&&(x[t>>4][n-15>>8]|=1<<(~(n-15>>4)&15),a[t>>4][n-15>>8]|=1<<(~(n-15>>4)&15)))}0!==
(d[p][m>>4]&1<<(~m&15))&&(d[p+1][m-1>>4]|=1<<(~(m-1)&15));0!==(d[p][n>>4]&1<<(~n&15))&&(d[p+1][n+1>>4]|=1<<(~(n+1)&15));0!==(d[f][m>>4]&1<<(~m&15))&&(d[f-1][m-1>>4]|=1<<(~(m-1)&15));0!==(d[f][n>>4]&1<<(~n&15))&&(d[f-1][n+1>>4]|=1<<(~(n+1)&15))};q.prototype.wO=function(a){var b,d=1;0!==this.xa&&(d=2);this.P&&(d+=1);for(b=1;b<=d+1;b+=1)this.$z(b,a)};q.prototype.DO=function(){var a=this.S;if(this.L||this.fa||this.V)0!==(this.counter&1)&&(a=this.Ja),this.Hz(a,0);this.DC();switch(this.xa){case 1:this.L||
this.fa||this.V?(this.iP(a),this.V&&this.uu()):this.uu();break;case 2:this.L||this.fa||this.V?(this.dP(a),this.V&&this.su()):this.su();break;case 3:this.L||this.fa||this.V?(this.VO(a),this.V&&this.ru()):this.ru();break;case 4:this.L||this.fa||this.V?(this.hP(a),this.V&&this.tu()):this.tu()}this.DC()};q.prototype.we=function(a,b,d,f,m){this.Ga?(this.Y=1,this.counter+=1):this.fP(a,b,d,f,m)};q.prototype.fP=function(a,b,d,f,m){var n=!1,p=this.M,r=this.ae;if(!d||f)a=!0;this.counter===this.yo-1&&(n=!0,
b||(a=!0));-1===this.xa||this.pa||this.DO();this.wf&&this.UI();this.Y&&(this.fa?null===this.he?this.QK():this.Ry():this.L?this.Cy():this.pa?this.za.oM(this.counter):a&&2>this.i||this.V?this.la?this.zy():this.P?this.UN():this.cN():this.la?this.Ay():this.P?this.Tx():this.By());this.counter+=1;if(this.la||this.L)this.td?--this.bf:this.bf+=1,this.bf>this.Kj&&(this.Kj=this.bf);-1===this.i||this.pa||this.L||this.fa||this.V||this.yy();this.V&&this.mM();this.wf&&this.TI();-1===this.xa||this.pa||this.wO(a);
if(this.width===this.ia||this.height===this.ia)if(d=this.pa?2*this.za.gh:16,p.l<=d||p.u>=this.ia-d||p.s<=d||p.v>=this.ia-d)this.pa?this.tA():this.qA();n&&(this.yo+=k.xt,b||(this.re(),this.st(m)));p.l<r.l&&(r.l=p.l);p.u>r.u&&(r.u=p.u);p.s<r.s&&(r.s=p.s);p.v>r.v&&(r.v=p.v);this.counter<k.$F&&(a?(this.Zt(this.ga,this.Vb,this.Fb),this.ga>this.ad&&(this.ad=this.ga),this.Vb>this.ad&&(this.ad=this.Vb),this.Fb>this.ad&&(this.ad=this.Fb)):this.Zt(0,0,0))};q.prototype.Zt=function(a,b,d){var f=this.counter>>
k.Rj,m=this.counter&(1<<k.Rj)-1;this.uc&&0<this.uc.length&&(this.counter>=this.Mh&&(Array.wp(this.uc,"Life.popGraphData"),Array.wp(this.Fh,"Life.birthGraphData"),Array.wp(this.ti,"Life.deathGraphData"),this.Mh+=1<<k.Rj),this.uc[f][m]=a,this.Fh[f][m]=b,this.ti[f][m]=d)};q.prototype.sp=function(a,b,d,f,m,n,p,r){var x,t=1,w,z=(1<<k.Rj)-1,y=k.$F;this.counter>d&&(t=d/this.counter);if(r){a.strokeStyle=b;a.beginPath();var C=f-p[0]/this.ad*f|0;a.moveTo(0+n+.5,C+m+n+.5)}else a.fillStyle=b;p.length<<k.Rj<y&&
(y=p.length<<k.Rj);var c=0;for(b=x=1;b<d;b+=1){if(x<y){var l=x>>k.Rj;C=x&z;var e=w=p[l][C];c+=t;for(x+=1;0===(c|0)&&x<y;)l=x>>k.Rj,C=x&z,l=p[l][C],x+=1,l>e&&(e=l),l<w&&(w=l),c+=t;--c}else e=w=0;b<=this.counter&&(l=0+n+1+b,C=f-w/this.ad*f|0,r?(a.lineTo(l+.5,C+m+n+.5),w!==e&&(C=f-e/this.ad*f|0,a.lineTo(l+.5,C+m+n+.5))):0<w&&0<e&&(w!==e&&(C=f-e/this.ad*f|0),a.fillRect(l+.5,C+m+n+.5,1,1)))}r&&a.stroke()};q.prototype.yv=function(a,b,d,f,m){var n=this.context,p=m.o.Ze;m=40*m.o.Jh;var r=40*p,x=this.J-r,
t=this.H-m-r,w="rgb("+this.Dj[0]+","+this.Dj[1]+","+this.Dj[2]+")",z="rgb("+this.Cj[0]+","+this.Cj[1]+","+this.Cj[2]+")",y="rgb("+this.Bj[0]+","+this.Bj[1]+","+this.Bj[2]+")",C="rgb("+this.Ej[0]+","+this.Ej[1]+","+this.Ej[2]+")",c="rgb("+this.Fj[0]+","+this.Fj[1]+","+this.Fj[2]+")";if(this.uc&&0<this.uc.length){d?(t=this.H,m=0):f&&(t=this.H,m=0,x=this.J,r=0);var l=x-r;n.save();n.fillStyle=w;n.globalAlpha=b;n.fillRect(0,m,x+r,t);n.globalAlpha=1;d&&(t-=r);if(!f){n.font=(16*p|0)+"px Arial";n.textAlign=
"center";n.fillStyle="black";for(b=2;0<=b;b-=2)n.save(),n.translate(this.J/2,t+r/2-(6*p|0)),n.fillText("Generation",b,b),n.restore(),n.save(),n.translate(r/2+(6*p|0),this.H/2),n.rotate(-90*Math.PI/180),320>this.H?n.fillText("Pop",b,b):n.fillText("Population",b,b),n.restore(),n.fillStyle=z;n.fillStyle="black";for(b=2;0<=b;b-=2)n.save(),n.translate(r-r/2+(6*p|0),m+r),n.rotate(-90*Math.PI/180),n.fillText(String(this.ad),b,b),n.restore(),n.save(),n.translate(r-r/2+(6*p|0),t),n.rotate(-90*Math.PI/180),
n.fillText("0",b,b),n.restore(),n.save(),n.translate(r,t+r/2-(6*p|0)),n.fillText("0",b,b),n.restore(),n.save(),n.translate(x,t+r/2-(6*p|0)),n.fillText(String(this.counter>l?this.counter:l|0),b,b),n.restore(),n.fillStyle=z}-1===this.xa&&(this.sp(n,c,l,t-m-r,m,r,this.ti,a),this.sp(n,C,l,t-m-r,m,r,this.Fh,a));this.sp(n,y,l,t-m-r,m,r,this.uc,a);n.strokeStyle=z;n.lineWidth=1;n.beginPath();n.moveTo(r+.5,m+r+.5);n.lineTo(r+.5,t+.5);n.lineTo(x+.5,t+.5);n.lineTo(x+.5,t+2.5);n.moveTo(r+.5,t+.5);n.lineTo(r+
.5,t+2.5);n.moveTo(r+.5,t+.5);n.lineTo(r+.5-2,t+.5);n.moveTo(r+.5,m+r+.5);n.lineTo(r+.5-2,m+r+.5);n.stroke();n.restore()}};q.prototype.lH=function(){var a=(1<<k.Rj)-1,b;if(this.uc&&0<this.uc.length){for(b=0;b<this.Mh;b+=1){var d=b>>k.Rj;var f=b&a;this.uc[d][f]=0;this.Fh[d][f]=0;this.ti[d][f]=0}this.uc[0][0]=this.ga}this.ad=this.ga};q.prototype.fx=function(){var a=this.M,b=this.ae;b.l=a.l;b.u=a.u;b.v=a.v;b.s=a.s};q.prototype.UI=function(){var a,b,d,f,m=this.wf,n=this.bk,p=this.aj,r=this.Ig,x=this.ya,
t=this.ua>>4,w;var z=0;var y=0!==(this.counter&1)?this.Yb:this.hb;for(a=0;a<x;a+=1){var C=0;var c=r[a];for(b=0;b<t;b+=1)if(w=c[b])for(d=15;0<=d;--d){if(0!==(w&1<<d))for(f=z;f<z+16;f+=1)n[f][C]=(y[f][C]|p[f][C])&m[f][C];C+=1}else C+=16;z+=16}};q.prototype.TI=function(){var a,b,d,f,m,n=this.kg,p=this.bk,r=this.Ig,x=this.ya,t=this.ua>>4,w;var z=0!==(this.counter&1)?this.Yb:this.hb;for(a=m=0;a<x;a+=1){var y=0;var C=r[a];for(b=0;b<t;b+=1)if(w=C[b])for(d=15;0<=d;--d){if(0!==(w&1<<d))for(f=m;f<m+16;f+=1){var c=
z[f][y];var l=c&~p[f][y];l!==c&&(z[f][y]=l,c=n[c]-n[l],this.ga-=c,this.Fb+=c)}y+=1}else y+=16;m+=16}};q.prototype.rp=function(a,b,d){var f,m,n=this.jk,p=0,r=this.Ge[p],x=this.He[p],t=0,w=k.ax,z=w-1,y=0,C=w,c=this.ot,l=this.Ab,e=this.Cb,v;r[t]=a;x[t]=b;t+=1;d[b][a>>4]&=~(1<<(~a&15));for(v=1;0<t;)for(--t,t<y&&(--p,y-=w,C-=w,r=this.Ge[p],x=this.He[p]),a=r[t&z],b=x[t&z],m=b-c;m<=b+c;){for(f=a-c;f<=a+c;)f===(f&l)&&m===(m&e)&&0!==(d[m][f>>4]&1<<(~f&15))&&(d[m][f>>4]&=~(1<<(~f&15)),v+=1,t===C&&(p+=1,y+=
w,C+=w,p>n&&(this.Ge[p]=this.A.R(Int32,w,"Life.boundaryX"+p),this.He[p]=this.A.R(Int32,w,"Life.boundaryY"+p),this.jk=n+=1),r=this.Ge[p],x=this.He[p]),r[t&z]=f,x[t&z]=m,t+=1),f+=1;m+=1}this.ga-=v;this.Fb+=v};q.prototype.wu=function(a,b,d){for(var f=d[b][a],m=15;0<=m;)0!==(f&1<<m)&&this.rp((a<<4)+(~m&15),b,d),--m};q.prototype.yI=function(a,b){this.rp(0,a,b)};q.prototype.AI=function(a,b,d){this.rp((a<<4)+15,b,d)};q.prototype.qA=function(){var a;var b=0!==(this.counter&1)?this.Yb:this.hb;var d=b.length;
var f=b[0].length;var m=b[0];var n=b[d-1];for(a=0;a<f;)m[a]&&this.wu(a,0,b),n[a]&&this.wu(a,d-1,b),a+=1;for(a=0;a<d;)0!==(b[a][0]&32768)&&this.yI(a,b),0!==(b[a][f-1]&1)&&this.AI(f-1,a,b),a+=1};q.prototype.pk=function(a,b){var d,f=this.S,m,n=this.jk,p=0,r=this.Ge[p],x=this.He[p],t=0,w=k.ax,z=w-1,y=0,C=w,c=this.Ab,l=this.Cb,e=2<this.i?1:k.Qa,v=2<this.i?0:k.df,A=this.ot,B;r[t]=a;x[t]=b;t+=1;f[b][a]=0;for(B=1;0<t;)for(--t,t<y&&(--p,y-=w,C-=w,r=this.Ge[p],x=this.He[p]),a=r[t&z],b=x[t&z],d=b-A;d<=b+A;){var D=
a-A;for(m=f[d];D<=a+A;)D===(D&c)&&d===(d&l)&&m[D]>=e&&(m[D]=v,B+=1,t===C&&(p+=1,y+=w,C+=w,p>n&&(this.Ge[p]=this.A.R(Int32,w,"Life.boundaryX"+p),this.He[p]=this.A.R(Int32,w,"Life.boundaryY"+p),this.jk=n+=1),r=this.Ge[p],x=this.He[p]),r[t&z]=D,x[t&z]=d,t+=1),D+=1;d+=1}this.ga-=B;this.Fb+=B};q.prototype.tA=function(){var a=this.S,b=a.length,d=a[0].length,f=this.M,m=f.l,n=f.u,p=f.s,r=f.v,x=2*this.za.gh+1,t=2*this.za.hh+1,w=2<this.i?1:k.Qa,z,y;if(b-r<=t){for(y=b-t;y<=r;y+=1){var C=a[y];for(z=m;z<=n;z+=
1)C[z]>=w&&this.pk(z,y)}f.v=b-t}if(p<=t){for(y=p;y<=t;y+=1)for(C=a[y],z=m;z<=n;z+=1)C[z]>=w&&this.pk(z,y);f.s=t}if(m<=x){for(y=p;y<=r;y+=1)for(C=a[y],z=m;z<=x;z+=1)C[z]>=w&&this.pk(z,y);f.l=x}if(d-n<=x){for(y=p;y<=r;y+=1)for(C=a[y],z=d-x;z<=n;z+=1)C[z]>=w&&this.pk(z,y);f.u=d-x}};q.prototype.UN=function(){var a=this.xi,b,d,f,m,n,p=this.na,r,x=this.height,t=this.width,w=t>>4,z=this.M,y=x,C=-1,c=t,l=-1,e=this.ya,v=this.ua>>4,A=this.wd;var B=0;var D=e,E=this.kg,G=0,F=0,I=0;if(0!==(this.counter&1)){var L=
this.Yb;var K=this.hb;var J=this.ra;var M=this.ja;this.oc&&(a=this.kj)}else L=this.hb,K=this.Yb,J=this.ja,M=this.ra;p.fill(0);0>B&&(B=0);D>e&&(D=e);var H=B<<4;var U=H+16;M.Wa.fill(0);for(d=B;d<D;d+=1){var qa=0;var ka=J[d];var O=M[d];var ca=0<d?M[d-1]:A;var Q=d<e-1?M[d+1]:A;for(f=0;f<v;f+=1)if(m=ka[f]){var W=O[f];var ia=ca[f];var ha=Q[f];for(b=15;0<=b;--b){if(0!==(m&1<<b)){var X=r=0;var ea=H;var da=0===ea?this.Cf:L[ea-1];var ra=L[ea];B=L[ea+1];var na=n=ra[qa];da=da[qa-1]<<18|da[qa]<<2|da[qa+1]>>14;
var T=ra[qa-1]<<18|n<<2|ra[qa+1]>>14;var R=B[qa-1]<<18|B[qa]<<2|B[qa+1]>>14;var V=a[da>>7&7936|R>>11&224|T>>15&31]<<15;V|=a[R>>6&7936|da>>10&224|T>>14&31]<<14;V|=a[da>>5&7936|R>>9&224|T>>13&31]<<13;V|=a[R>>4&7936|da>>8&224|T>>12&31]<<12;V|=a[da>>3&7936|R>>7&224|T>>11&31]<<11;V|=a[R>>2&7936|da>>6&224|T>>10&31]<<10;V|=a[da>>1&7936|R>>5&224|T>>9&31]<<9;V|=a[R>>0&7936|da>>4&224|T>>8&31]<<8;V|=a[da<<1&7936|R>>3&224|T>>7&31]<<7;V|=a[R<<2&7936|da>>2&224|T>>6&31]<<6;V|=a[da<<3&7936|R>>1&224|T>>5&31]<<5;V|=
a[R<<4&7936|da>>0&224|T>>4&31]<<4;V|=a[da<<5&7936|R<<1&224|T>>3&31]<<3;V|=a[R<<6&7936|da<<2&224|T>>2&31]<<2;V|=a[da<<7&7936|R<<3&224|T>>1&31]<<1;V|=a[R<<8&7936|da<<4&224|T>>0&31]<<0;K[ea][qa]=V;G+=E[V];F+=E[V&~n];I+=E[n&~V];V&&(r|=V,ea<y&&(y=ea),ea>C&&(C=ea),0!==(V&49152)&&(X|=k.Wb),0!==(V&3)&&(X|=k.Xb),X|=k.Rb);for(ea+=1;ea<U-1;){n=B[qa];na|=n;B=L[ea+1];da=T;T=R;R=B[qa-1]<<18|B[qa]<<2|B[qa+1]>>14;0!==(ea&1)&&(ra=da,da=R,R=ra);V=a[da>>7&7936|R>>11&224|T>>15&31]<<15;V|=a[R>>6&7936|da>>10&224|T>>14&
31]<<14;V|=a[da>>5&7936|R>>9&224|T>>13&31]<<13;V|=a[R>>4&7936|da>>8&224|T>>12&31]<<12;V|=a[da>>3&7936|R>>7&224|T>>11&31]<<11;V|=a[R>>2&7936|da>>6&224|T>>10&31]<<10;V|=a[da>>1&7936|R>>5&224|T>>9&31]<<9;V|=a[R>>0&7936|da>>4&224|T>>8&31]<<8;V|=a[da<<1&7936|R>>3&224|T>>7&31]<<7;V|=a[R<<2&7936|da>>2&224|T>>6&31]<<6;V|=a[da<<3&7936|R>>1&224|T>>5&31]<<5;V|=a[R<<4&7936|da>>0&224|T>>4&31]<<4;V|=a[da<<5&7936|R<<1&224|T>>3&31]<<3;V|=a[R<<6&7936|da<<2&224|T>>2&31]<<2;V|=a[da<<7&7936|R<<3&224|T>>1&31]<<1;V|=a[R<<
8&7936|da<<4&224|T>>0&31]<<0;G+=E[V];F+=E[V&~n];I+=E[n&~V];0!==(ea&1)&&(R=ra=da);if(K[ea][qa]=V)r|=V,ea<y&&(y=ea),ea>C&&(C=ea);ea+=1}n=B[qa];na|=n;B=ea===this.height-1?this.Cf:L[ea+1];da=T;T=R;R=B[qa-1]<<18|B[qa]<<2|B[qa+1]>>14;0!==(ea&1)&&(ra=da,da=R,R=ra);V=a[da>>7&7936|R>>11&224|T>>15&31]<<15;V|=a[R>>6&7936|da>>10&224|T>>14&31]<<14;V|=a[da>>5&7936|R>>9&224|T>>13&31]<<13;V|=a[R>>4&7936|da>>8&224|T>>12&31]<<12;V|=a[da>>3&7936|R>>7&224|T>>11&31]<<11;V|=a[R>>2&7936|da>>6&224|T>>10&31]<<10;V|=a[da>>
1&7936|R>>5&224|T>>9&31]<<9;V|=a[R>>0&7936|da>>4&224|T>>8&31]<<8;V|=a[da<<1&7936|R>>3&224|T>>7&31]<<7;V|=a[R<<2&7936|da>>2&224|T>>6&31]<<6;V|=a[da<<3&7936|R>>1&224|T>>5&31]<<5;V|=a[R<<4&7936|da>>0&224|T>>4&31]<<4;V|=a[da<<5&7936|R<<1&224|T>>3&31]<<3;V|=a[R<<6&7936|da<<2&224|T>>2&31]<<2;V|=a[da<<7&7936|R<<3&224|T>>1&31]<<1;V|=a[R<<8&7936|da<<4&224|T>>0&31]<<0;G+=E[V];F+=E[V&~n];I+=E[n&~V];if(K[ea][qa]=V)r|=V,ea<y&&(y=ea),ea>C&&(C=ea),0!==(V&49152)&&(X|=k.bc),0!==(V&3)&&(X|=k.xb),X|=k.yb;r&&(0!==(r&
49152)&&(X|=k.Tb),0!==(r&3)&&(X|=k.lb));p[qa]|=r;if(r||na)W|=1<<b,X&&(0!==(X&k.Tb)&&(15>b?W|=1<<b+1:0<f&&0<qa&&(O[f-1]|=1)),0!==(X&k.lb)&&(0<b?W|=1<<b-1:f<v-1&&qa<w-1&&(O[f+1]|=32768)),0!==(X&k.Rb)&&(ia|=1<<b),0!==(X&k.yb)&&(ha|=1<<b),0!==(X&k.Wb)&&(15>b?ia|=1<<b+1:0<f&&0<qa&&(ca[f-1]|=1)),0!==(X&k.Xb)&&(0<b?ia|=1<<b-1:f<v-1&&qa<w-1&&(ca[f+1]|=32768)),0!==(X&k.bc)&&(15>b?ha|=1<<b+1:0<f&&0<qa&&(Q[f-1]|=1)),0!==(X&k.xb)&&(0<b?ha|=1<<b-1:f<v-1&&qa<w-1&&(Q[f+1]|=32768)))}qa+=1}O[f]|=W;0<d&&(ca[f]|=ia);
d<e-1&&(Q[f]|=ha)}else qa+=16;H+=16;U+=16}for(f=0;f<w;f+=1)p[f]&&(f<c&&(c=f),f>l&&(l=f));c=(c<<4)+this.G(p[c]);l=(l<<4)+this.U(p[l]);0>C&&(C=x-1);y>=x&&(y=0);c>=t&&(c=0);0>l&&(l=t-1);C>x-1&&(C=x-1);0>y&&(y=0);0>c&&(c=0);l>t-1&&(l=t-1);z.v=C;z.s=y;z.l=c;z.u=l;A.fill(0);this.ga=G;this.Vb=F;this.Fb=I};q.prototype.zy=function(){var a=this.Ud,b,d,f,m,n=this.na,p,r=this.height,x=this.width,t=x>>4,w=this.M,z=r,y=-1,C=x,c=-1,l=this.ya,e=this.ua>>4,v=this.wd,A=this.kg,B=0,D=0,E=0,G=this.counter&1;this.ud&&
(this.td=!this.td,this.ud=!1);if(0!==G){var F=this.Yb;var I=this.hb;var L=this.ra;var K=this.ja;this.td&&(a=this.Yc)}else F=this.hb,I=this.Yb,L=this.ja,K=this.ra,this.oc&&(a=this.nf),this.td&&(a=this.oc?this.Vd:this.Yc);this.td&&(G=1-G);n.fill(0);var J=1-G;var M=J+16;K.Wa.fill(0);for(d=0;d<L.length;d+=1){var H=0;var U=L[d];var qa=K[d];var ka=0<d?K[d-1]:v;var O=d<l-1?K[d+1]:v;for(f=0;f<e;f+=1)if(m=U[f]){var ca=qa[f];var Q=ka[f];var W=O[f];for(b=15;0<=b;--b){var ia=0===b&&f===e-1?!0:!1;if(0!==(m&1<<
b)){var ha=p=0;if(0!==G){var X=J;var ea=F[X][H];var da=F[X+1][H];var ra=ea|da;var na=a[ea&65280|da>>8];var T=na&65280;var R=(na&255)<<8;na=a[(ea&255)<<8|da&255];T|=na>>8;R|=na&255;I[X][H]=T;I[X+1][H]=R;B+=A[T];D+=A[T&~ea];E+=A[ea&~T];B+=A[R];D+=A[R&~da];E+=A[da&~R];if(na=T|R)p|=na,T&&(X<z&&(z=X),X>y&&(y=X)),R&&(X+1<z&&(z=X+1),X+1>y&&(y=X+1)),0!==(na&49152)&&(ha|=k.Wb),0!==(na&3)&&(ha|=k.Xb),ha|=k.Rb;for(X+=2;X<M-2;){ea=F[X][H];da=F[X+1][H];ra|=ea|da;na=a[ea&65280|da>>8];T=na&65280;R=(na&255)<<8;na=
a[(ea&255)<<8|da&255];T|=na>>8;R|=na&255;I[X][H]=T;I[X+1][H]=R;B+=A[T];D+=A[T&~ea];E+=A[ea&~T];B+=A[R];D+=A[R&~da];E+=A[da&~R];if(na=T|R)p|=na,T&&(X<z&&(z=X),X>y&&(y=X)),R&&(X+1<z&&(z=X+1),X+1>y&&(y=X+1));X+=2}ea=F[X][H];da=F[X+1][H];ra|=ea|da;na=a[ea&65280|da>>8];T=na&65280;R=(na&255)<<8;na=a[(ea&255)<<8|da&255];T|=na>>8;R|=na&255;I[X][H]=T;I[X+1][H]=R;B+=A[T];D+=A[T&~ea];E+=A[ea&~T];B+=A[R];D+=A[R&~da];E+=A[da&~R];if(na=T|R)p|=na,T&&(X<z&&(z=X),X>y&&(y=X)),R&&(X+1<z&&(z=X+1),X+1>y&&(y=X+1)),na&&
(0!==(na&49152)&&(ha|=k.bc),0!==(na&3)&&(ha|=k.xb),ha|=k.yb);p&&(0!==(p&49152)&&(ha|=k.Tb),0!==(p&3)&&(ha|=k.lb),n[H]|=p);if(p||ra)ha|=k.xb,ha|=k.lb}else{X=J;ia?(ea=F[X][H]<<1&65535,da=F[X+1][H]<<1&65535):(ea=(F[X][H]<<1|F[X][H+1]>>15)&65535,da=(F[X+1][H]<<1|F[X+1][H+1]>>15)&65535);ra=ea|da;na=a[ea&65280|da>>8];T=na&65280;R=(na&255)<<8;na=a[(ea&255)<<8|da&255];T|=na>>8;R|=na&255;ia?(I[X][H]=I[X][H]&32768|T>>1,I[X+1][H]=I[X+1][H]&32768|R>>1):(I[X][H]=I[X][H]&32768|T>>1,I[X][H+1]=I[X][H+1]&32767|(T&
1)<<15,I[X+1][H]=I[X+1][H]&32768|R>>1,I[X+1][H+1]=I[X+1][H+1]&32767|(R&1)<<15);B+=A[T];D+=A[T&~ea];E+=A[ea&~T];B+=A[R];D+=A[R&~da];E+=A[da&~R];if(na=T|R)p|=na,T&&(X<z&&(z=X),X>y&&(y=X)),T&&(X+1<z&&(z=X+1),X+1>y&&(y=X+1));for(X+=2;X<M-2;){ia?(ea=F[X][H]<<1&65535,da=F[X+1][H]<<1&65535):(ea=(F[X][H]<<1|F[X][H+1]>>15)&65535,da=(F[X+1][H]<<1|F[X+1][H+1]>>15)&65535);ra|=ea|da;na=a[ea&65280|da>>8];T=na&65280;R=(na&255)<<8;na=a[(ea&255)<<8|da&255];T|=na>>8;R|=na&255;ia?(I[X][H]=I[X][H]&32768|T>>1,I[X+1][H]=
I[X+1][H]&32768|R>>1):(I[X][H]=I[X][H]&32768|T>>1,I[X][H+1]=I[X][H+1]&32767|(T&1)<<15,I[X+1][H]=I[X+1][H]&32768|R>>1,I[X+1][H+1]=I[X+1][H+1]&32767|(R&1)<<15);B+=A[T];D+=A[T&~ea];E+=A[ea&~T];B+=A[R];D+=A[R&~da];E+=A[da&~R];if(na=T|R)p|=na,T&&(X<z&&(z=X),X>y&&(y=X)),R&&(X+1<z&&(z=X+1),X+1>y&&(y=X+1));X+=2}ia?(ea=F[X][H]<<1&65535,da=F[X+1][H]<<1&65535):(ea=(F[X][H]<<1|F[X][H+1]>>15)&65535,da=(F[X+1][H]<<1|F[X+1][H+1]>>15)&65535);ra|=ea|da;na=a[ea&65280|da>>8];T=na&65280;R=(na&255)<<8;na=a[(ea&255)<<
8|da&255];T|=na>>8;R|=na&255;ia?(I[X][H]=I[X][H]&32768|T>>1,I[X+1][H]=I[X+1][H]&32768|R>>1):(I[X][H]=I[X][H]&32768|T>>1,I[X][H+1]=I[X][H+1]&32767|(T&1)<<15,I[X+1][H]=I[X+1][H]&32768|R>>1,I[X+1][H+1]=I[X+1][H+1]&32767|(R&1)<<15);B+=A[T];D+=A[T&~ea];E+=A[ea&~T];B+=A[R];D+=A[R&~da];E+=A[da&~R];if(na=T|R)p|=na,T&&(X<z&&(z=X),X>y&&(y=X)),R&&(X+1<z&&(z=X+1),X+1>y&&(y=X+1)),0!==(na&3)&&(ha|=k.xb),ha|=k.yb;ea|da&&(0!==((ea|da)&3)&&(ha|=k.xb),ha|=k.yb);p&&(0!==(p&3)&&(ha|=k.lb),n[H]|=p>>1,n[H+1]|=(p&1)<<15);
0!==(ra&3)&&(ha|=k.lb)}if(p||ra)ca|=1<<b,ha&&(0!==(ha&k.Tb)&&(15>b?ca|=1<<b+1:0<f&&0<H&&(qa[f-1]|=1)),0!==(ha&k.lb)&&(0<b?ca|=1<<b-1:f<e-1&&H<t-1&&(qa[f+1]|=32768)),0!==(ha&k.Rb)&&(Q|=1<<b),0!==(ha&k.yb)&&(W|=1<<b),0!==(ha&k.Wb)&&(15>b?Q|=1<<b+1:0<f&&0<H&&(ka[f-1]|=1)),0!==(ha&k.Xb)&&(0<b?Q|=1<<b-1:f<e-1&&H<t-1&&(ka[f+1]|=32768)),0!==(ha&k.bc)&&(15>b?W|=1<<b+1:0<f&&0<H&&(O[f-1]|=1)),0!==(ha&k.xb)&&(0<b?W|=1<<b-1:f<e-1&&H<t-1&&(O[f+1]|=32768)))}H+=1}qa[f]|=ca;0<d&&(ka[f]|=Q);d<l-1&&(O[f]|=W)}else H+=
16;J+=16;M+=16;M>=r&&(M=r-1)}for(f=0;f<t;f+=1)n[f]&&(f<C&&(C=f),f>c&&(c=f));C=(C<<4)+this.G(n[C]);c=(c<<4)+this.U(n[c]);0>y&&(y=r-1);z>=r&&(z=0);C>=x&&(C=0);0>c&&(c=x-1);y>r-1&&(y=r-1);0>z&&(z=0);0>C&&(C=0);c>x-1&&(c=x-1);w.v=y;w.s=z;w.l=C;w.u=c;v.fill(0);this.ga=B;this.Vb=D;this.Fb=E};q.prototype.Ay=function(){var a=this.Ud,b,d,f,m,n=this.na,p,r=this.height,x=this.width,t=x>>4,w=this.M,z=r,y=-1,C=x,c=-1,l=this.ya,e=this.ua>>4,v=this.wd,A=this.counter&1;this.ud&&(this.td=!this.td,this.ud=!1);if(0!==
A){var B=this.Yb;var D=this.hb;var E=this.ra;var G=this.ja;this.td&&(a=this.Yc)}else B=this.hb,D=this.Yb,E=this.ja,G=this.ra,this.oc&&(a=this.nf),this.td&&(a=this.oc?this.Vd:this.Yc);this.td&&(A=1-A);n.fill(0);var F=1-A;var I=F+16;G.Wa.fill(0);for(d=0;d<E.length;d+=1){var L=0;var K=E[d];var J=G[d];var M=0<d?G[d-1]:v;var H=d<l-1?G[d+1]:v;for(f=0;f<e;f+=1)if(m=K[f]){var U=J[f];var qa=M[f];var ka=H[f];for(b=15;0<=b;--b){var O=0===b&&f===e-1?!0:!1;if(0!==(m&1<<b)){var ca=p=0;if(0!==A){var Q=F;var W=0;
var ia=B[Q][L];var ha=B[Q+1][L];W|=ia|ha;var X=a[ia&65280|ha>>8];var ea=X&65280;var da=(X&255)<<8;X=a[(ia&255)<<8|ha&255];ea|=X>>8;da|=X&255;D[Q][L]=ea;D[Q+1][L]=da;if(X=ea|da)p|=X,Q<z&&(z=Q),Q+1>y&&(y=Q+1),X&&(0!==(X&49152)&&(ca|=k.Wb),0!==(X&3)&&(ca|=k.Xb),ca|=k.Rb);for(Q+=2;Q<I-2;){ia=B[Q][L];ha=B[Q+1][L];W|=ia|ha;X=a[ia&65280|ha>>8];ea=X&65280;da=(X&255)<<8;X=a[(ia&255)<<8|ha&255];ea|=X>>8;da|=X&255;D[Q][L]=ea;D[Q+1][L]=da;if(X=ea|da)p|=X,Q<z&&(z=Q),Q+1>y&&(y=Q+1);Q+=2}ia=B[Q][L];ha=B[Q+1][L];
W|=ia|ha;X=a[ia&65280|ha>>8];ea=X&65280;da=(X&255)<<8;X=a[(ia&255)<<8|ha&255];ea|=X>>8;da|=X&255;D[Q][L]=ea;D[Q+1][L]=da;if(X=ea|da)p|=X,Q<z&&(z=Q),Q+1>y&&(y=Q+1),X&&(0!==(X&49152)&&(ca|=k.bc),0!==(X&3)&&(ca|=k.xb),ca|=k.yb);p&&(0!==(p&49152)&&(ca|=k.Tb),0!==(p&3)&&(ca|=k.lb),n[L]|=p);if(p||W)ca|=k.xb,ca|=k.lb}else{Q=F;W=0;O?(ia=B[Q][L]<<1&65535,ha=B[Q+1][L]<<1&65535):(ia=(B[Q][L]<<1|B[Q][L+1]>>15)&65535,ha=(B[Q+1][L]<<1|B[Q+1][L+1]>>15)&65535);W|=ia|ha;X=a[ia&65280|ha>>8];ea=X&65280;da=(X&255)<<
8;X=a[(ia&255)<<8|ha&255];ea|=X>>8;da|=X&255;O?(D[Q][L]=D[Q][L]&32768|ea>>1,D[Q+1][L]=D[Q+1][L]&32768|da>>1):(D[Q][L]=D[Q][L]&32768|ea>>1,D[Q][L+1]=D[Q][L+1]&32767|(ea&1)<<15,D[Q+1][L]=D[Q+1][L]&32768|da>>1,D[Q+1][L+1]=D[Q+1][L+1]&32767|(da&1)<<15);if(X=ea|da)p|=X,Q<z&&(z=Q),Q+1>y&&(y=Q+1);for(Q+=2;Q<I-2;){O?(ia=B[Q][L]<<1&65535,ha=B[Q+1][L]<<1&65535):(ia=(B[Q][L]<<1|B[Q][L+1]>>15)&65535,ha=(B[Q+1][L]<<1|B[Q+1][L+1]>>15)&65535);W|=ia|ha;X=a[ia&65280|ha>>8];ea=X&65280;da=(X&255)<<8;X=a[(ia&255)<<8|
ha&255];ea|=X>>8;da|=X&255;O?(D[Q][L]=D[Q][L]&32768|ea>>1,D[Q+1][L]=D[Q+1][L]&32768|da>>1):(D[Q][L]=D[Q][L]&32768|ea>>1,D[Q][L+1]=D[Q][L+1]&32767|(ea&1)<<15,D[Q+1][L]=D[Q+1][L]&32768|da>>1,D[Q+1][L+1]=D[Q+1][L+1]&32767|(da&1)<<15);if(X=ea|da)p|=X,Q<z&&(z=Q),Q+1>y&&(y=Q+1);Q+=2}O?(ia=B[Q][L]<<1&65535,ha=B[Q+1][L]<<1&65535):(ia=(B[Q][L]<<1|B[Q][L+1]>>15)&65535,ha=(B[Q+1][L]<<1|B[Q+1][L+1]>>15)&65535);W|=ia|ha;X=a[ia&65280|ha>>8];ea=X&65280;da=(X&255)<<8;X=a[(ia&255)<<8|ha&255];ea|=X>>8;da|=X&255;O?
(D[Q][L]=D[Q][L]&32768|ea>>1,D[Q+1][L]=D[Q+1][L]&32768|da>>1):(D[Q][L]=D[Q][L]&32768|ea>>1,D[Q][L+1]=D[Q][L+1]&32767|(ea&1)<<15,D[Q+1][L]=D[Q+1][L]&32768|da>>1,D[Q+1][L+1]=D[Q+1][L+1]&32767|(da&1)<<15);if(X=ea|da)p|=X,Q<z&&(z=Q),Q+1>y&&(y=Q+1),0!==(X&3)&&(ca|=k.xb),ca|=k.yb;ia|ha&&(0!==((ia|ha)&3)&&(ca|=k.xb),ca|=k.yb);p&&(0!==(p&3)&&(ca|=k.lb),n[L]|=p>>1,n[L+1]|=(p&1)<<15);0!==(W&1)&&(ca|=k.lb)}if(p||W)U|=1<<b,ca&&(0!==(ca&k.Tb)&&(15>b?U|=1<<b+1:0<f&&0<L&&(J[f-1]|=1)),0!==(ca&k.lb)&&(0<b?U|=1<<b-
1:f<e-1&&L<t-1&&(J[f+1]|=32768)),0!==(ca&k.Rb)&&(qa|=1<<b),0!==(ca&k.yb)&&(ka|=1<<b),0!==(ca&k.Wb)&&(15>b?qa|=1<<b+1:0<f&&0<L&&(M[f-1]|=1)),0!==(ca&k.Xb)&&(0<b?qa|=1<<b-1:f<e-1&&L<t-1&&(M[f+1]|=32768)),0!==(ca&k.bc)&&(15>b?ka|=1<<b+1:0<f&&0<L&&(H[f-1]|=1)),0!==(ca&k.xb)&&(0<b?ka|=1<<b-1:f<e-1&&L<t-1&&(H[f+1]|=32768)))}L+=1}J[f]|=U;0<d&&(M[f]|=qa);d<l-1&&(H[f]|=ka)}else L+=16;F+=16;I+=16;I>=r&&(I=r-1)}for(f=0;f<t;f+=1)n[f]&&(f<C&&(C=f),f>c&&(c=f));C=(C<<4)+this.G(n[C]);c=(c<<4)+this.U(n[c]);0>y&&(y=
r-1);z>=r&&(z=0);C>=x&&(C=0);0>c&&(c=x-1);y>r-1&&(y=r-1);0>z&&(z=0);0>C&&(C=0);c>x-1&&(c=x-1);w.v=y;w.s=z;w.l=C;w.u=c;v.fill(0)};q.prototype.Tx=function(){var a=this.xi,b,d,f,m,n=this.na,p,r=this.height,x=this.width,t=x>>4,w=this.M,z=r,y=-1,C=x,c=-1,l=this.ya,e=this.ua>>4,v=this.wd;var A=0;var B=l;if(0!==(this.counter&1)){var D=this.Yb;var E=this.hb;var G=this.ra;var F=this.ja;this.oc&&(a=this.kj)}else D=this.hb,E=this.Yb,G=this.ja,F=this.ra;n.fill(0);0>A&&(A=0);B>l&&(B=l);var I=A<<4;var L=I+16;F.Wa.fill(0);
for(d=A;d<B;d+=1){var K=0;var J=G[d];var M=F[d];var H=0<d?F[d-1]:v;var U=d<l-1?F[d+1]:v;for(f=0;f<e;f+=1)if(m=J[f]){var qa=M[f];var ka=H[f];var O=U[f];for(b=15;0<=b;--b){if(0!==(m&1<<b)){var ca=p=0;var Q=I;var W=0===Q?this.Cf:D[Q-1];var ia=D[Q];A=D[Q+1];var ha=ia[K];W=W[K-1]<<18|W[K]<<2|W[K+1]>>14;var X=ia[K-1]<<18|ha<<2|ia[K+1]>>14;var ea=A[K-1]<<18|A[K]<<2|A[K+1]>>14;var da=a[W>>7&7936|ea>>11&224|X>>15&31]<<15;da|=a[ea>>6&7936|W>>10&224|X>>14&31]<<14;da|=a[W>>5&7936|ea>>9&224|X>>13&31]<<13;da|=
a[ea>>4&7936|W>>8&224|X>>12&31]<<12;da|=a[W>>3&7936|ea>>7&224|X>>11&31]<<11;da|=a[ea>>2&7936|W>>6&224|X>>10&31]<<10;da|=a[W>>1&7936|ea>>5&224|X>>9&31]<<9;da|=a[ea>>0&7936|W>>4&224|X>>8&31]<<8;da|=a[W<<1&7936|ea>>3&224|X>>7&31]<<7;da|=a[ea<<2&7936|W>>2&224|X>>6&31]<<6;da|=a[W<<3&7936|ea>>1&224|X>>5&31]<<5;da|=a[ea<<4&7936|W>>0&224|X>>4&31]<<4;da|=a[W<<5&7936|ea<<1&224|X>>3&31]<<3;da|=a[ea<<6&7936|W<<2&224|X>>2&31]<<2;da|=a[W<<7&7936|ea<<3&224|X>>1&31]<<1;da|=a[ea<<8&7936|W<<4&224|X>>0&31]<<0;if(E[Q][K]=
da)p|=da,Q<z&&(z=Q),Q>y&&(y=Q),0!==(da&49152)&&(ca|=k.Wb),0!==(da&3)&&(ca|=k.Xb),ca|=k.Rb;for(Q+=1;Q<L-1;){ha|=A[K];A=D[Q+1];W=X;X=ea;ea=A[K-1]<<18|A[K]<<2|A[K+1]>>14;0!==(Q&1)&&(ia=W,W=ea,ea=ia);da=a[W>>7&7936|ea>>11&224|X>>15&31]<<15;da|=a[ea>>6&7936|W>>10&224|X>>14&31]<<14;da|=a[W>>5&7936|ea>>9&224|X>>13&31]<<13;da|=a[ea>>4&7936|W>>8&224|X>>12&31]<<12;da|=a[W>>3&7936|ea>>7&224|X>>11&31]<<11;da|=a[ea>>2&7936|W>>6&224|X>>10&31]<<10;da|=a[W>>1&7936|ea>>5&224|X>>9&31]<<9;da|=a[ea>>0&7936|W>>4&224|
X>>8&31]<<8;da|=a[W<<1&7936|ea>>3&224|X>>7&31]<<7;da|=a[ea<<2&7936|W>>2&224|X>>6&31]<<6;da|=a[W<<3&7936|ea>>1&224|X>>5&31]<<5;da|=a[ea<<4&7936|W>>0&224|X>>4&31]<<4;da|=a[W<<5&7936|ea<<1&224|X>>3&31]<<3;da|=a[ea<<6&7936|W<<2&224|X>>2&31]<<2;da|=a[W<<7&7936|ea<<3&224|X>>1&31]<<1;da|=a[ea<<8&7936|W<<4&224|X>>0&31]<<0;0!==(Q&1)&&(ea=ia=W);if(E[Q][K]=da)p|=da,Q<z&&(z=Q),Q>y&&(y=Q);Q+=1}ha|=A[K];A=Q===this.height-1?this.Cf:D[Q+1];W=X;X=ea;ea=A[K-1]<<18|A[K]<<2|A[K+1]>>14;0!==(Q&1)&&(ia=W,W=ea,ea=ia);da=
a[W>>7&7936|ea>>11&224|X>>15&31]<<15;da|=a[ea>>6&7936|W>>10&224|X>>14&31]<<14;da|=a[W>>5&7936|ea>>9&224|X>>13&31]<<13;da|=a[ea>>4&7936|W>>8&224|X>>12&31]<<12;da|=a[W>>3&7936|ea>>7&224|X>>11&31]<<11;da|=a[ea>>2&7936|W>>6&224|X>>10&31]<<10;da|=a[W>>1&7936|ea>>5&224|X>>9&31]<<9;da|=a[ea>>0&7936|W>>4&224|X>>8&31]<<8;da|=a[W<<1&7936|ea>>3&224|X>>7&31]<<7;da|=a[ea<<2&7936|W>>2&224|X>>6&31]<<6;da|=a[W<<3&7936|ea>>1&224|X>>5&31]<<5;da|=a[ea<<4&7936|W>>0&224|X>>4&31]<<4;da|=a[W<<5&7936|ea<<1&224|X>>3&31]<<
3;da|=a[ea<<6&7936|W<<2&224|X>>2&31]<<2;da|=a[W<<7&7936|ea<<3&224|X>>1&31]<<1;da|=a[ea<<8&7936|W<<4&224|X>>0&31]<<0;if(E[Q][K]=da)p|=da,Q<z&&(z=Q),Q>y&&(y=Q),0!==(da&49152)&&(ca|=k.bc),0!==(da&3)&&(ca|=k.xb),ca|=k.yb;p&&(0!==(p&49152)&&(ca|=k.Tb),0!==(p&3)&&(ca|=k.lb));n[K]|=p;if(p||ha)qa|=1<<b,ca&&(0!==(ca&k.Tb)&&(15>b?qa|=1<<b+1:0<f&&0<K&&(M[f-1]|=1)),0!==(ca&k.lb)&&(0<b?qa|=1<<b-1:f<e-1&&K<t-1&&(M[f+1]|=32768)),0!==(ca&k.Rb)&&(ka|=1<<b),0!==(ca&k.yb)&&(O|=1<<b),0!==(ca&k.Wb)&&(15>b?ka|=1<<b+1:
0<f&&0<K&&(H[f-1]|=1)),0!==(ca&k.Xb)&&(0<b?ka|=1<<b-1:f<e-1&&K<t-1&&(H[f+1]|=32768)),0!==(ca&k.bc)&&(15>b?O|=1<<b+1:0<f&&0<K&&(U[f-1]|=1)),0!==(ca&k.xb)&&(0<b?O|=1<<b-1:f<e-1&&K<t-1&&(U[f+1]|=32768)))}K+=1}M[f]|=qa;0<d&&(H[f]|=ka);d<l-1&&(U[f]|=O)}else K+=16;I+=16;L+=16}for(f=0;f<t;f+=1)n[f]&&(f<C&&(C=f),f>c&&(c=f));C=(C<<4)+this.G(n[C]);c=(c<<4)+this.U(n[c]);0>y&&(y=r-1);z>=r&&(z=0);C>=x&&(C=0);0>c&&(c=x-1);y>r-1&&(y=r-1);0>z&&(z=0);0>C&&(C=0);c>x-1&&(c=x-1);w.v=y;w.s=z;w.l=C;w.u=c;v.fill(0)};q.prototype.cN=
function(){var a=this.vi,b,d,f,m,n,p,r=this.na,x,t=this.gb,w,z=this.kg,y=0,C=0,c=0,l=this.height,e=this.width,v=e>>4,A=this.M,B=l,D=-1,E=e,G=-1,F=this.ya,I=this.ua>>4,L=this.wd,K=this.Aa,J=this.wa,M=Math.round((this.width-K)/2),H=Math.round((this.height-J)/2),U=M+K-1,qa=H+J-1;if(0!==(this.counter&1)){var ka=this.Yb;var O=this.hb;var ca=this.ra;var Q=this.ja;this.oc&&(a=this.yg)}else ka=this.hb,O=this.Yb,ca=this.ja,Q=this.ra;r.fill(0);t.fill(0);var W=0;var ia=W+16;Q.Wa.fill(0);for(f=0;f<ca.length;f+=
1){var ha=0;var X=ca[f];var ea=Q[f];var da=0<f?Q[f-1]:L;var ra=f<F-1?Q[f+1]:L;for(m=0;m<I;m+=1)if(n=X[m]){var na=ea[m];var T=da[m];var R=ra[m];for(b=15;0<=b;--b){if(0!==(n&1<<b)){var V=w=x=0;var ja=W;var ma=32768;var aa=0===ja?this.Cf:ka[ja-1];var N=ka[ja];var P=ka[ja+1];var oa=p=N[ha];if(ha)if(ha>=v-1){aa=(aa[ha-1]&1)<<17|aa[ha]<<1;N=(N[ha-1]&1)<<17|p<<1;var Y=(P[ha-1]&1)<<17|P[ha]<<1;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|
Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d],0!==(d&32768)&&(V|=k.Wb),V|=k.Rb;O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;for(ma>>=1;ja<ia-1;){p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1}p=P[ha];oa|=p;P=ja===this.height-1?this.Cf:
ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d],0!==(d&32768)&&(V|=k.bc),V|=k.yb}else{aa=(aa[ha-1]&1)<<17|aa[ha]<<1|aa[ha+1]>>15;N=(N[ha-1]&1)<<17|p<<1|N[ha+1]>>15;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<
4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d],0!==(d&32768)&&(V|=k.Wb),0!==(d&1)&&(V|=k.Xb),V|=k.Rb;O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=
Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&
63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<
12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];
oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,
d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=
a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],
c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>
4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1;p=P[ha];oa|=p;P=ja===this.height-1?this.Cf:ka[ja+1];aa=N;
N=Y;Y=(P[ha-1]&1)<<17|P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d],0!==(d&32768)&&(V|=k.bc),0!==(d&1)&&(V|=k.xb),V|=k.yb}else{aa=aa[ha]<<1|aa[ha+1]>>15;N=p<<1|N[ha+1]>>15;Y=P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|
(Y&63)<<12])x|=d,w|=ma,0!==(d&1)&&(V|=k.Xb),V|=k.Rb,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;for(ma>>=1;ja<ia-1;){p=P[ha];oa|=p;P=ka[ja+1];aa=N;N=Y;Y=P[ha]<<1|P[ha+1]>>15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d];O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);ja+=1;ma>>=1}p=P[ha];oa|=p;P=ja===this.height-1?this.Cf:ka[ja+1];aa=N;N=Y;Y=P[ha]<<1|P[ha+1]>>
15;if(d=aa|N|Y)if(d=a[aa>>12|N>>12<<6|Y&258048]<<12,d|=a[aa>>8&63|N>>2&4032|Y<<4&258048]<<8,d|=a[aa>>4&63|N<<2&4032|Y<<8&258048]<<4,d|=a[aa&63|(N&63)<<6|(Y&63)<<12])x|=d,w|=ma,y+=z[d],0!==(d&1)&&(V|=k.xb),V|=k.yb}O[ja][ha]=d;d|p&&(C+=z[d&~p],c+=z[p&~d]);x&&(0!==(x&32768)&&(V|=k.Tb),0!==(x&1)&&(V|=k.lb));r[ha]|=x;if(x||oa)na|=1<<b,V&&(0!==(V&k.Tb)&&(15>b?na|=1<<b+1:0<m&&0<ha&&(ea[m-1]|=1)),0!==(V&k.lb)&&(0<b?na|=1<<b-1:m<I-1&&ha<v-1&&(ea[m+1]|=32768)),0!==(V&k.Rb)&&(T|=1<<b),0!==(V&k.yb)&&(R|=1<<b),
0!==(V&k.Wb)&&(15>b?T|=1<<b+1:0<m&&0<ha&&(da[m-1]|=1)),0!==(V&k.Xb)&&(0<b?T|=1<<b-1:m<I-1&&ha<v-1&&(da[m+1]|=32768)),0!==(V&k.bc)&&(15>b?R|=1<<b+1:0<m&&0<ha&&(ra[m-1]|=1)),0!==(V&k.xb)&&(0<b?R|=1<<b-1:m<I-1&&ha<v-1&&(ra[m+1]|=32768)));t[f]|=w}ha+=1}ea[m]|=na;0<f&&(da[m]|=T);f<F-1&&(ra[m]|=R)}else ha+=16;W+=16;ia+=16}-1!==this.xa&&(0!==K&&(r[M-1>>4]&=~(1<<(~(M-1)&15)),r[U+1>>4]&=~(1<<(~(U+1)&15)),r[M-2>>4]&=~(1<<(~(M-2)&15)),r[U+2>>4]&=~(1<<(~(U+2)&15))),0!==J&&(t[H-1>>4]&=~(1<<(~(H-1)&15)),t[qa+1>>
4]&=~(1<<(~(qa+1)&15)),t[H-2>>4]&=~(1<<(~(H-2)&15)),t[qa+2>>4]&=~(1<<(~(qa+2)&15))));for(m=0;m<v;m+=1)r[m]&&(m<E&&(E=m),m>G&&(G=m));for(f=0;f<t.length;f+=1)t[f]&&(f<B&&(B=f),f>D&&(D=f));E=(E<<4)+this.G(r[E]);G=(G<<4)+this.U(r[G]);B=(B<<4)+this.G(t[B]);D=(D<<4)+this.U(t[D]);0>D&&(D=l-1);B>=l&&(B=0);E>=e&&(E=0);0>G&&(G=e-1);D>l-1&&(D=l-1);0>B&&(B=0);0>E&&(E=0);G>e-1&&(G=e-1);A.v=D;A.s=B;A.l=E;A.u=G;L.fill(0);this.ga=y;this.Vb=C;this.Fb=c};q.prototype.By=function(){var a=this.vi,b,d,f,m,n,p=this.na,
r,x=this.gb,t,w=this.height,z=this.width,y=z>>4,C=this.M,c=w,l=-1,e=z,v=-1,A=this.ya,B=this.ua>>4,D=this.wd,E=this.Aa,G=this.wa,F=Math.round((this.width-E)/2),I=Math.round((this.height-G)/2),L=F+E-1,K=I+G-1;if(0!==(this.counter&1)){var J=this.Yb;var M=this.hb;var H=this.ra;var U=this.ja;this.oc&&(a=this.yg)}else J=this.hb,M=this.Yb,H=this.ja,U=this.ra;p.fill(0);x.fill(0);var qa=0;var ka=qa+16;U.Wa.fill(0);for(f=0;f<H.length;f+=1){var O=0;var ca=H[f];var Q=U[f];var W=0<f?U[f-1]:D;var ia=f<A-1?U[f+
1]:D;for(m=0;m<B;m+=1)if(n=ca[m]){var ha=Q[m];var X=W[m];var ea=ia[m];for(b=15;0<=b;--b){if(0!==(n&1<<b)){var da=t=r=0;var ra=qa;var na=32768;var T=0===ra?this.Cf:J[ra-1];var R=J[ra];var V=J[ra+1];var ja=R[O];if(O)if(O>=y-1){T=(T[O-1]&1)<<17|T[O]<<1;R=(R[O-1]&1)<<17|ja<<1;var ma=(V[O-1]&1)<<17|V[O]<<1;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na,0!==(d&32768)&&(da|=k.Wb),
da|=k.Rb;M[ra][O]=d;ra+=1;for(na>>=1;ra<ka-1;){ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1}ja|=V[O];V=ra===this.height-1?this.Cf:J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<
4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na,0!==(d&32768)&&(da|=k.bc),da|=k.yb}else{T=(T[O-1]&1)<<17|T[O]<<1|T[O+1]>>15;R=(R[O-1]&1)<<17|ja<<1|R[O+1]>>15;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na,0!==(d&32768)&&(da|=k.Wb),0!==(d&1)&&(da|=k.Xb),da|=k.Rb;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|
V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=
(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];
V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;
ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=
d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&
63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<
4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<
2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1;ja|=V[O];V=ra===this.height-1?this.Cf:J[ra+1];T=R;R=ma;ma=(V[O-1]&1)<<17|V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na,0!==(d&32768)&&(da|=k.bc),0!==(d&1)&&(da|=k.xb),da|=k.yb}else{T=T[O]<<1|T[O+1]>>15;R=ja<<1|R[O+1]>>15;ma=V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>
12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na,0!==(d&1)&&(da|=k.Xb),da|=k.Rb;M[ra][O]=d;ra+=1;for(na>>=1;ra<ka-1;){ja|=V[O];V=J[ra+1];T=R;R=ma;ma=V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na;M[ra][O]=d;ra+=1;na>>=1}ja|=V[O];V=ra===this.height-1?this.Cf:
J[ra+1];T=R;R=ma;ma=V[O]<<1|V[O+1]>>15;if(d=T|R|ma)if(d=a[T>>12|R>>12<<6|ma&258048]<<12,d|=a[T>>8&63|R>>2&4032|ma<<4&258048]<<8,d|=a[T>>4&63|R<<2&4032|ma<<8&258048]<<4,d|=a[T&63|(R&63)<<6|(ma&63)<<12])r|=d,t|=na,0!==(d&1)&&(da|=k.xb),da|=k.yb}M[ra][O]=d;r&&(0!==(r&32768)&&(da|=k.Tb),0!==(r&1)&&(da|=k.lb));p[O]|=r;if(r||ja)ha|=1<<b,da&&(0!==(da&k.Tb)&&(15>b?ha|=1<<b+1:0<m&&0<O&&(Q[m-1]|=1)),0!==(da&k.lb)&&(0<b?ha|=1<<b-1:m<B-1&&O<y-1&&(Q[m+1]|=32768)),0!==(da&k.Rb)&&(X|=1<<b),0!==(da&k.yb)&&(ea|=1<<
b),0!==(da&k.Wb)&&(15>b?X|=1<<b+1:0<m&&0<O&&(W[m-1]|=1)),0!==(da&k.Xb)&&(0<b?X|=1<<b-1:m<B-1&&O<y-1&&(W[m+1]|=32768)),0!==(da&k.bc)&&(15>b?ea|=1<<b+1:0<m&&0<O&&(ia[m-1]|=1)),0!==(da&k.xb)&&(0<b?ea|=1<<b-1:m<B-1&&O<y-1&&(ia[m+1]|=32768)));x[f]|=t}O+=1}Q[m]|=ha;0<f&&(W[m]|=X);f<A-1&&(ia[m]|=ea)}else O+=16;qa+=16;ka+=16}-1!==this.xa&&(0!==E&&(p[F-1>>4]&=~(1<<(~(F-1)&15)),p[L+1>>4]&=~(1<<(~(L+1)&15)),p[F-2>>4]&=~(1<<(~(F-2)&15)),p[L+2>>4]&=~(1<<(~(L+2)&15))),0!==G&&(x[I-1>>4]&=~(1<<(~(I-1)&15)),x[K+1>>
4]&=~(1<<(~(K+1)&15)),x[I-2>>4]&=~(1<<(~(I-2)&15)),x[K+2>>4]&=~(1<<(~(K+2)&15))));for(m=0;m<y;m+=1)p[m]&&(m<e&&(e=m),m>v&&(v=m));for(f=0;f<x.length;f+=1)x[f]&&(f<c&&(c=f),f>l&&(l=f));e=(e<<4)+this.G(p[e]);v=(v<<4)+this.U(p[v]);c=(c<<4)+this.G(x[c]);l=(l<<4)+this.U(x[l]);0>l&&(l=w-1);c>=w&&(c=0);e>=z&&(e=0);0>v&&(v=z-1);l>w-1&&(l=w-1);0>c&&(c=0);0>e&&(e=0);v>z-1&&(v=z-1);C.v=l;C.s=c;C.l=e;C.u=v;D.fill(0)};q.prototype.zC=function(a,b){var d,f=this.Da,m,n,p,r,x=this.ya,t=this.ua>>4;var w=0;var z=w+16;
for(m=0;m<x;m+=1){var y=0;var C=f[m];for(n=0;n<t;n+=1)if(r=C[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=w;d<z;d+=2){var c=b[d];var l=a[d];var e=a[d+1];var v=y<<3;var A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8;v+=1;A=l[v];A|=e[v];c[v+v]=A|A>>8}y+=1}else y+=16;w+=16;z+=16}};q.prototype.eu=function(a,b){var d,f=
this.Da,m,n,p,r,x=this.ya,t=this.ua>>4;var w=0;var z=w+16;for(m=0;m<x;m+=1){var y=0;var C=f[m];for(n=0;n<t;n+=1)if(r=C[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=w;d<z;d+=2){var c=b[d];var l=a[d];var e=a[d+1];var v=y<<3;var A=l[v];var B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255);v+=1;A=l[v];B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255);v+=1;A=l[v];B=A&
255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255);v+=1;A=l[v];B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255);v+=1;A=l[v];B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255);v+=1;A=l[v];B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>
255);v+=1;A=l[v];B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255);v+=1;A=l[v];B=A&255;A>>=8;B-=B-(A&255)&B-(A&255)>>255;A=e[v];B-=B-(A&255)&B-(A&255)>>255;A>>=8;c[v+v]=B-(B-(A&255)&B-(A&255)>>255)}y+=1}else y+=16;w+=16;z+=16}};q.prototype.ID=function(a,b){var d,f=this.Da,m,n,p,r,x=this.ya,t=this.ua>>4;var w=0;var z=w+16;for(m=0;m<x;m+=1){var y=0;var C=f[m];for(n=0;n<t;n+=1)if(r=C[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=w;d<
z;d+=4){var c=b[d];var l=a[d];var e=a[d+1];var v=a[d+2];var A=a[d+3];var B=y<<2;var D=y<<4;var E=l[B]|e[B]|v[B]|A[B];c[D]=(0<E)<<6;B+=1;D+=4;E=l[B]|e[B]|v[B]|A[B];c[D]=(0<E)<<6;B+=1;D+=4;E=l[B]|e[B]|v[B]|A[B];c[D]=(0<E)<<6;B+=1;D+=4;E=l[B]|e[B]|v[B]|A[B];c[D]=(0<E)<<6}y+=1}else y+=16;w+=16;z+=16}};q.prototype.gu=function(a,b){var d,f,m=this.Da,n,p,r,x,t,w=this.ya,z=this.ua>>4;var y=0;var C=y+16;for(p=0;p<w;p+=1){var c=0;var l=m[p];for(r=0;r<z;r+=1)if(t=l[r])for(x=15;0<=x;--x){if(0!==(t&1<<x))for(d=
y;d<C;d+=4){var e=b[d];var v=a[d];var A=a[d+1];var B=a[d+2];var D=a[d+3];var E=c<<2;var G=c<<4;for(f=0;4>f;f+=1){var F=0;if(n=v[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;if(n=A[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;if(n=B[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>
255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;if(n=D[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;e[G]=F;E+=1;G+=4}}c+=1}else c+=16;y+=16;C+=16}};q.prototype.cE=function(a,b){var d,f=this.Da,m,n,p,r,x=this.ya,t=this.ua>>4;var w=0;var z=w+16;for(m=0;m<x;m+=1){var y=0;var C=f[m];for(n=0;n<t;n+=1)if(r=C[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=w;d<z;d+=8){var c=b[d];var l=a[d];var e=a[d+1];var v=a[d+2];var A=a[d+3];var B=
a[d+4];var D=a[d+5];var E=a[d+6];var G=a[d+7];var F=y<<2;var I=y<<4;var L=l[F]|l[F+1];L|=e[F]|e[F+1];L|=v[F]|v[F+1];L|=A[F]|A[F+1];0===L&&(L|=B[F]|B[F+1],L|=D[F]|D[F+1],L|=E[F]|E[F+1],L|=G[F]|G[F+1]);c[I]=(0<L)<<6;F+=2;I+=8;L=l[F]|l[F+1];L|=e[F]|e[F+1];L|=v[F]|v[F+1];L|=A[F]|A[F+1];0===L&&(L|=B[F]|B[F+1],L|=D[F]|D[F+1],L|=E[F]|E[F+1],L|=G[F]|G[F+1]);c[I]=(0<L)<<6}y+=1}else y+=16;w+=16;z+=16}};q.prototype.hu=function(a,b){var d,f,m=this.Da,n,p,r,x,t,w=this.ya,z=this.ua>>4;var y=0;var C=y+16;for(p=
0;p<w;p+=1){var c=0;var l=m[p];for(r=0;r<z;r+=1)if(t=l[r])for(x=15;0<=x;--x){if(0!==(t&1<<x))for(d=y;d<C;d+=8){var e=b[d];var v=a[d];var A=a[d+1];var B=a[d+2];var D=a[d+3];var E=a[d+4];var G=a[d+5];var F=a[d+6];var I=a[d+7];var L=c<<2;var K=c<<4;for(f=0;2>f;f+=1){var J=0;if(n=v[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=v[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&
J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=A[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=A[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=B[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=B[L+1])J-=J-(n&255)&J-(n&
255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=D[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=D[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=E[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=
8,J-=J-(n&255)&J-(n&255)>>255;if(n=E[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=G[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=G[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=F[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=
J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=F[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=I[L])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255;if(n=I[L+1])J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&J-(n&255)>>255,n>>=8,J-=J-(n&255)&
J-(n&255)>>255;e[K]=J;L+=2;K+=8}}c+=1}else c+=16;y+=16;C+=16}};q.prototype.ZB=function(a,b){var d=this.Da,f,m,n,p,r,x=this.ya,t=this.ua>>4;for(f=p=0;f<x;f+=1){var w=0;var z=d[f];for(m=0;m<t;m+=1)if(r=z[m])for(n=15;0<=n;--n){if(0!==(r&1<<n)){var y=b[p];var C=a[p];var c=a[p+1];var l=a[p+2];var e=a[p+3];var v=a[p+4];var A=a[p+5];var B=a[p+6];var D=a[p+7];var E=a[p+8];var G=a[p+9];var F=a[p+10];var I=a[p+11];var L=a[p+12];var K=a[p+13];var J=a[p+14];var M=a[p+15];var H=w<<2;var U=w<<4;C=C[H]|C[H+1]|C[H+
2]|C[H+3];C|=c[H]|c[H+1]|c[H+2]|c[H+3];C|=l[H]|l[H+1]|l[H+2]|l[H+3];C|=e[H]|e[H+1]|e[H+2]|e[H+3];0===C&&(C|=v[H]|v[H+1]|v[H+2]|v[H+3],C|=A[H]|A[H+1]|A[H+2]|A[H+3],C|=B[H]|B[H+1]|B[H+2]|B[H+3],C|=D[H]|D[H+1]|D[H+2]|D[H+3],0===C&&(C|=E[H]|E[H+1]|E[H+2]|E[H+3],C|=G[H]|G[H+1]|G[H+2]|G[H+3],C|=F[H]|F[H+1]|F[H+2]|F[H+3],C|=I[H]|I[H+1]|I[H+2]|I[H+3],0===C&&(C|=L[H]|L[H+1]|L[H+2]|L[H+3],C|=K[H]|K[H+1]|K[H+2]|K[H+3],C|=J[H]|J[H+1]|J[H+2]|J[H+3],C|=M[H]|M[H+1]|M[H+2]|M[H+3])));y[U]=(0<C)<<6}w+=1}else w+=16;
p+=16}};q.prototype.du=function(a,b){var d=this.Da,f,m,n,p,r,x,t=this.ya,w=this.ua>>4;var z=0;var y=z+16;for(m=0;m<t;m+=1){var C=0;var c=d[m];for(n=0;n<w;n+=1)if(x=c[n])for(p=15;0<=p;--p){if(0!==(x&1<<p)){var l=0;for(r=z;r<y;r+=1){var e=a[r];var v=C<<2;if(f=e[v])l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255;if(f=e[v+1])l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,
f>>=8,l-=l-(f&255)&l-(f&255)>>255;if(f=e[v+2])l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255;if(f=e[v+3])l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255,f>>=8,l-=l-(f&255)&l-(f&255)>>255}e=b[z];v=C<<4;e[v]=l}C+=1}else C+=16;z+=16;y+=16}};q.prototype.XC=function(a,b){var d=this.Da,f,m,n,p,r=this.ya,x=this.ua>>4;var t=0;var w=t+32;for(f=0;f<r;f+=2){var z=0;var y=d[f];var C=
d[f+1];for(m=0;m<x;m+=1){var c=y[m]|C[m];if(0!==c)for(n=49152;0<n;n>>=2){if(0!==(c&n)){var l=z<<4;var e=b[t];var v=z<<2;var A=t;for(p=0;A<w&&0===p;){var B=a[A];p|=B[v]|B[v+1]|B[v+2]|B[v+3]|B[v+4]|B[v+5]|B[v+6]|B[v+7];A+=1}e[l]=(0<p)<<6}z+=2}else z+=16}t+=32;w+=32}};q.prototype.fu=function(a,b){var d=this.Da,f,m,n,p,r,x=this.ya,t=this.ua>>4;var w=0;var z=w+32;for(m=0;m<x;m+=2){var y=0;var C=d[m];var c=d[m+1];for(n=0;n<t;n+=1){var l=C[n]|c[n];if(0!==l)for(p=49152;0<p;p>>=2){if(0!==(l&p)){var e=0;for(r=
w;r<z;r+=1){var v=a[r];var A=y<<2;if(f=v[A])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=v[A+1])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=v[A+2])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=v[A+3])e-=e-(f&255)&e-(f&255)>>255,f>>=
8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=v[A+4])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=v[A+5])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=v[A+6])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-
(f&255)&e-(f&255)>>255;if(f=v[A+7])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255}v=b[w];A=y<<4;v[A]=e}y+=2}else y+=16}w+=32;z+=32}};q.prototype.cf=function(a){this.pu&&a.Wa.fill(0)};q.prototype.by=function(a,b){var d=this.oa;.5<=d&&1>d?(this.cf(this.ac),this.dj||this.pa||this.L||this.fa||this.V?this.eu(a,this.ac):this.zC(a,this.ac)):.25<=d&&.5>d?(this.cf(this.ac),this.dj||this.pa||this.L||this.fa||this.V?this.gu(b,
this.ac):this.ID(b,this.ac)):.125<=d&&.25>d?(this.cf(this.ac),this.dj||this.pa||this.L||this.fa||this.V?this.hu(b,this.ac):this.cE(b,this.ac)):.0625<=d&&.125>d?(this.cf(this.ac),this.dj||this.pa||this.L||this.fa||this.V?this.du(b,this.ac):this.ZB(b,this.ac)):this.dj||this.pa||this.L||this.fa||this.V?this.fu(b,this.ac):this.XC(b,this.ac);this.pg&&(.5<=d&&1>d?(this.cf(this.$c),this.eu(this.Eo,this.$c)):.25<=d&&.5>d?(this.cf(this.$c),this.gu(this.Lk,this.$c)):.125<=d&&.25>d?(this.cf(this.$c),this.hu(this.Lk,
this.$c)):.0625<=d&&.125>d?(this.cf(this.$c),this.du(this.Lk,this.$c)):this.fu(this.Lk,this.$c));this.pu=.0625>d?!0:!1};q.prototype.sM=function(){var a=this.Da,b=this.La,d=this.wc,f,m,n,p,r=this.width,x=r>>4,t=this.height,w=r,z=-1,y=-1,C=t,c=this.M,l,e=this.na,v,A,B=this.gb;var D=this.ya;var E=this.ua>>4;var G=0;var F=D,I=this.kg;this.Y=0;if(0!==(this.counter&1)){var L=this.Yb;var K=this.ra;var J=this.S;var M=this.Ja}else L=this.hb,K=this.ja,J=this.Ja,M=this.S;0>G&&(G=0);F>D&&(F=D);e.fill(0);B.fill(0);
D=G<<4;var H=D+16;for(f=G;f<F;f+=1){var U=0;var qa=K[f];var ka=b[f];var O=a[f];for(m=0;m<E;m+=1){if(p=qa[m]|ka[m])for(n=15;0<=n;--n){if(0!==(p&1<<n)){var ca=v=0;var Q=32768;var W=0;for(G=D;G<H;G+=1){var ia=L[G];var ha=J[G];var X=0===G?d:J[G-1];var ea=G===this.height-1?d:J[G+1];var da=M[G];var ra=U<<4;if(0===ra)var na=l=0;else l=ha[ra-1],na=X[ra-1];var T=ea[ra];var R=ha[ra];var V=ia[U];for(A=32768;0<A;){var ja=na;na=X[ra];var ma=l;l=R;R=ha[ra+1];var aa=T;T=ea[ra+1];var N=l;var P=!0;if(0!==(W&64)){P=
!1;if(7===l||8===l||13<=l)N=0;else switch(l){case 1:N=2;break;case 3:case 5:N=4;break;case 9:N=10;break;case 11:N=12;break;default:P=!0}P||0===(l&1)||(ia[U]&=~A)}W=1<<ja|1<<na|1<<R|1<<ma|1<<aa|1<<T;if(P)if(0!==(V&A)){if(0===(l&1))switch(l){case 4:N=3;break;case 6:ia[U]&=~A;break;case 8:N=7;break;default:N=1,P=W&44739072,0===(W&170)&&1===I[P&65535]+I[P>>16]?(N=0,65535<P&&(P>>=16,N+=16),255<P&&(P>>=8,N+=8),15<P&&(P>>=4,N+=4),3<P&&(P>>=2,N+=2),N+=P>>1):(P=W&44736512,0!==(W&8)&&0===(W&2722)&&1===I[P&
65535]+I[P>>16]?(N=0,65535<P&&(P>>=16,N+=16),255<P&&(P>>=8,N+=8),15<P&&(P>>=4,N+=4),3<P&&(P>>=2,N+=2),N+=P>>1):(P=W&2560,0!==(W&128)&&0===(W&44736554)&&1===I[P&65535]+I[P>>16]?(N=0,65535<P&&(P>>=16,N+=16),255<P&&(P>>=8,N+=8),15<P&&(P>>=4,N+=4),3<P&&(P>>=2,N+=2),N+=P>>1):(P=W&44736640)&&0===(W&2602)&&(N=13)))}}else if(0!==(l&1))11>=l?5===l?N=4:N=l+1:N=0;else if(14===l)N=0;else if(14<l)switch(l){case 16:0!==(W&44755626)&&(N=14);break;case 18:0!==(W&4194304)&&(N=22);break;case 20:0!==(W&262144)&&(N=
18);break;case 22:0!==(W&1048576)&&(N=20);break;case 24:0!==(W&45017770)&&(N=18)}da[ra]=N;0<N&&(v|=A,ca|=Q);A>>=1;ra+=1}this.Y|=V;this.Y|=v;Q>>=1}e[U]|=v;B[f]|=ca}U+=1}else U+=16;ka[m]=p|0;O[m]=O[m]|p|0}D+=16;H+=16}for(m=0;m<x;m+=1)e[m]&&(m<w&&(w=m),m>z&&(z=m));for(f=0;f<B.length;f+=1)B[f]&&(f<C&&(C=f),f>y&&(y=f));w=(w<<4)+this.G(e[w]);z=(z<<4)+this.U(e[z]);C=(C<<4)+this.G(B[C]);y=(y<<4)+this.U(B[y]);0>y&&(y=t-1);C>=t&&(C=0);w>=r&&(w=0);0>z&&(z=r-1);y>t-1&&(y=t-1);0>C&&(C=0);0>w&&(w=0);z>r-1&&(z=
r-1);c.v=y;c.s=C;c.l=w;c.u=z};q.prototype.ZM=function(){var a=this.Da,b=this.La,d=this.wc,f,m,n,p,r=this.width,x=r>>4,t=this.height,w=r,z=-1,y=-1,C=t,c=this.M,l=0,e=this.na,v,A,B=this.gb;var D=this.ya;var E=this.ua>>4;var G=0;var F=D,I=this.kg;this.Y=0;if(0!==(this.counter&1)){var L=this.Yb;var K=this.ra;var J=this.S;var M=this.Ja}else L=this.hb,K=this.ja,J=this.Ja,M=this.S;0>G&&(G=0);F>D&&(F=D);e.fill(0);B.fill(0);D=G<<4;var H=D+16;for(f=G;f<F;f+=1){var U=0;var qa=K[f];var ka=b[f];var O=a[f];for(m=
0;m<E;m+=1){if(p=qa[m]|ka[m])for(n=15;0<=n;--n){if(0!==(p&1<<n)){var ca=v=0;var Q=32768;for(G=D;G<H;G+=1){var W=L[G];var ia=J[G];var ha=0===G?d:J[G-1];var X=G===this.height-1?d:J[G+1];var ea=M[G];var da=U<<4;0===da?l=0:l=ia[da-1];var ra=ia[da];var na=W[U];for(A=32768;0<A;){var T=ha[da];var R=l;l=ra;ra=ia[da+1];var V=X[da];var ja=l;T=1<<T|1<<ra|1<<R|1<<V;R=!0;if(0!==(T&64)){R=!1;if(7===l||8===l||13<=l)ja=0;else switch(l){case 1:ja=2;break;case 3:case 5:ja=4;break;case 9:ja=10;break;case 11:ja=12;break;
default:R=!0}R||0===(l&1)||(W[U]&=~A)}if(R)if(0!==(na&A)){if(0===(l&1))switch(l){case 4:ja=3;break;case 6:W[U]&=~A;break;case 8:ja=7;break;default:ja=1,R=T&44739072,0===(T&170)&&1===I[R&65535]+I[R>>16]?(ja=0,65535<R&&(R>>=16,ja+=16),255<R&&(R>>=8,ja+=8),15<R&&(R>>=4,ja+=4),3<R&&(R>>=2,ja+=2),ja+=R>>1):(R=T&44736512,0!==(T&8)&&0===(T&2722)&&1===I[R&65535]+I[R>>16]?(ja=0,65535<R&&(R>>=16,ja+=16),255<R&&(R>>=8,ja+=8),15<R&&(R>>=4,ja+=4),3<R&&(R>>=2,ja+=2),ja+=R>>1):(R=T&2560,0!==(T&128)&&0===(T&44736554)&&
1===I[R&65535]+I[R>>16]?(ja=0,65535<R&&(R>>=16,ja+=16),255<R&&(R>>=8,ja+=8),15<R&&(R>>=4,ja+=4),3<R&&(R>>=2,ja+=2),ja+=R>>1):(R=T&44736640)&&0===(T&2602)&&(ja=13)))}}else if(0!==(l&1))11>=l?5===l?ja=4:ja=l+1:ja=0;else if(14===l)ja=0;else if(14<l)switch(l){case 16:0!==(T&44755626)&&(ja=14);break;case 18:0!==(T&4194304)&&(ja=22);break;case 20:0!==(T&262144)&&(ja=18);break;case 22:0!==(T&1048576)&&(ja=20);break;case 24:0!==(T&45017770)&&(ja=18)}ea[da]=ja;0<ja&&(v|=A,ca|=Q);A>>=1;da+=1}this.Y|=na;this.Y|=
v;Q>>=1}e[U]|=v;B[f]|=ca}U+=1}else U+=16;ka[m]=p|0;O[m]=O[m]|p|0}D+=16;H+=16}for(m=0;m<x;m+=1)e[m]&&(m<w&&(w=m),m>z&&(z=m));for(f=0;f<B.length;f+=1)B[f]&&(f<C&&(C=f),f>y&&(y=f));w=(w<<4)+this.G(e[w]);z=(z<<4)+this.U(e[z]);C=(C<<4)+this.G(B[C]);y=(y<<4)+this.U(B[y]);0>y&&(y=t-1);C>=t&&(C=0);w>=r&&(w=0);0>z&&(z=r-1);y>t-1&&(y=t-1);0>C&&(C=0);0>w&&(w=0);z>r-1&&(z=r-1);c.v=y;c.s=C;c.l=w;c.u=z};q.prototype.AM=function(){var a=this.Da,b=this.La,d=this.wc,f,m,n,p,r=this.width,x=r>>4,t=this.height,w=r,z=
-1,y=-1,C=t,c=this.M,l=this.na,e,v,A=this.gb;var B=this.ya;var D=this.ua>>4;var E=0;var G=B,F=this.mu;this.Y=0;if(0!==(this.counter&1)){var I=this.Yb;var L=this.ra;var K=this.S;var J=this.Ja}else I=this.hb,L=this.ja,K=this.Ja,J=this.S;0>E&&(E=0);G>B&&(G=B);l.fill(0);A.fill(0);B=E<<4;var M=B+16;for(f=E;f<G;f+=1){var H=0;var U=L[f];var qa=b[f];var ka=a[f];for(m=0;m<D;m+=1){if(p=U[m]|qa[m])for(n=15;0<=n;--n){if(0!==(p&1<<n)){var O=e=0;var ca=32768;for(E=B;E<M;E+=1){var Q=I[E];var W=K[E];var ia=0===E?
d:K[E-1];var ha=E===this.height-1?d:K[E+1];var X=J[E];var ea=H<<4;if(0===ea)var da=0;else{var ra=W[ea-1];da=1<<ia[ea-1]|1<<ra|1<<ha[ea-1]}var na=W[ea];var T=1<<na|1<<ha[ea]|1<<ia[ea];var R=Q[H];for(v=32768;0<v;){ea+=1;ra=na;na=W[ea];var V=da;da=T;T=1<<na|1<<ha[ea]|1<<ia[ea];var ja=ra;V=V|da|T;var ma=!0;if(0!==(V&64)){ma=!1;if(7===ra||8===ra||13<=ra)ja=0;else switch(ra){case 1:ja=2;break;case 3:case 5:ja=4;break;case 9:ja=10;break;case 11:ja=12;break;default:ma=!0}ma||0===(ra&1)||(Q[H]&=~v)}if(ma)if(0!==
(R&v)){if(0===(ra&1))switch(ra){case 4:ja=3;break;case 6:Q[H]&=~v;break;case 8:ja=7;break;default:ja=1,ra=V&44739072,0===(V&170)&&ra&&0===(ra&ra-1)?(ja=0,65535<ra&&(ra>>=16,ja+=16),ja+=F[ra]):(ra=V&44736512,0!==(V&8)&&0===(V&2722)&&ra&&0===(ra&ra-1)?(ja=0,65535<ra&&(ra>>=16,ja+=16),ja+=F[ra]):(ra=V&2560,0!==(V&128)&&0===(V&44736554)&&ra&&0===(ra&ra-1)?(ja=0,65535<ra&&(ra>>=16,ja+=16),ja+=F[ra]):(ra=V&44736640)&&0===(V&2602)&&(ja=13)))}}else if(0!==(ra&1))11>=ra?5===ra?ja=4:ja=ra+1:ja=0;else if(14<=
ra)switch(ra){case 14:ja=0;break;case 16:0!==(V&44755626)&&(ja=14);break;case 18:0!==(V&4194304)&&(ja=22);break;case 20:0!==(V&262144)&&(ja=18);break;case 22:0!==(V&1048576)&&(ja=20);break;case 24:0!==(V&45017770)&&(ja=18)}X[ea-1]=ja;0<ja&&(e|=v,O|=ca);v>>=1}this.Y|=R;this.Y|=e;ca>>=1}l[H]|=e;A[f]|=O}H+=1}else H+=16;qa[m]=p|0;ka[m]=ka[m]|p|0}B+=16;M+=16}for(m=0;m<x;m+=1)l[m]&&(m<w&&(w=m),m>z&&(z=m));for(f=0;f<A.length;f+=1)A[f]&&(f<C&&(C=f),f>y&&(y=f));w=(w<<4)+this.G(l[w]);z=(z<<4)+this.U(l[z]);
C=(C<<4)+this.G(A[C]);y=(y<<4)+this.U(A[y]);0>y&&(y=t-1);C>=t&&(C=0);w>=r&&(w=0);0>z&&(z=r-1);y>t-1&&(y=t-1);0>C&&(C=0);0>w&&(w=0);z>r-1&&(z=r-1);c.v=y;c.s=C;c.l=w;c.u=z};q.prototype.yy=function(){var a=this.S,b=this.Da,d=this.La,f,m,n,p,r,x=0,t=0,w=0,z=this.width,y=z>>4,C=this.height,c=z,l=-1,e=-1,v=C,A=this.M,B=this.na,D,E,G=this.gb;var F=this.ya;var I=this.ua>>4;var L=0;var K=F,J=this.i+this.K-1,M=this.K,H=0<this.K?1:0;this.Y=0;if(0!==(this.counter&1)){var U=this.Yb;var qa=this.ra}else U=this.hb,
qa=this.ja;0>L&&(L=0);K>F&&(K=F);B.fill(0);G.fill(0);F=L<<4;var ka=F+16;for(m=L;m<K;m+=1){var O=0;var ca=qa[m];var Q=d[m];var W=b[m];for(n=0;n<I;n+=1){var ia=ca[n]|Q[n];var ha=0;if(ia)for(p=15;0<=p;--p){if(0!==(ia&1<<p)){var X=D=0;var ea=32768;var da=0;for(L=F;L<ka;L+=1){var ra=U[L];var na=a[L];var T=O<<4;var R=ra[O];for(r=E=32768;0<r;){var V=f=na[T];(f<=M||f===J)&&0!==(R&r)?f=J:(R&=~r,f>H&&--f);na[T]=f;f>H&&(da=1,f>M&&(D|=E,X|=ea),f===J&&(x+=1,V!==J&&(t+=1)));V===J&&f!==J&&(w+=1);E>>=1;T+=1;r>>=
1;V=f=na[T];(f<=M||f===J)&&0!==(R&r)?f=J:(R&=~r,f>H&&--f);na[T]=f;f>H&&(da=1,f>M&&(D|=E,X|=ea),f===J&&(x+=1,V!==J&&(t+=1)));V===J&&f!==J&&(w+=1);E>>=1;T+=1;r>>=1;V=f=na[T];(f<=M||f===J)&&0!==(R&r)?f=J:(R&=~r,f>H&&--f);na[T]=f;f>H&&(da=1,f>M&&(D|=E,X|=ea),f===J&&(x+=1,V!==J&&(t+=1)));V===J&&f!==J&&(w+=1);E>>=1;T+=1;r>>=1;V=f=na[T];(f<=M||f===J)&&0!==(R&r)?f=J:(R&=~r,f>H&&--f);na[T]=f;f>H&&(da=1,f>M&&(D|=E,X|=ea),f===J&&(x+=1,V!==J&&(t+=1)));V===J&&f!==J&&(w+=1);E>>=1;T+=1;r>>=1}ra[O]=R;this.Y|=R;ea>>=
1}B[O]|=D;G[m]|=X;da&&(ha|=1<<p)}O+=1}else O+=16;Q[n]=ha;W[n]|=ha}F+=16;ka+=16}for(n=0;n<y;n+=1)B[n]&&(n<c&&(c=n),n>l&&(l=n));for(m=0;m<G.length;m+=1)G[m]&&(m<v&&(v=m),m>e&&(e=m));c=(c<<4)+this.G(B[c]);l=(l<<4)+this.U(B[l]);v=(v<<4)+this.G(G[v]);e=(e<<4)+this.U(G[e]);0>e&&(e=C-1);v>=C&&(v=0);c>=z&&(c=0);0>l&&(l=z-1);e>C-1&&(e=C-1);0>v&&(v=0);0>c&&(c=0);l>z-1&&(l=z-1);A.v=e;A.s=v;A.l=c;A.u=l;this.ga=x;this.Vb=t;this.Fb=w};q.prototype.ly=function(){var a=this.S,b=this.Da,d,f,m,n,p;var r=this.ya;var x=
this.ua>>4;var t=0;var w=r,z=0<this.K?1:0;0>t&&(t=0);w>r&&(w=r);r=t<<4;var y=r+16;for(d=t;d<w;d+=1){var C=0;var c=b[d];for(f=0;f<x;f+=1)if(p=c[f])for(m=15;0<=m;--m){if(0!==(p&1<<m))for(t=r;t<y;t+=1){var l=a[t];var e=C<<4;for(n=15;0<=n;--n){var v=l[e];v>z&&(--v,l[e]=v);e+=1}}C+=1}else C+=16;r+=16;y+=16}};q.prototype.re=function(){this.Ga||this.L||this.fa||this.V||(-1===this.i?this.ee?this.jB():this.dj?this.LB():this.ZA():this.Y||this.ly(),this.wj&&-1===this.i&&(this.hA(),this.Y=this.ga))};q.prototype.KA=
function(){var a,b=this.nl,d=this.Da,f,m,n,p=0,r,x=this.ya,t=this.ua>>4;var w=16;for(f=0;f<x;f+=1){var z=0;var y=d[f];for(m=0;m<t;m+=1)if(r=y[m])for(n=15;0<=n;--n){if(0!==(r&1<<n))for(a=p;a<w;){var C=b[a];var c=z<<3;C[c]&=16448;c+=1;C[c]&=16448;c+=1;C[c]&=16448;c+=1;C[c]&=16448;c+=1;C[c]&=16448;c+=1;C[c]&=16448;c+=1;C[c]&=16448;c+=1;C[c]&=16448;a+=1}z+=1}else z+=16;p+=16;w+=16}};q.prototype.mM=function(){var a=this.Aa,b=this.wa,d=this.M;this.T?this.sM():this.Oe?this.ZM():this.AM();if(-1!==this.xa){var f=
Math.round((this.width-a)/2);var m=Math.round((this.height-b)/2);a=f+a-1;b=m+b-1;d.l<f&&(d.l=f);d.u>a&&(d.u=a);d.s<m&&(d.s=m);d.v>b&&(d.v=b)}};q.prototype.Ry=function(){switch(this.Wj){case PatternConstants.Pq:this.FK();break;case PatternConstants.Mq:this.AK();break;case PatternConstants.Kl:this.cK();break;case PatternConstants.Oq:this.Wy()}};q.prototype.Wy=function(){var a=this.ah;var b=a[0],d=a[1],f=a[2],m=this.he,n=this.$g,p,r,x=0,t,w,z,y=this.Da,C=this.La,c,l=this.na,e,v=this.gb,A,B,D=0,E=0,G=
0,F=this.height,I=this.width,L=I>>4,K=this.M,J=F,M=-1,H=I,U=-1,qa=this.ya,ka=this.ua>>4,O=this.wd;if(0!==(this.counter&1)){var ca=this.Ja;var Q=this.Ba;var W=this.S;var ia=this.ra;var ha=this.ja}else ca=this.S,Q=this.Yd,W=this.Ja,ia=this.ja,ha=this.ra;l.fill(0);v.fill(0);var X=0;var ea=X+16;ha.Wa.fill(0);for(w=0;w<ia.length;w+=1){var da=0;var ra=da+16;var na=ia[w];var T=ha[w];var R=C[w];var V=y[w];var ja=0<w?ha[w-1]:O;var ma=w<qa-1?ha[w+1]:O;for(z=0;z<ka;z+=1)if(c=na[z]){var aa=T[z];var N=ja[z];var P=
ma[z];for(t=15;0<=t;--t){if(0!==(c&1<<t)){var oa=A=e=0;var Y=X;for(B=32768;Y<ea;){a=ca[Y];var S=W[Y];var pa=32768;var ya=da;0===ya?x=0:x=a[ya-1];for(r=a[ya];ya<ra-1;){var wa=x;x=r;r=a[ya+1];var va=b[x];var la=d[wa];var Z=f[r];var fa=x;for(p=0;p<n;p+=1)if(wa=va[p]&la[p]&Z[p]){va=0;for(Z=1;!(wa&Z);)va+=1,Z<<=1;fa=m[(p<<5)+va];break}S[ya]=fa;0<fa?(D+=1,0===x&&(E+=1),A|=B,e|=pa):0<x&&(G+=1);pa>>=1;ya+=1}wa=x;x=r;ya===I-1?r=0:r=a[ya+1];va=b[x];la=d[wa];Z=f[r];fa=x;for(p=0;p<n;p+=1)if(wa=va[p]&la[p]&Z[p]){va=
0;for(Z=1;!(wa&Z);)va+=1,Z<<=1;fa=m[(p<<5)+va];break}S[ya]=fa;0<fa?(D+=1,0===x&&(E+=1),A|=B,e|=pa):0<x&&(G+=1);Y+=1;B>>=1}l[da>>4]|=e;e&&(aa|=1<<t,A&1&&(oa|=k.yb,e&32768&&(oa|=k.bc),e&1&&(oa|=k.xb)),A&32768&&(oa|=k.Rb,e&32768&&(oa|=k.Wb),e&1&&(oa|=k.Xb)),e&32768&&(oa|=k.Tb),e&1&&(oa|=k.lb),oa&&(0!==(oa&k.Tb)&&(15>t?aa|=1<<t+1:0<z&&0<da&&(T[z-1]|=1)),0!==(oa&k.lb)&&(0<t?aa|=1<<t-1:z<ka-1&&da<I-1&&(T[z+1]|=32768)),0!==(oa&k.Rb)&&(N|=1<<t),0!==(oa&k.yb)&&(P|=1<<t),0!==(oa&k.Wb)&&(15>t?N|=1<<t+1:0<z&&
0<da&&(ja[z-1]|=1)),0!==(oa&k.Xb)&&(0<t?N|=1<<t-1:z<ka-1&&da<I-1&&(ja[z+1]|=32768)),0!==(oa&k.bc)&&(15>t?P|=1<<t+1:0<z&&0<da&&(ma[z-1]|=1)),0!==(oa&k.xb)&&(0<t?P|=1<<t-1:z<ka-1&&da<I-1&&(ma[z+1]|=32768))));v[w]|=A}da+=16;ra+=16}T[z]|=aa;R[z]=c|aa;V[z]=V[z]|c|aa;0<w&&(ja[z]|=N);w<qa-1&&(ma[z]|=P)}else da+=256,ra+=256;X+=16;ea+=16}for(z=0;z<L;z+=1)l[z]&&(z<H&&(H=z),z>U&&(U=z));for(w=0;w<v.length;w+=1)v[w]&&(w<J&&(J=w),w>M&&(M=w));H=(H<<4)+this.G(l[H]);U=(U<<4)+this.U(l[U]);J=(J<<4)+this.G(v[J]);M=(M<<
4)+this.U(v[M]);0>M&&(M=F-1);J>=F&&(J=0);H>=I&&(H=0);0>U&&(U=I-1);M>F-1&&(M=F-1);0>J&&(J=0);0>H&&(H=0);U>I-1&&(U=I-1);K.v=M;K.s=J;K.l=H;K.u=U;O.fill(0);X=0;ea=X+16;for(w=0;w<ia.length;w+=1){da=0;na=ia[w];T=ha[w];for(z=0;z<ka;z+=1)if(c=na[z],aa=T[z],c!==aa)for(t=15;0<=t;--t){if((c&1<<t)!==(aa&1<<t)&&0===(aa&1<<t))for(Y=X;Y<ea;Y+=1)a=Q[Y],ya=da>>2,a[ya]=0,a[ya+1]=0,a[ya+2]=0,a[ya+3]=0;da+=16}else da+=256;X+=16;ea+=16}this.ga=D;this.Vb=E;this.Fb=G;this.Y=D};q.prototype.FK=function(){var a=this.ah;var b=
a[0],d=a[1],f=a[2],m=a[3],n=a[4],p=this.he,r=this.$g,x,t=0,w,z,y,C=this.Da,c=this.La,l,e=this.na,v,A=this.gb,B,D,E=0,G=0,F=0,I=this.height,L=this.width,K=L>>4,J=this.M,M=I,H=-1,U=L,qa=-1,ka=this.ya,O=this.ua>>4,ca=this.wd;if(0!==(this.counter&1)){var Q=this.Ja;var W=this.Ba;var ia=this.S;var ha=this.ra;var X=this.ja}else Q=this.S,W=this.Yd,ia=this.Ja,ha=this.ja,X=this.ra;e.fill(0);A.fill(0);var ea=0;var da=ea+16;X.Wa.fill(0);for(z=0;z<ha.length;z+=1){var ra=0;var na=ra+16;var T=ha[z];var R=X[z];var V=
c[z];var ja=C[z];var ma=0<z?X[z-1]:ca;var aa=z<ka-1?X[z+1]:ca;for(y=0;y<O;y+=1)if(l=T[y]){var N=R[y];var P=ma[y];var oa=aa[y];for(w=15;0<=w;--w){if(0!==(l&1<<w)){var Y=B=v=0;var S=ea;for(D=32768;S<da;){a=0===S?this.wc:Q[S-1];var pa=Q[S];var ya=S===this.height-1?this.wc:Q[S+1];var wa=ia[S];var va=32768;var la=ra;0===la?t=0:t=pa[la-1];for(x=pa[la];la<na-1;){var Z=t;t=x;var fa=a[la];x=pa[la+1];var ba=ya[la];var ta=b[t];fa=d[fa];var ua=f[x];var xa=m[ba];var sa=n[Z];var za=t;for(ba=0;ba<r;ba+=1)if(Z=ta[ba]&
fa[ba])if(Z&=ua[ba]&xa[ba]&sa[ba]){ta=0;for(fa=1;!(Z&fa);)ta+=1,fa<<=1;za=p[(ba<<5)+ta];break}wa[la]=za;0<za?(E+=1,0===t&&(G+=1),B|=D,v|=va):0<t&&(F+=1);va>>=1;la+=1}Z=t;t=x;fa=a[la];la===L-1?x=0:x=pa[la+1];ba=ya[la];ta=b[t];fa=d[fa];ua=f[x];xa=m[ba];sa=n[Z];za=t;for(ba=0;ba<r;ba+=1)if(Z=ta[ba]&fa[ba])if(Z&=ua[ba]&xa[ba]&sa[ba]){ta=0;for(fa=1;!(Z&fa);)ta+=1,fa<<=1;za=p[(ba<<5)+ta];break}wa[la]=za;0<za?(E+=1,0===t&&(G+=1),B|=D,v|=va):0<t&&(F+=1);S+=1;D>>=1}e[ra>>4]|=v;v&&(N|=1<<w,B&1&&(Y|=k.yb,v&32768&&
(Y|=k.bc),v&1&&(Y|=k.xb)),B&32768&&(Y|=k.Rb,v&32768&&(Y|=k.Wb),v&1&&(Y|=k.Xb)),v&32768&&(Y|=k.Tb),v&1&&(Y|=k.lb),Y&&(0!==(Y&k.Tb)&&(15>w?N|=1<<w+1:0<y&&0<ra&&(R[y-1]|=1)),0!==(Y&k.lb)&&(0<w?N|=1<<w-1:y<O-1&&ra<L-1&&(R[y+1]|=32768)),0!==(Y&k.Rb)&&(P|=1<<w),0!==(Y&k.yb)&&(oa|=1<<w),0!==(Y&k.Wb)&&(15>w?P|=1<<w+1:0<y&&0<ra&&(ma[y-1]|=1)),0!==(Y&k.Xb)&&(0<w?P|=1<<w-1:y<O-1&&ra<L-1&&(ma[y+1]|=32768)),0!==(Y&k.bc)&&(15>w?oa|=1<<w+1:0<y&&0<ra&&(aa[y-1]|=1)),0!==(Y&k.xb)&&(0<w?oa|=1<<w-1:y<O-1&&ra<L-1&&(aa[y+
1]|=32768))));A[z]|=B}ra+=16;na+=16}R[y]|=N;V[y]=l|N;ja[y]=ja[y]|l|N;0<z&&(ma[y]|=P);z<ka-1&&(aa[y]|=oa)}else ra+=256,na+=256;ea+=16;da+=16}for(y=0;y<K;y+=1)e[y]&&(y<U&&(U=y),y>qa&&(qa=y));for(z=0;z<A.length;z+=1)A[z]&&(z<M&&(M=z),z>H&&(H=z));U=(U<<4)+this.G(e[U]);qa=(qa<<4)+this.U(e[qa]);M=(M<<4)+this.G(A[M]);H=(H<<4)+this.U(A[H]);0>H&&(H=I-1);M>=I&&(M=0);U>=L&&(U=0);0>qa&&(qa=L-1);H>I-1&&(H=I-1);0>M&&(M=0);0>U&&(U=0);qa>L-1&&(qa=L-1);J.v=H;J.s=M;J.l=U;J.u=qa;ca.fill(0);ea=0;da=ea+16;for(z=0;z<ha.length;z+=
1){ra=0;T=ha[z];R=X[z];for(y=0;y<O;y+=1)if(l=T[y],N=R[y],l!==N)for(w=15;0<=w;--w){if((l&1<<w)!==(N&1<<w)&&0===(N&1<<w))for(S=ea;S<da;S+=1)pa=W[S],la=ra>>2,pa[la]=0,pa[la+1]=0,pa[la+2]=0,pa[la+3]=0;ra+=16}else ra+=256;ea+=16;da+=16}this.ga=E;this.Vb=G;this.Fb=F;this.Y=E};q.prototype.AK=function(){var a=this.ah;var b=a[0],d=a[1],f=a[2],m=a[3],n=a[4],p=a[5],r=a[6],x=a[7],t=a[8],w=this.he,z=this.$g,y,C,c,l,e,v,A=this.Da,B=this.La,D,E=this.na,G,F=this.gb,I,L,K=0,J=0,M=0,H=this.height,U=this.width,qa=U>>
4,ka=this.M,O=H,ca=-1,Q=U,W=-1,ia=this.ya,ha=this.ua>>4,X=this.wd;if(0!==(this.counter&1)){var ea=this.Ja;var da=this.Ba;var ra=this.S;var na=this.ra;var T=this.ja}else ea=this.S,da=this.Yd,ra=this.Ja,na=this.ja,T=this.ra;E.fill(0);F.fill(0);var R=0;var V=R+16;T.Wa.fill(0);for(e=0;e<na.length;e+=1){var ja=0;var ma=ja+16;var aa=na[e];var N=T[e];var P=B[e];var oa=A[e];var Y=0<e?T[e-1]:X;var S=e<ia-1?T[e+1]:X;for(v=0;v<ha;v+=1)if(D=aa[v]){var pa=N[v];var ya=Y[v];var wa=S[v];for(l=15;0<=l;--l){if(0!==
(D&1<<l)){var va=I=G=0;var la=R;for(L=32768;la<V;){a=0===la?this.wc:ea[la-1];var Z=ea[la];var fa=la===this.height-1?this.wc:ea[la+1];var ba=ra[la];var ta=32768;var ua=ja;if(0===ua)var xa=c=y=0;else y=a[ua-1],c=fa[ua-1],xa=Z[ua-1];var sa=a[ua];var za=fa[ua];for(C=Z[ua];ua<ma-1;){var Ea=y;y=sa;sa=a[ua+1];var Da=xa;xa=C;C=Z[ua+1];var Ia=c;c=za;za=fa[ua+1];var Ha=xa;var Ka=b[xa];var Fa=d[y];var Ja=f[sa];var La=m[C];var Ma=n[za];var Aa=p[c];Ia=r[Ia];var Ba=x[Da];var Ca=t[Ea];for(Da=0;Da<z;Da+=1)if(Ea=
Ka[Da]&Fa[Da])if(Ea&=Ja[Da]&La[Da])if(Ea&=Ma[Da]&Aa[Da])if(Ea&=Ia[Da]&Ba[Da]&Ca[Da]){Fa=0;for(Ja=1;!(Ea&Ja);)Fa+=1,Ja<<=1;Ha=w[(Da<<5)+Fa];break}ba[ua]=Ha;0<Ha?(K+=1,0===xa&&(J+=1),I|=L,G|=ta):0<xa&&(M+=1);ta>>=1;ua+=1}Ea=y;y=sa;Da=xa;xa=C;Ia=c;c=za;ua===U-1?za=C=sa=0:(sa=a[ua+1],C=Z[ua+1],za=fa[ua+1]);Ka=b[xa];Fa=d[y];Ja=f[sa];La=m[C];Ma=n[za];Aa=p[c];Ia=r[Ia];Ba=x[Da];Ca=t[Ea];Ha=xa;for(Da=0;Da<z;Da+=1)if(Ea=Ka[Da]&Fa[Da])if(Ea&=Ja[Da]&La[Da])if(Ea&=Ma[Da]&Aa[Da])if(Ea&=Ia[Da]&Ba[Da]&Ca[Da]){Fa=
0;for(Ja=1;!(Ea&Ja);)Fa+=1,Ja<<=1;Ha=w[(Da<<5)+Fa];break}ba[ua]=Ha;0<Ha?(K+=1,0===xa&&(J+=1),I|=L,G|=ta):0<xa&&(M+=1);la+=1;L>>=1}E[ja>>4]|=G;G&&(pa|=1<<l,I&1&&(va|=k.yb,G&32768&&(va|=k.bc),G&1&&(va|=k.xb)),I&32768&&(va|=k.Rb,G&32768&&(va|=k.Wb),G&1&&(va|=k.Xb)),G&32768&&(va|=k.Tb),G&1&&(va|=k.lb),va&&(0!==(va&k.Tb)&&(15>l?pa|=1<<l+1:0<v&&0<ja&&(N[v-1]|=1)),0!==(va&k.lb)&&(0<l?pa|=1<<l-1:v<ha-1&&ja<U-1&&(N[v+1]|=32768)),0!==(va&k.Rb)&&(ya|=1<<l),0!==(va&k.yb)&&(wa|=1<<l),0!==(va&k.Wb)&&(15>l?ya|=
1<<l+1:0<v&&0<ja&&(Y[v-1]|=1)),0!==(va&k.Xb)&&(0<l?ya|=1<<l-1:v<ha-1&&ja<U-1&&(Y[v+1]|=32768)),0!==(va&k.bc)&&(15>l?wa|=1<<l+1:0<v&&0<ja&&(S[v-1]|=1)),0!==(va&k.xb)&&(0<l?wa|=1<<l-1:v<ha-1&&ja<U-1&&(S[v+1]|=32768))));F[e]|=I}ja+=16;ma+=16}N[v]|=pa;P[v]=D|pa;oa[v]=oa[v]|D|pa;0<e&&(Y[v]|=ya);e<ia-1&&(S[v]|=wa)}else ja+=256,ma+=256;R+=16;V+=16}for(v=0;v<qa;v+=1)E[v]&&(v<Q&&(Q=v),v>W&&(W=v));for(e=0;e<F.length;e+=1)F[e]&&(e<O&&(O=e),e>ca&&(ca=e));Q=(Q<<4)+this.G(E[Q]);W=(W<<4)+this.U(E[W]);O=(O<<4)+this.G(F[O]);
ca=(ca<<4)+this.U(F[ca]);0>ca&&(ca=H-1);O>=H&&(O=0);Q>=U&&(Q=0);0>W&&(W=U-1);ca>H-1&&(ca=H-1);0>O&&(O=0);0>Q&&(Q=0);W>U-1&&(W=U-1);ka.v=ca;ka.s=O;ka.l=Q;ka.u=W;X.fill(0);R=0;V=R+16;for(e=0;e<na.length;e+=1){ja=0;aa=na[e];N=T[e];for(v=0;v<ha;v+=1)if(D=aa[v],pa=N[v],D!==pa)for(l=15;0<=l;--l){if((D&1<<l)!==(pa&1<<l)&&0===(pa&1<<l))for(la=R;la<V;la+=1)Z=da[la],ua=ja>>2,Z[ua]=0,Z[ua+1]=0,Z[ua+2]=0,Z[ua+3]=0;ja+=16}else ja+=256;R+=16;V+=16}this.ga=K;this.Vb=J;this.Fb=M;this.Y=K};q.prototype.cK=function(){var a=
this.ah;var b=a[0],d=a[1],f=a[2],m=a[3],n=a[4],p=a[5],r=a[6],x=this.he,t=this.$g,w,z,y,C,c,l=this.Da,e=this.La,v,A=this.na,B,D=this.gb,E,G,F=0,I=0,L=0,K=this.height,J=this.width,M=J>>4,H=this.M,U=K,qa=-1,ka=J,O=-1,ca=this.ya,Q=this.ua>>4,W=this.wd;if(0!==(this.counter&1)){var ia=this.Ja;var ha=this.Ba;var X=this.S;var ea=this.ra;var da=this.ja}else ia=this.S,ha=this.Yd,X=this.Ja,ea=this.ja,da=this.ra;A.fill(0);D.fill(0);var ra=0;var na=ra+16;da.Wa.fill(0);for(C=0;C<ea.length;C+=1){var T=0;var R=T+
16;var V=ea[C];var ja=da[C];var ma=e[C];var aa=l[C];var N=0<C?da[C-1]:W;var P=C<ca-1?da[C+1]:W;for(c=0;c<Q;c+=1)if(v=V[c]){var oa=ja[c];var Y=N[c];var S=P[c];for(y=15;0<=y;--y){if(0!==(v&1<<y)){var pa=E=B=0;var ya=ra;for(G=32768;ya<na;){a=0===ya?this.wc:ia[ya-1];var wa=ia[ya];var va=ya===this.height-1?this.wc:ia[ya+1];var la=X[ya];var Z=32768;var fa=T;if(0===fa)var ba=w=0;else w=a[fa-1],ba=wa[fa-1];var ta=va[fa];for(z=wa[fa];fa<R-1;){var ua=w;w=a[fa];var xa=ba;ba=z;z=wa[fa+1];var sa=ta;ta=va[fa+1];
var za=b[ba];var Ea=d[w];var Da=f[z];var Ia=m[ta];sa=n[sa];var Ha=p[xa];var Ka=r[ua];var Fa=ba;for(xa=0;xa<t;xa+=1)if(ua=za[xa]&Ea[xa])if(ua&=Da[xa]&Ia[xa])if(ua&=sa[xa]&Ha[xa]&Ka[xa]){Ea=0;for(Da=1;!(ua&Da);)Ea+=1,Da<<=1;Fa=x[(xa<<5)+Ea];break}la[fa]=Fa;0<Fa?(F+=1,0===ba&&(I+=1),E|=G,B|=Z):0<ba&&(L+=1);Z>>=1;fa+=1}ua=w;w=a[fa];xa=ba;ba=z;sa=ta;fa===J-1?ta=z=0:(z=wa[fa+1],ta=va[fa+1]);za=b[ba];Ea=d[w];Da=f[z];Ia=m[ta];sa=n[sa];Ha=p[xa];Ka=r[ua];Fa=ba;for(xa=0;xa<t;xa+=1)if(ua=za[xa]&Ea[xa])if(ua&=
Da[xa]&Ia[xa])if(ua&=sa[xa]&Ha[xa]&Ka[xa]){Ea=0;for(Da=1;!(ua&Da);)Ea+=1,Da<<=1;Fa=x[(xa<<5)+Ea];break}la[fa]=Fa;0<Fa?(F+=1,0===ba&&(I+=1),E|=G,B|=Z):0<ba&&(L+=1);ya+=1;G>>=1}A[T>>4]|=B;B&&(oa|=1<<y,E&1&&(pa|=k.yb,B&32768&&(pa|=k.bc),B&1&&(pa|=k.xb)),E&32768&&(pa|=k.Rb,B&32768&&(pa|=k.Wb),B&1&&(pa|=k.Xb)),B&32768&&(pa|=k.Tb),B&1&&(pa|=k.lb),pa&&(0!==(pa&k.Tb)&&(15>y?oa|=1<<y+1:0<c&&0<T&&(ja[c-1]|=1)),0!==(pa&k.lb)&&(0<y?oa|=1<<y-1:c<Q-1&&T<J-1&&(ja[c+1]|=32768)),0!==(pa&k.Rb)&&(Y|=1<<y),0!==(pa&k.yb)&&
(S|=1<<y),0!==(pa&k.Wb)&&(15>y?Y|=1<<y+1:0<c&&0<T&&(N[c-1]|=1)),0!==(pa&k.Xb)&&(0<y?Y|=1<<y-1:c<Q-1&&T<J-1&&(N[c+1]|=32768)),0!==(pa&k.bc)&&(15>y?S|=1<<y+1:0<c&&0<T&&(P[c-1]|=1)),0!==(pa&k.xb)&&(0<y?S|=1<<y-1:c<Q-1&&T<J-1&&(P[c+1]|=32768))));D[C]|=E}T+=16;R+=16}ja[c]|=oa;ma[c]=v|oa;aa[c]=aa[c]|v|oa;0<C&&(N[c]|=Y);C<ca-1&&(P[c]|=S)}else T+=256,R+=256;ra+=16;na+=16}for(c=0;c<M;c+=1)A[c]&&(c<ka&&(ka=c),c>O&&(O=c));for(C=0;C<D.length;C+=1)D[C]&&(C<U&&(U=C),C>qa&&(qa=C));ka=(ka<<4)+this.G(A[ka]);O=(O<<
4)+this.U(A[O]);U=(U<<4)+this.G(D[U]);qa=(qa<<4)+this.U(D[qa]);0>qa&&(qa=K-1);U>=K&&(U=0);ka>=J&&(ka=0);0>O&&(O=J-1);qa>K-1&&(qa=K-1);0>U&&(U=0);0>ka&&(ka=0);O>J-1&&(O=J-1);H.v=qa;H.s=U;H.l=ka;H.u=O;W.fill(0);ra=0;na=ra+16;for(C=0;C<ea.length;C+=1){T=0;V=ea[C];ja=da[C];for(c=0;c<Q;c+=1)if(v=V[c],oa=ja[c],v!==oa)for(y=15;0<=y;--y){if((v&1<<y)!==(oa&1<<y)&&0===(oa&1<<y))for(ya=ra;ya<na;ya+=1)wa=ha[ya],fa=T>>2,wa[fa]=0,wa[fa+1]=0,wa[fa+2]=0,wa[fa+3]=0;T+=16}else T+=256;ra+=16;na+=16}this.ga=F;this.Vb=
I;this.Fb=L;this.Y=F};q.prototype.QK=function(){if(4===this.Fg)if(null!==this.Wd)switch(this.yu){case 1:this.JL();break;case 2:this.KL();break;case 3:this.TL();break;case 4:this.$L();break;default:this.qu()}else this.qu();else this.wL()};q.prototype.qu=function(){var a=this.Tk,b=this.Uk,d=this.Ll,f=0,m,n,p,r=this.Da,x=this.La,t,w=this.Ae,z=this.na,y,C=this.gb,c,l=0,e=0,v=0,A=this.height,B=this.width,D=B>>4,E=this.M,G=A,F=-1,I=B,L=-1,K=this.ya,J=this.ua>>4,M=this.wd;if(0!==(this.counter&1)){var H=
this.Ja;var U=this.Ba;var qa=this.Yd;var ka=this.ra;var O=this.ja}else H=this.S,U=this.Yd,qa=this.Ba,ka=this.ja,O=this.ra;z.fill(0);C.fill(0);var ca=0;var Q=ca+16;O.Wa.fill(0);for(n=0;n<ka.length;n+=1){var W=0;var ia=ka[n];var ha=O[n];var X=x[n];var ea=r[n];var da=w[n];var ra=0<n?O[n-1]:M;var na=n<K-1?O[n+1]:M;for(p=0;p<J;p+=1)if(t=ia[p]){var T=ha[p];var R=ra[p];var V=na[p];var ja=da[p];for(m=15;0<=m;--m){if(0!==(t&1<<m)){var ma=c=y=0;var aa=ca;var N=32768;var P=0;if(0!==(ja&1<<m)){for(;aa<Q;){var oa=
aa===ca||aa===Q-1?!0:!1;var Y=0===aa?this.wc:H[aa-1];var S=H[aa];var pa=aa===this.height-1?this.wc:H[aa+1];var ya=qa[aa];var wa=32768;var va=0;var la=W;0===la?f=0:f=S[la-1];var Z=S[la];var fa=f;f=Z;var ba=Y[la];Z=S[la+1];var ta=pa[la];var ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f];P|=ba-f;0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1);wa>>=1;la+=1;oa?(fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,
ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+
Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),
va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=
Y[la],Z=S[la+1],ta=pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1)):(ba=S[la],ua|=ba<<8,0<ba&&(l+=1,va|=wa),wa>>=1,la+=1,ba=S[la],ua|=ba<<16,0<ba&&(l+=1,va|=wa),
wa>>=1,la+=1,ba=S[la],ua|=ba<<24,ya[la>>2]=ua,0<ba&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,0<S[la]&&(l+=1,va|=wa),wa>>=1,la+=1,ua=ba=S[la],0<ba&&(l+=1,va|=wa),wa>>=1,la+=1,ba=S[la],ua|=ba<<8,0<ba&&(l+=1,va|=wa),wa>>=1,la+=1,f=S[la],ua|=f<<16,Z=S[la+1],0<f&&(l+=
1,va|=wa));wa>>=1;la+=1;fa=f;f=Z;ba=Y[la];la===B-1?Z=0:Z=S[la+1];ta=pa[la];ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f];ua|=ba<<24;ya[la>>2]=ua;P|=ba-f;0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1);va&&(y|=va,c|=N);aa+=1;N>>=1}0!==P&&(ja&=~(1<<m))}else{for(;aa<Q;)Y=0===aa?this.wc:H[aa-1],S=H[aa],pa=aa===this.height-1?this.wc:H[aa+1],ya=qa[aa],wa=32768,va=0,la=W,0===la?f=0:f=S[la-1],Z=S[la],fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=
1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=
pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=
ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=
f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ua=ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<8,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+
fa]+Z]+ta]+f],ua|=ba<<16,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),wa>>=1,la+=1,fa=f,f=Z,ba=Y[la],la===B-1?Z=0:Z=S[la+1],ta=pa[la],ba=b[a[a[a[a[d+ba]+fa]+Z]+ta]+f],ua|=ba<<24,ya[la>>2]=ua,P|=ba-f,0<ba?(l+=1,0===f&&(e+=1),va|=wa):0<f&&(v+=1),va&&(y|=va,c|=N),aa+=1,N>>=1;0===P&&y&&(ja|=1<<m)}z[W>>4]|=y;y&&(T|=1<<m,c&1&&(ma|=k.yb,y&32768&&(ma|=k.bc),y&1&&(ma|=k.xb)),c&32768&&(ma|=k.Rb,y&32768&&(ma|=k.Wb),y&1&&(ma|=k.Xb)),y&32768&&(ma|=k.Tb),y&1&&(ma|=k.lb),ma&&(0!==(ma&k.Tb)&&(15>m?T|=1<<
m+1:0<p&&0<W&&(ha[p-1]|=1)),0!==(ma&k.lb)&&(0<m?T|=1<<m-1:p<J-1&&W<B-1&&(ha[p+1]|=32768)),0!==(ma&k.Rb)&&(R|=1<<m),0!==(ma&k.yb)&&(V|=1<<m),0!==(ma&k.Wb)&&(15>m?R|=1<<m+1:0<p&&0<W&&(ra[p-1]|=1)),0!==(ma&k.Xb)&&(0<m?R|=1<<m-1:p<J-1&&W<B-1&&(ra[p+1]|=32768)),0!==(ma&k.bc)&&(15>m?V|=1<<m+1:0<p&&0<W&&(na[p-1]|=1)),0!==(ma&k.xb)&&(0<m?V|=1<<m-1:p<J-1&&W<B-1&&(na[p+1]|=32768))));C[n]|=c}W+=16}ha[p]|=T;da[p]=ja;X[p]=t|T;ea[p]=ea[p]|t|T;0<n&&(ra[p]|=R);n<K-1&&(na[p]|=V)}else W+=256;ca+=16;Q+=16}for(p=0;p<
D;p+=1)z[p]&&(p<I&&(I=p),p>L&&(L=p));for(n=0;n<C.length;n+=1)C[n]&&(n<G&&(G=n),n>F&&(F=n));I=(I<<4)+this.G(z[I]);L=(L<<4)+this.U(z[L]);G=(G<<4)+this.G(C[G]);F=(F<<4)+this.U(C[F]);0>F&&(F=A-1);G>=A&&(G=0);I>=B&&(I=0);0>L&&(L=B-1);F>A-1&&(F=A-1);0>G&&(G=0);0>I&&(I=0);L>B-1&&(L=B-1);E.v=F;E.s=G;E.l=I;E.u=L;M.fill(0);ca=0;Q=ca+16;for(n=0;n<ka.length;n+=1){W=0;ia=ka[n];ha=O[n];for(p=0;p<J;p+=1)if(t=ia[p],T=ha[p],t!==T)for(m=15;0<=m;--m){if((t&1<<m)!==(T&1<<m)&&0===(T&1<<m))for(aa=ca;aa<Q;aa+=1)S=U[aa],
la=W>>2,S[la]=0,S[la+1]=0,S[la+2]=0,S[la+3]=0;W+=16}else W+=256;ca+=16;Q+=16}this.ga=l;this.Vb=e;this.Fb=v;this.Y=l};q.prototype.wL=function(){var a=this.Tk,b=this.Uk,d=this.Ll,f,m,n,p,r,x=this.Da,t=this.La,w,z=this.Ae,y=this.na,C,c=this.gb,l,e=0,v=0,A=0,B=this.height,D=this.width,E=D>>4,G=this.M,F=B,I=-1,L=D,K=-1,J=this.ya,M=this.ua>>4,H=this.wd;if(0!==(this.counter&1)){var U=this.Ja;var qa=this.Ba;var ka=this.S;var O=this.ra;var ca=this.ja}else U=this.S,qa=this.Yd,ka=this.Ja,O=this.ja,ca=this.ra;
y.fill(0);c.fill(0);var Q=0;var W=Q+16;ca.Wa.fill(0);for(p=0;p<O.length;p+=1){var ia=0;var ha=O[p];var X=ca[p];var ea=t[p];var da=x[p];var ra=z[p];var na=0<p?ca[p-1]:H;var T=p<J-1?ca[p+1]:H;for(r=0;r<M;r+=1)if(w=ha[r]){var R=X[r];var V=na[r];var ja=T[r];var ma=ra[r];for(n=15;0<=n;--n){if(0!==(w&1<<n)){var aa=l=C=0;var N=Q;var P=32768;var oa=0;if(0!==(ma&1<<n)){for(;N<W;){var Y=N===Q||N===W-1?!0:!1;var S=0===N?this.wc:U[N-1];var pa=U[N];var ya=N===this.height-1?this.wc:U[N+1];var wa=ka[N];var va=32768;
var la=0;var Z=ia;if(0===Z)var fa=m=f=0;else f=S[Z-1],m=ya[Z-1],fa=pa[Z-1];var ba=S[Z];var ta=ya[Z];var ua=pa[Z];var xa=f;f=ba;ba=S[Z+1];var sa=fa;fa=ua;ua=pa[Z+1];var za=m;m=ta;ta=ya[Z+1];sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa];oa|=sa-fa;wa[Z]=sa;0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1);va>>=1;Z+=1;Y?(xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):
0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+
xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=
1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+
ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=
f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+
sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1)):(0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=
1,0<pa[Z]&&(e+=1,la|=va),va>>=1,Z+=1,f=S[Z],fa=pa[Z],m=ya[Z],ba=S[Z+1],ua=pa[Z+1],ta=ya[Z+1],0<fa&&(e+=1,la|=va));va>>=1;Z+=1;xa=f;f=ba;sa=fa;fa=ua;za=m;m=ta;Z===D-1?ta=ua=ba=0:(ba=S[Z+1],ua=pa[Z+1],ta=ya[Z+1]);sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa];oa|=sa-fa;wa[Z]=sa;0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1);la&&(C|=la,l|=P);N+=1;P>>=1}0!==oa&&(ma&=~(1<<n))}else{for(;N<W;)S=0===N?this.wc:U[N-1],pa=U[N],ya=N===this.height-1?this.wc:U[N+1],wa=ka[N],va=32768,la=0,Z=ia,0===Z?fa=
m=f=0:(f=S[Z-1],m=ya[Z-1],fa=pa[Z-1]),ba=S[Z],ta=ya[Z],ua=pa[Z],xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+
1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?
(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=
ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===
fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+
1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,ba=S[Z+1],sa=fa,fa=ua,ua=pa[Z+1],za=m,m=ta,ta=ya[Z+1],sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),
la|=va):0<fa&&(A+=1),va>>=1,Z+=1,xa=f,f=ba,sa=fa,fa=ua,za=m,m=ta,Z===D-1?ta=ua=ba=0:(ba=S[Z+1],ua=pa[Z+1],ta=ya[Z+1]),sa=b[a[a[a[a[a[a[a[a[d+xa]+ba]+za]+ta]+f]+sa]+ua]+m]+fa],oa|=sa-fa,wa[Z]=sa,0<sa?(e+=1,0===fa&&(v+=1),la|=va):0<fa&&(A+=1),la&&(C|=la,l|=P),N+=1,P>>=1;0===oa&&C&&(ma|=1<<n)}y[ia>>4]|=C;C&&(R|=1<<n,l&1&&(aa|=k.yb,C&32768&&(aa|=k.bc),C&1&&(aa|=k.xb)),l&32768&&(aa|=k.Rb,C&32768&&(aa|=k.Wb),C&1&&(aa|=k.Xb)),C&32768&&(aa|=k.Tb),C&1&&(aa|=k.lb),aa&&(0!==(aa&k.Tb)&&(15>n?R|=1<<n+1:0<r&&0<
ia&&(X[r-1]|=1)),0!==(aa&k.lb)&&(0<n?R|=1<<n-1:r<M-1&&ia<D-1&&(X[r+1]|=32768)),0!==(aa&k.Rb)&&(V|=1<<n),0!==(aa&k.yb)&&(ja|=1<<n),0!==(aa&k.Wb)&&(15>n?V|=1<<n+1:0<r&&0<ia&&(na[r-1]|=1)),0!==(aa&k.Xb)&&(0<n?V|=1<<n-1:r<M-1&&ia<D-1&&(na[r+1]|=32768)),0!==(aa&k.bc)&&(15>n?ja|=1<<n+1:0<r&&0<ia&&(T[r-1]|=1)),0!==(aa&k.xb)&&(0<n?ja|=1<<n-1:r<M-1&&ia<D-1&&(T[r+1]|=32768))));c[p]|=l}ia+=16}X[r]|=R;ra[r]=ma;ea[r]=w|R;da[r]=da[r]|w|R;0<p&&(na[r]|=V);p<J-1&&(T[r]|=ja)}else ia+=256;Q+=16;W+=16}for(r=0;r<E;r+=
1)y[r]&&(r<L&&(L=r),r>K&&(K=r));for(p=0;p<c.length;p+=1)c[p]&&(p<F&&(F=p),p>I&&(I=p));L=(L<<4)+this.G(y[L]);K=(K<<4)+this.U(y[K]);F=(F<<4)+this.G(c[F]);I=(I<<4)+this.U(c[I]);0>I&&(I=B-1);F>=B&&(F=0);L>=D&&(L=0);0>K&&(K=D-1);I>B-1&&(I=B-1);0>F&&(F=0);0>L&&(L=0);K>D-1&&(K=D-1);G.v=I;G.s=F;G.l=L;G.u=K;H.fill(0);Q=0;W=Q+16;for(p=0;p<O.length;p+=1){ia=0;ha=O[p];X=ca[p];for(r=0;r<M;r+=1)if(w=ha[r],R=X[r],w!==R)for(n=15;0<=n;--n){if((w&1<<n)!==(R&1<<n)&&0===(R&1<<n))for(N=Q;N<W;N+=1)pa=qa[N],Z=ia>>2,pa[Z]=
0,pa[Z+1]=0,pa[Z+2]=0,pa[Z+3]=0;ia+=16}else ia+=256;Q+=16;W+=16}this.ga=e;this.Vb=v;this.Fb=A;this.Y=e};q.prototype.JL=function(){var a=this.Wd,b,d,f,m=this.Da,n=this.La,p=null,r=null,x,t=this.na,w,z=this.gb,y,C,c=0,l=0,e=0,v=this.height,A=this.width,B=A>>4,D=this.M,E=v,G=-1,F=A,I=-1,L=this.ya,K=this.ua>>4,J=this.wd;if(0!==(this.counter&1)){var M=this.Ja;var H=this.Ba;var U=this.Yd;var qa=this.ra;var ka=this.ja}else M=this.S,H=this.Yd,U=this.Ba,qa=this.ja,ka=this.ra;t.fill(0);z.fill(0);var O=0;var ca=
O+16;ka.Wa.fill(0);for(d=0;d<qa.length;d+=1){var Q=0;var W=qa[d];var ia=ka[d];var ha=n[d];var X=m[d];0<d?p=ka[d-1]:p=J;d<L-1?r=ka[d+1]:r=J;for(f=0;f<K;f+=1)if(x=W[f]){var ea=ia[f];var da=p[f];var ra=r[f];for(b=15;0<=b;--b){if(0!==(x&1<<b)){var na=y=w=0;var T=O;for(C=32768;T<ca;){var R=0===T?this.wc:M[T-1];var V=M[T];var ja=T===this.height-1?this.wc:M[T+1];var ma=U[T];var aa=32768;var N=Q;var P=R[N];var oa=V[N+1];var Y=ja[N];var S=0===N?V[N]<<3|oa<<2|P<<1|Y:V[N-1]<<4|V[N]<<3|oa<<2|P<<1|Y;var pa=a[S];
0<pa?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+
1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;pa=a[S];0<pa?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==
(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;pa=a[S];0<pa?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<
P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;pa=a[S];0<pa?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&8)&&(l+=1),y|=C,w|=aa):0!==(S&8)&&(e+=1);aa>>=1;N+=1;P=R[N];N===A-1?oa=0:oa=V[N+1];Y=ja[N];
S=S<<1&24|oa<<2|P<<1|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);T+=1;C>>=1}t[Q>>4]|=w;w&&(ea|=1<<b,y&1&&(na|=k.yb,w&32768&&(na|=k.bc),w&1&&(na|=k.xb)),y&32768&&(na|=k.Rb,w&32768&&(na|=k.Wb),w&1&&(na|=k.Xb)),w&32768&&(na|=k.Tb),w&1&&(na|=k.lb),na&&(0!==(na&k.Tb)&&(15>b?ea|=1<<b+1:0<f&&0<Q&&(ia[f-1]|=1)),0!==(na&k.lb)&&(0<b?ea|=1<<b-1:f<K-1&&Q<A-1&&(ia[f+1]|=32768)),0!==(na&k.Rb)&&(da|=1<<b),0!==(na&k.yb)&&(ra|=1<<b),0!==(na&k.Wb)&&(15>b?da|=1<<b+
1:0<f&&0<Q&&(p[f-1]|=1)),0!==(na&k.Xb)&&(0<b?da|=1<<b-1:f<K-1&&Q<A-1&&(p[f+1]|=32768)),0!==(na&k.bc)&&(15>b?ra|=1<<b+1:0<f&&0<Q&&(r[f-1]|=1)),0!==(na&k.xb)&&(0<b?ra|=1<<b-1:f<K-1&&Q<A-1&&(r[f+1]|=32768))));z[d]|=y}Q+=16}ia[f]|=ea;ha[f]=x|ea;X[f]=X[f]|x|ea;0<d&&(p[f]|=da);d<L-1&&(r[f]|=ra)}else Q+=256;O+=16;ca+=16}for(f=0;f<B;f+=1)t[f]&&(f<F&&(F=f),f>I&&(I=f));for(d=0;d<z.length;d+=1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(t[F]);I=(I<<4)+this.U(t[I]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.U(z[G]);
0>G&&(G=v-1);E>=v&&(E=0);F>=A&&(F=0);0>I&&(I=A-1);G>v-1&&(G=v-1);0>E&&(E=0);0>F&&(F=0);I>A-1&&(I=A-1);D.v=G;D.s=E;D.l=F;D.u=I;J.fill(0);O=0;ca=O+16;for(d=0;d<qa.length;d+=1){Q=0;W=qa[d];ia=ka[d];for(f=0;f<K;f+=1)if(x=W[f],ea=ia[f],x!==ea)for(b=15;0<=b;--b){if((x&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=O;T<ca;T+=1)V=H[T],N=Q>>2,V[N]=0,V[N+1]=0,V[N+2]=0,V[N+3]=0;Q+=16}else Q+=256;O+=16;ca+=16}this.ga=c;this.Vb=l;this.Fb=e;this.Y=c};q.prototype.KL=function(){var a=this.Wd,b,d,f,m=this.Da,n=this.La,p=
null,r=null,x,t=this.na,w,z=this.gb,y,C,c=0,l=0,e=0,v=this.height,A=this.width,B=A>>4,D=this.M,E=v,G=-1,F=A,I=-1,L=this.ya,K=this.ua>>4,J=this.wd;if(0!==(this.counter&1)){var M=this.Ja;var H=this.Ba;var U=this.Yd;var qa=this.ra;var ka=this.ja}else M=this.S,H=this.Yd,U=this.Ba,qa=this.ja,ka=this.ra;t.fill(0);z.fill(0);var O=0;var ca=O+16;ka.Wa.fill(0);for(d=0;d<qa.length;d+=1){var Q=0;var W=qa[d];var ia=ka[d];var ha=n[d];var X=m[d];0<d?p=ka[d-1]:p=J;d<L-1?r=ka[d+1]:r=J;for(f=0;f<K;f+=1)if(x=W[f]){var ea=
ia[f];var da=p[f];var ra=r[f];for(b=15;0<=b;--b){if(0!==(x&1<<b)){var na=y=w=0;var T=O;for(C=32768;T<ca;){var R=0===T?this.wc:M[T-1];var V=M[T];var ja=T===this.height-1?this.wc:M[T+1];var ma=U[T];var aa=32768;var N=Q;var P=R[N];var oa=V[N+1];var Y=ja[N];var S=0===N?V[N]<<6|oa<<4|P<<2|Y:V[N-1]<<8|V[N]<<6|oa<<4|P<<2|Y;var pa=a[S];0<pa?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&192)&&(l+=1),y|=
C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;pa=a[S];0<pa?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|
oa<<4|P<<2|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;pa=a[S];0<pa?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&
192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<
2|Y;pa=a[S];0<pa?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==(S&192)&&(e+=1);aa>>=1;N+=1;P=R[N];N===A-1?oa=0:oa=V[N+1];Y=ja[N];S=S<<2&960|oa<<4|P<<2|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&192)&&(l+=1),y|=C,w|=aa):0!==
(S&192)&&(e+=1);T+=1;C>>=1}t[Q>>4]|=w;w&&(ea|=1<<b,y&1&&(na|=k.yb,w&32768&&(na|=k.bc),w&1&&(na|=k.xb)),y&32768&&(na|=k.Rb,w&32768&&(na|=k.Wb),w&1&&(na|=k.Xb)),w&32768&&(na|=k.Tb),w&1&&(na|=k.lb),na&&(0!==(na&k.Tb)&&(15>b?ea|=1<<b+1:0<f&&0<Q&&(ia[f-1]|=1)),0!==(na&k.lb)&&(0<b?ea|=1<<b-1:f<K-1&&Q<A-1&&(ia[f+1]|=32768)),0!==(na&k.Rb)&&(da|=1<<b),0!==(na&k.yb)&&(ra|=1<<b),0!==(na&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<Q&&(p[f-1]|=1)),0!==(na&k.Xb)&&(0<b?da|=1<<b-1:f<K-1&&Q<A-1&&(p[f+1]|=32768)),0!==(na&k.bc)&&
(15>b?ra|=1<<b+1:0<f&&0<Q&&(r[f-1]|=1)),0!==(na&k.xb)&&(0<b?ra|=1<<b-1:f<K-1&&Q<A-1&&(r[f+1]|=32768))));z[d]|=y}Q+=16}ia[f]|=ea;ha[f]=x|ea;X[f]=X[f]|x|ea;0<d&&(p[f]|=da);d<L-1&&(r[f]|=ra)}else Q+=256;O+=16;ca+=16}for(f=0;f<B;f+=1)t[f]&&(f<F&&(F=f),f>I&&(I=f));for(d=0;d<z.length;d+=1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(t[F]);I=(I<<4)+this.U(t[I]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.U(z[G]);0>G&&(G=v-1);E>=v&&(E=0);F>=A&&(F=0);0>I&&(I=A-1);G>v-1&&(G=v-1);0>E&&(E=0);0>F&&(F=0);I>A-1&&(I=A-
1);D.v=G;D.s=E;D.l=F;D.u=I;J.fill(0);O=0;ca=O+16;for(d=0;d<qa.length;d+=1){Q=0;W=qa[d];ia=ka[d];for(f=0;f<K;f+=1)if(x=W[f],ea=ia[f],x!==ea)for(b=15;0<=b;--b){if((x&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=O;T<ca;T+=1)V=H[T],N=Q>>2,V[N]=0,V[N+1]=0,V[N+2]=0,V[N+3]=0;Q+=16}else Q+=256;O+=16;ca+=16}this.ga=c;this.Vb=l;this.Fb=e;this.Y=c};q.prototype.TL=function(){var a=this.Wd,b,d,f,m=this.Da,n=this.La,p=null,r=null,x,t=this.na,w,z=this.gb,y,C,c=0,l=0,e=0,v=this.height,A=this.width,B=A>>4,D=this.M,E=v,
G=-1,F=A,I=-1,L=this.ya,K=this.ua>>4,J=this.wd;if(0!==(this.counter&1)){var M=this.Ja;var H=this.Ba;var U=this.Yd;var qa=this.ra;var ka=this.ja}else M=this.S,H=this.Yd,U=this.Ba,qa=this.ja,ka=this.ra;t.fill(0);z.fill(0);var O=0;var ca=O+16;ka.Wa.fill(0);for(d=0;d<qa.length;d+=1){var Q=0;var W=qa[d];var ia=ka[d];var ha=n[d];var X=m[d];0<d?p=ka[d-1]:p=J;d<L-1?r=ka[d+1]:r=J;for(f=0;f<K;f+=1)if(x=W[f]){var ea=ia[f];var da=p[f];var ra=r[f];for(b=15;0<=b;--b){if(0!==(x&1<<b)){var na=y=w=0;var T=O;for(C=
32768;T<ca;){var R=0===T?this.wc:M[T-1];var V=M[T];var ja=T===this.height-1?this.wc:M[T+1];var ma=U[T];var aa=32768;var N=Q;var P=R[N];var oa=V[N+1];var Y=ja[N];var S=0===N?V[N]<<9|oa<<6|P<<3|Y:V[N-1]<<12|V[N]<<9|oa<<6|P<<3|Y;var pa=a[S];0<pa?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|
P<<3|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;pa=a[S];0<pa?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):
0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;pa=a[S];0<pa?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&
32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;pa=a[S];0<pa?(c+=1,0===(S&3584)&&(l+=1),
y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);aa>>=1;N+=1;P=R[N];N===A-1?oa=0:oa=V[N+1];Y=ja[N];S=S<<3&32256|oa<<6|P<<3|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&3584)&&(l+=1),y|=C,w|=aa):0!==(S&3584)&&(e+=1);T+=1;C>>=1}t[Q>>
4]|=w;w&&(ea|=1<<b,y&1&&(na|=k.yb,w&32768&&(na|=k.bc),w&1&&(na|=k.xb)),y&32768&&(na|=k.Rb,w&32768&&(na|=k.Wb),w&1&&(na|=k.Xb)),w&32768&&(na|=k.Tb),w&1&&(na|=k.lb),na&&(0!==(na&k.Tb)&&(15>b?ea|=1<<b+1:0<f&&0<Q&&(ia[f-1]|=1)),0!==(na&k.lb)&&(0<b?ea|=1<<b-1:f<K-1&&Q<A-1&&(ia[f+1]|=32768)),0!==(na&k.Rb)&&(da|=1<<b),0!==(na&k.yb)&&(ra|=1<<b),0!==(na&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<Q&&(p[f-1]|=1)),0!==(na&k.Xb)&&(0<b?da|=1<<b-1:f<K-1&&Q<A-1&&(p[f+1]|=32768)),0!==(na&k.bc)&&(15>b?ra|=1<<b+1:0<f&&0<Q&&(r[f-
1]|=1)),0!==(na&k.xb)&&(0<b?ra|=1<<b-1:f<K-1&&Q<A-1&&(r[f+1]|=32768))));z[d]|=y}Q+=16}ia[f]|=ea;ha[f]=x|ea;X[f]=X[f]|x|ea;0<d&&(p[f]|=da);d<L-1&&(r[f]|=ra)}else Q+=256;O+=16;ca+=16}for(f=0;f<B;f+=1)t[f]&&(f<F&&(F=f),f>I&&(I=f));for(d=0;d<z.length;d+=1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(t[F]);I=(I<<4)+this.U(t[I]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.U(z[G]);0>G&&(G=v-1);E>=v&&(E=0);F>=A&&(F=0);0>I&&(I=A-1);G>v-1&&(G=v-1);0>E&&(E=0);0>F&&(F=0);I>A-1&&(I=A-1);D.v=G;D.s=E;D.l=F;D.u=I;J.fill(0);
O=0;ca=O+16;for(d=0;d<qa.length;d+=1){Q=0;W=qa[d];ia=ka[d];for(f=0;f<K;f+=1)if(x=W[f],ea=ia[f],x!==ea)for(b=15;0<=b;--b){if((x&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=O;T<ca;T+=1)V=H[T],N=Q>>2,V[N]=0,V[N+1]=0,V[N+2]=0,V[N+3]=0;Q+=16}else Q+=256;O+=16;ca+=16}this.ga=c;this.Vb=l;this.Fb=e;this.Y=c};q.prototype.$L=function(){var a=this.Wd,b,d,f,m=this.Da,n=this.La,p=null,r=null,x,t=this.na,w,z=this.gb,y,C,c=0,l=0,e=0,v=this.height,A=this.width,B=A>>4,D=this.M,E=v,G=-1,F=A,I=-1,L=this.ya,K=this.ua>>4,
J=this.wd;if(0!==(this.counter&1)){var M=this.Ja;var H=this.Ba;var U=this.Yd;var qa=this.ra;var ka=this.ja}else M=this.S,H=this.Yd,U=this.Ba,qa=this.ja,ka=this.ra;t.fill(0);z.fill(0);var O=0;var ca=O+16;ka.Wa.fill(0);for(d=0;d<qa.length;d+=1){var Q=0;var W=qa[d];var ia=ka[d];var ha=n[d];var X=m[d];0<d?p=ka[d-1]:p=J;d<L-1?r=ka[d+1]:r=J;for(f=0;f<K;f+=1)if(x=W[f]){var ea=ia[f];var da=p[f];var ra=r[f];for(b=15;0<=b;--b){if(0!==(x&1<<b)){var na=y=w=0;var T=O;for(C=32768;T<ca;){var R=0===T?this.wc:M[T-
1];var V=M[T];var ja=T===this.height-1?this.wc:M[T+1];var ma=U[T];var aa=32768;var N=Q;var P=R[N];var oa=V[N+1];var Y=ja[N];var S=0===N?V[N]<<12|oa<<8|P<<4|Y:V[N-1]<<16|V[N]<<12|oa<<8|P<<4|Y;var pa=a[S];0<pa?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<16;0<
P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;pa=a[S];0<pa?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&
(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;pa=a[S];0<pa?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|
oa<<8|P<<4|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;pa=a[S];0<pa?(c+=1,0===(S&61440)&&
(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<8;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<16;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&(e+=1);aa>>=1;N+=1;P=R[N];N===A-1?oa=0:oa=V[N+1];Y=ja[N];S=S<<4&1044480|oa<<8|P<<4|Y;P=a[S];pa|=P<<24;ma[N>>2]=pa;0<P?(c+=1,0===(S&61440)&&(l+=1),y|=C,w|=aa):0!==(S&61440)&&
(e+=1);T+=1;C>>=1}t[Q>>4]|=w;w&&(ea|=1<<b,y&1&&(na|=k.yb,w&32768&&(na|=k.bc),w&1&&(na|=k.xb)),y&32768&&(na|=k.Rb,w&32768&&(na|=k.Wb),w&1&&(na|=k.Xb)),w&32768&&(na|=k.Tb),w&1&&(na|=k.lb),na&&(0!==(na&k.Tb)&&(15>b?ea|=1<<b+1:0<f&&0<Q&&(ia[f-1]|=1)),0!==(na&k.lb)&&(0<b?ea|=1<<b-1:f<K-1&&Q<A-1&&(ia[f+1]|=32768)),0!==(na&k.Rb)&&(da|=1<<b),0!==(na&k.yb)&&(ra|=1<<b),0!==(na&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<Q&&(p[f-1]|=1)),0!==(na&k.Xb)&&(0<b?da|=1<<b-1:f<K-1&&Q<A-1&&(p[f+1]|=32768)),0!==(na&k.bc)&&(15>b?ra|=
1<<b+1:0<f&&0<Q&&(r[f-1]|=1)),0!==(na&k.xb)&&(0<b?ra|=1<<b-1:f<K-1&&Q<A-1&&(r[f+1]|=32768))));z[d]|=y}Q+=16}ia[f]|=ea;ha[f]=x|ea;X[f]=X[f]|x|ea;0<d&&(p[f]|=da);d<L-1&&(r[f]|=ra)}else Q+=256;O+=16;ca+=16}for(f=0;f<B;f+=1)t[f]&&(f<F&&(F=f),f>I&&(I=f));for(d=0;d<z.length;d+=1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(t[F]);I=(I<<4)+this.U(t[I]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.U(z[G]);0>G&&(G=v-1);E>=v&&(E=0);F>=A&&(F=0);0>I&&(I=A-1);G>v-1&&(G=v-1);0>E&&(E=0);0>F&&(F=0);I>A-1&&(I=A-1);D.v=G;D.s=
E;D.l=F;D.u=I;J.fill(0);O=0;ca=O+16;for(d=0;d<qa.length;d+=1){Q=0;W=qa[d];ia=ka[d];for(f=0;f<K;f+=1)if(x=W[f],ea=ia[f],x!==ea)for(b=15;0<=b;--b){if((x&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=O;T<ca;T+=1)V=H[T],N=Q>>2,V[N]=0,V[N+1]=0,V[N+2]=0,V[N+3]=0;Q+=16}else Q+=256;O+=16;ca+=16}this.ga=c;this.Vb=l;this.Fb=e;this.Y=c};q.prototype.Cy=function(){var a=this.Ud,b=this.M,d=this.ae,f=d.l;var m=d.s;var n=d.u,p=d.v,r=0,x=0,t=0,w=this.width,z=this.height,y=0,C=0,c=this.width,l=this.height,e=0,v=0,A=this.Da,
B,D=this.kg,E=this.K,G=0<this.K?1:0;var F=this.Aa;var I=this.wa;var L=Math.round((this.width-F)/2);var K=Math.round((this.height-I)/2);-1!==this.xa&&(f=L+1,m=K+1,n=L+F-1-1,p=K+I-1-1);this.ud&&(this.td=!this.td,this.ud=!1);this.Y=0;0!==(this.counter&1)?(F=this.Ja,I=this.S,this.td&&(a=this.Yc)):(F=this.S,I=this.Ja,this.oc&&(a=this.nf),this.td&&(a=this.oc?this.Vd:this.Yc));1>m&&(m=1);p>this.height-2&&(p=this.height-2);1>f&&(f=1);n>this.width-2&&(n=this.width-2);for(--m;m<=p+1;m+=1){K=F[m-1];var J=F[m];
var M=F[m+1];var H=A[m>>4];var U=I[m];var qa=B=!1;var ka=J[f-2];for(L=f-1;L<=n+1;L+=1){var O=M[L];var ca=J[L+1];var Q=K[L];0<E&&(O=O<=E?0:O-E,ca=ca<=E?0:ca-E,Q=Q<=E?0:Q-E,ka=ka<=E?0:ka-E);ka=ka|O<<4|ca<<8|Q<<12;O=a[ka];ka=J[L];0<O?(r+=D[O],U[L]=O+E,B=!0,H[L>>8]=65535,L<w&&(w=L),L>y&&(y=L)):(O=ka,O>E?O=E:O>G&&--O,U[L]=O,0<O&&(B=!0,L<w&&(w=L),L>y&&(y=L)),O=0);ka>E?(ka-=E,x+=D[O&~ka],t+=D[ka&~O],ka+=E):x+=D[O];0<O&&(L<c&&(c=L),L>e&&(e=L),qa=!0)}B&&(m<z&&(z=m),m>C&&(C=m));qa&&(m<l&&(l=m),m>v&&(v=m))}this.ga=
r;this.Vb=x;this.Fb=t;this.Y=r;d.l=w;d.s=z;d.u=y;d.v=C;b.l=c;b.s=l;b.u=e;b.v=v};q.prototype.ZA=function(){var a=this.Yd,b=this.Da,d=this.La,f,m,n;var p=this.ya;var r=this.ua>>4;var x=0;var t=p;this.Y=0;if(0!==(this.counter&1)){var w=this.Yb;var z=this.ra}else w=this.hb,z=this.ja;0>x&&(x=0);t>p&&(t=p);p=x<<4;var y=p+16;for(f=x;f<t;f+=1){var C=0;var c=z[f];var l=d[f];var e=b[f];for(m=0;m<r;m+=1){var v=c[m]|e[m];var A=0;if(v)for(n=15;0<=n;--n){if(0!==(v&1<<n)){var B=0;for(x=p;x<y;){var D=w[x];var E=
a[x];var G=C<<2;(D=D[C])?(B|=D,E[G]=(D&32768)>>9|D&16384|(D&8192)<<9|(D&4096)<<18,G+=1,E[G]=(D&2048)>>5|(D&1024)<<4|(D&512)<<13|(D&256)<<22,G+=1,E[G]=(D&128)>>1|(D&64)<<8|(D&32)<<17|(D&16)<<26,G+=1,E[G]=(D&8)<<3|(D&4)<<12|(D&2)<<21|(D&1)<<30):(E[G]=0,E[G+1]=0,E[G+2]=0,E[G+3]=0);x+=1}B&&(A|=1<<n)}C+=1}else C+=16;l[m]=A;e[m]|=A;A&&(this.Y=1)}p+=16;y+=16}};q.prototype.LB=function(){var a=this.nl,b=this.Da,d=this.La,f=this.Cp,m,n,p;var r=this.ya;var x=this.ua>>4;var t=0;var w=r;this.Y=0;if(0!==(this.counter&
1)){var z=this.Yb;var y=this.ra}else z=this.hb,y=this.ja;0>t&&(t=0);w>r&&(w=r);r=t<<4;var C=r+16;for(m=t;m<w;m+=1){var c=0;var l=y[m];var e=d[m];var v=b[m];for(n=0;n<x;n+=1){var A=l[n]|e[n]|v[n];var B=0;if(A)for(p=15;0<=p;--p){if(0!==(A&1<<p)){var D=0;for(t=r;t<C;){var E=z[t];var G=a[t];var F=c<<3;E=E[c];this.Y|=E;var I=f[G[F]|(E&32768)>>8|(E&16384)<<1];D|=I;G[F]=I;F+=1;I=f[G[F]|(E&8192)>>6|(E&4096)<<3];D|=I;G[F]=I;F+=1;I=f[G[F]|(E&2048)>>4|(E&1024)<<5];D|=I;G[F]=I;F+=1;I=f[G[F]|(E&512)>>2|(E&256)<<
7];D|=I;G[F]=I;F+=1;I=f[G[F]|E&128|(E&64)<<9];D|=I;G[F]=I;F+=1;I=f[G[F]|(E&32)<<2|(E&16)<<11];D|=I;G[F]=I;F+=1;I=f[G[F]|(E&8)<<4|(E&4)<<13];D|=I;G[F]=I;F+=1;I=f[G[F]|(E&2)<<6|(E&1)<<15];D|=I;G[F]=I;t+=1}0!==(D&65278)&&(B|=1<<p)}c+=1}else c+=16;e[n]=B;v[n]|=B}r+=16;C+=16}};q.prototype.jB=function(){var a=this.nl,b=this.Da,d=this.La,f=this.Cp,m,n,p;var r=this.ya;var x=this.ua>>4;var t=0;var w=r;this.Y=0;if(0!==(this.counter&1)){var z=this.Yb;var y=this.ra}else z=this.hb,y=this.ja;0>t&&(t=0);w>r&&(w=
r);r=t<<4;var C=r+16;for(m=t;m<w;m+=1){var c=0;var l=y[m];var e=d[m];var v=b[m];for(n=0;n<x;n+=1){var A=l[n]|e[n];var B=0;if(A)for(p=15;0<=p;--p){if(0!==(A&1<<p)){var D=0;for(t=r;t<C;){var E=z[t];var G=a[t];var F=c<<3;E=E[c];this.Y|=E;var I=f[(E&49152)>>7|t+F+F&127];D|=I;G[F]=I;F+=1;I=f[(E&12288)>>5|t+F+F&127];D|=I;G[F]=I;F+=1;I=f[(E&3072)>>3|t+F+F&127];D|=I;G[F]=I;F+=1;I=f[(E&768)>>1|t+F+F&127];D|=I;G[F]=I;F+=1;I=f[(E&192)<<1|t+F+F&127];D|=I;G[F]=I;F+=1;I=f[(E&48)<<3|t+F+F&127];D|=I;G[F]=I;F+=1;
I=f[(E&12)<<5|t+F+F&127];D|=I;G[F]=I;F+=1;I=f[(E&3)<<7|t+F+F&127];D|=I;G[F]=I;t+=1}if(1<(D&255)||1<D>>8)B|=1<<p}c+=1}else c+=16;e[n]=B;v[n]|=B}r+=16;C+=16}};q.prototype.xI=function(a,b,d,f,m,n,p,r,x,t){var w=this.Yf;f=f*a+w.v;d=d*a+w.u;b=b*a+w.s;m=m*a+w.l;w=d-m+1;a=f-b+1;this.T&&(w=d-b/2-(m-f/2)+1);0===w&&(w=1);0===a&&(a=1);n/=w;p/=a;t=Math.round(1E3*(n>p?p:n)/t)/1E3;t<r?t=r:t>x&&(t=x);return t};q.prototype.xy=function(a){var b=a;1>a&&(b=1/a);var d=Math.round(b);(d<b?d/b:b/d)>=ViewConstants.EL&&(a=
1>a?1/d:d);return a};q.prototype.Sg=function(a,b,d,f,m,n,p,r,x,t,w,z,y){var C=this.M,c=this.Yf,l=this.ae,e=this.S;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(e=this.Ja);w?C=l:this.pa&&(C=this.Pa);if(a===ViewConstants.Ev){w=b.l;l=b.u;var v=b.v;b=b.s}else w=C.l,l=C.u,v=C.v,b=C.s,this.ta&&!z&&(c.l<w&&(w=c.l),c.u>l&&(l=c.u),c.v>v&&(v=c.v),c.s<b&&(b=c.s)),-1!==this.xa&&(c=this.Aa,z=this.wa,0<c&&(this.width/2-c/2<w&&(w=this.width/2-c/2),this.width/2+c/2>l&&(l=this.width/2+c/2)),0<z&&(this.height/
2-z/2<b&&(b=this.height/2-z/2),this.height/2+z/2>v&&(v=this.height/2+z/2)));t?(c=r,z=x,w=this.width/2-c/2,l=this.width/2+c/2,v=this.height/2+z/2,b=this.height/2-z/2):(c=l-w+1,z=v-b+1);if(this.T)if(a===ViewConstants.Ev)w-=v/2,c=l-b/2-w+1;else{c=2*(this.width+this.height);C=-c;for(t=b;t<=v;t+=1)for(r=e[t],x=w;x<=l;x+=1){var A=r[x];0<A&&(A=x-t/2,A<c&&(c=A),A>C&&(C=A))}w=c;l=C;w>l&&(e=w,w=l,l=e);c=0>l&&0>w?0:l-w+1}0===c&&(c=1);0===z&&(z=1);d/=c;f/=z;this.P&&(f/=ViewConstants.ie);p=Math.round(1E3*(d>f?
f:d)/p)/1E3;p/=this.Bc;p<m?p=m:p>n&&(p=n);m=b-this.Zb+z/2;n=w-this.dc+c/2;y||(p=this.xy(p));a===ViewConstants.fF&&(p=this.zoom);return[p,n,m]};q.prototype.hy=function(a,b,d,f){var m=this.yd,n=this.J,p=this.H;if(a>b){var r=b;b=a;a=r}0>a?a=0:a>=n&&(a=n-1);0>b?b=0:b>=n&&(b=n-1);0<=d&&d<p&&m.fill(f,d*n+a,d*n+b)};q.prototype.ky=function(a,b,d,f){var m=this.yd,n=this.J,p=this.H;if(b>d){var r=d;d=b;b=r}0>b?b=0:b>=p&&(b=p-1);0>d?d=0:d>=p&&(d=p-1);b=b*n+a;d=d*n+a;p=d-15*n;if(0<=a&&a<n){for(;b<=p;)m[b]=f,b+=
n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n,m[b]=f,b+=n;for(;b<=d;)m[b]=f,b+=n}};q.prototype.dy=function(a,b,d,f,m){var n=Math.abs(d-a),p=Math.abs(f-b),r=a<d?1:-1,x=b<f?1:-1,t=n-p,w=this.J,z=this.H,y=this.yd;if(!(0>a&&0>d||a>=w&&d>=w||0>b&&0>f||b>=z&&f>=z))if(0<=a&&a<w&&0<=b&&b<z&&0<=d&&d<w&&0<=f&&f<z)for(y[b*w+a]=m;a!==d||b!==f;){var C=t+t;C>-p&&(t-=p,a+=r);C<n&&(t+=n,b+=
x);y[b*w+a]=m}else for(0<=a&&a<w&&0<=b&&b<z&&(y[b*w+a]=m);a!==d||b!==f;)C=t+t,C>-p&&(t-=p,a+=r),C<n&&(t+=n,b+=x),0<=a&&a<w&&0<=b&&b<z&&(y[b*w+a]=m)};q.prototype.nk=function(a,b,d,f,m){var n=this.J/2,p=this.H/2;if(0!==this.ib){a-=n;b-=p;var r=Math.sqrt(a*a+b*b);var x=180/Math.PI*Math.atan2(b,a);x+=this.ib;a=Math.round(r*Math.cos(Math.PI/180*x)+n);b=Math.round(r*Math.sin(Math.PI/180*x)+p);d-=n;f-=p;r=Math.sqrt(d*d+f*f);x=180/Math.PI*Math.atan2(f,d);x+=this.ib;d=Math.round(r*Math.cos(Math.PI/180*x)+
n);f=Math.round(r*Math.sin(Math.PI/180*x)+p)}a===d?this.ky(a,b,f,m):b===f?this.hy(a,d,b,m):this.dy(a,b,d,f,m)};q.prototype.gl=function(a,b,d,f,m){var n=a.Kf,p=a.Jf,r=0,x=0,t=this.context;var w=this.zoom;var z=this.zoom*(this.P?ViewConstants.ie:1);var y=(this.width>>1)-(a.kb>>1);var C=(this.height>>1)-(a.qb>>1);var c=a.Mc-this.va,l=a.Lc-this.Ca-(this.T?this.va/2:0),e=[0,0];switch(f){case ViewConstants.MG:b-=n>>1;break;case ViewConstants.NG:b-=n-1;break;case ViewConstants.SG:d-=p>>1;break;case ViewConstants.LG:b-=
n>>1;d-=p>>1;break;case ViewConstants.KG:b-=n-1;d-=p>>1;break;case ViewConstants.QG:d-=p-1;break;case ViewConstants.OG:b-=n>>1;d-=p-1;break;case ViewConstants.PG:b-=n-1,d-=p-1}var v=z*(d-C+c-this.Zb+a.Mc)+a.H/2;f=w*(b-y+l-this.dc+a.Lc)+a.J/2+(this.T?(a.H/2-v)/2:0);var A=z*(d+p-C+c-this.Zb+a.Mc)+a.H/2;var B=w*(b+n-y+l-this.dc+a.Lc)+a.J/2+(this.T?(a.H/2-A)/2:0);t.fillStyle=m;t.globalAlpha=.5;if(this.T)if(!this.sc&&4<=this.zoom)this.ku(b,d,b+n-1,d+p-1,y,C);else{t.beginPath();for(m=0;m<p;m+=1)t.moveTo(f,
v),t.lineTo(f+n*w+1,v),t.lineTo(f+n*w+1,v+z+1),t.lineTo(f,v+z+1),f-=z/2,v+=z;t.fill()}else!this.sc&&this.P&&4<=this.zoom?this.lu(b,d,b+n-1,d+p-1,y,C):(t.beginPath(),this.Je(f,v,e),t.moveTo(e[0],e[1]),this.Je(B+1,v,e),t.lineTo(e[0],e[1]),this.Je(B+1,A+1,e),t.lineTo(e[0],e[1]),this.Je(f,A+1,e),t.lineTo(e[0],e[1]),t.fill());if(1<=this.zoom){if(0<this.ib){var D=Math.cos(this.ib/180*Math.PI)*this.oa;var E=Math.sin(this.ib/180*Math.PI)*this.oa;var G=Math.cos((this.ib+90)/180*Math.PI)*this.oa;var F=Math.sin((this.ib+
90)/180*Math.PI)*this.oa}else D=w,G=E=0,F=z;v=z*(d+x-C+c-this.Zb+a.Mc)+a.H/2;f=w*(b+r-y+l-this.dc+a.Lc)+a.J/2+(this.T?(a.H/2-v)/2:0);0!==this.ib&&(this.Je(f,v,e),f=e[0],v=e[1]);B=f;A=v;t.fillStyle="rgb(255, 128, 0)";if(this.T&&!this.sc&&4<=this.zoom)this.iy(b,d,b+n-1,d+p-1,y,C,a.Db);else if(!this.sc&&this.P&&4<=this.zoom)this.jy(b,d,b+n-1,d+p-1,y,C,a.Db);else{t.beginPath();for(x=m=0;x<p;x+=1){f=B;for(r=0;r<n;r+=1)b=a.Db[m],m+=1,b&&(b=f+D,d=v+E,w=b+G,z=d+F,y=w-D,C=z-E,0>f&&0>b&&0>w&&0>y||f>=a.J&&b>=
a.J&&w>=a.J&&y>=a.J||0>v&&0>d&&0>z&&0>C||v>=a.H&&d>=a.H&&z>=a.H&&C>=a.H||(t.moveTo(f,v),t.lineTo(b,d),t.lineTo(w,z),t.lineTo(y,C))),f+=D,v+=E;B+=G;v=A+=F;this.T&&(B-=F/2)}t.fill()}}};q.prototype.Je=function(a,b,d){var f=this.J/2,m=this.H/2;if(0!==this.ib){a-=f;b-=m;var n=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.ib;a=Math.round(n*Math.cos(Math.PI/180*b)+f);b=Math.round(n*Math.sin(Math.PI/180*b)+m)}d[0]=a;d[1]=b};q.prototype.uK=function(a){var b=a.Zg+.5|0,d=(this.width>>1)-(a.kb>>1)+
(a.Pb<<1),f=(this.height>>1)-(a.qb>>1)+(a.Qb<<1);(a.ub||a.Bk)&&this.cy(a,a.Ob,this.CC);a.Md&&(-1!==this.xa&&a.wh?this.gl(a,a.Op.l-a.kb,a.Op.s-a.qb,ViewConstants.vq,this.Cu):this.gl(a,a.Op.l,a.Op.s,ViewConstants.vq,this.Cu));if(a.od){var m=a.j.Nj;var n=a.j.Oj;-1!==m&&(a.Ix(m,n),-1!==this.xa&&a.wh&&(d+=a.kb,f+=a.qb),this.gl(a,a.xk-d,a.yk-f,b,this.kB))}};q.prototype.cy=function(a,b,d){var f=this.context,m=this.zoom,n=this.zoom*(this.P?ViewConstants.ie:1),p=b.l,r=b.s,x=b.u;b=b.v;var t=(this.width>>1)-
(a.kb>>1),w=(this.height>>1)-(a.qb>>1),z=a.Mc-this.va,y=a.Lc-this.Ca-(this.T?this.va/2:0),C=[0,0],c=a.Ob;if(p>x){var l=p;p=x;x=l}r>b&&(l=r,r=b,b=l);l=x-p+1;var e=b-r+1;-1!==this.xa&&a.wh&&(w+=a.qb,t+=a.kb);r=n*(r-w+z-this.Zb+a.Mc)+a.H/2;p=m*(p-t+y-this.dc+a.Lc)+a.J/2+(this.T?(a.H/2-r)/2:0);b=n*(b+1-w+z-this.Zb+a.Mc)+a.H/2;x=m*(x+1-t+y-this.dc+a.Lc)+a.J/2+(this.T?(a.H/2-b)/2:0);f.fillStyle=d;f.globalAlpha=.5;if(this.T)if(!this.sc&&4<=this.zoom)this.ku(c.l,c.s,c.u,c.v,t,w);else{f.beginPath();l*=m;for(a=
0;a<e;a+=1)f.moveTo(p,r),f.lineTo(p+l+1,r),f.lineTo(p+l+1,r+n+1),f.lineTo(p,r+n+1),p-=n/2,r+=n;f.fill()}else this.P&&!this.sc&&4<=this.zoom?this.lu(c.l,c.s,c.u,c.v,t,w):(f.beginPath(),this.Je(p,r,C),f.moveTo(C[0],C[1]),this.Je(x+1,r,C),f.lineTo(C[0],C[1]),this.Je(x+1,b+1,C),f.lineTo(C[0],C[1]),this.Je(p,b+1,C),f.lineTo(C[0],C[1]),f.fill());f.globalAlpha=1};q.prototype.Hd=function(){var a,b=this.J,d=this.H,f=this.xg,m=this.wg,n=this.oa,p=this.oa*(this.P?ViewConstants.ie:1),r=f,x,t=0<this.lf&&this.zl,
w=this.counter&1,z=((this.height/2-(this.va+this.Zb))*p+d/2)%p,y=((this.width/2-(this.Ca+this.dc))*n+b/2)%n;if(this.qc)var C=t?2:1;else C=1,t=!1,r=f=this.Te[0];var c=f;for(this.la&&2===this.lf&&this.$l||(w=0);C;){var l=-(b/2/n)-(this.width/2-this.Ca-this.dc)|0;var e=22*-n;var v=b+n+22*n;var A=z-22*p;var B=d+22*p;var D=-b/1.5;var E=b+b/1.5;var G=-d/1.5;for(x=d+d/1.5;e<=v;e+=n)if(t&&(0===(l+w)%this.lf?r=m:r=f),l+=1,r===c)if(this.T){var F=-(d/2/p)-(this.height/2-this.va-this.Zb)|0;for(a=A;a<B;a+=p)0===
(F&1)?this.nk(Math.round(e+y),Math.round(a),Math.round(e+y),Math.round(a+p-1),r):this.nk(Math.round(e+y+n/2),Math.round(a),Math.round(e+y+n/2),Math.round(a+p-1),r),F+=1}else this.nk(Math.round(e+y),G,Math.round(e+y),x-1,r);l=-(d/2/p)-(this.height/2-this.va-this.Zb)|0;for(a=A;a<B;a+=p)t&&(0===(l+w)%this.lf?r=m:r=f),l+=1,r===c&&this.nk(D,Math.round(a),E-1,Math.round(a),r);--C;c=m}};q.prototype.Vh=function(){return 4<=this.oa};q.prototype.Hz=function(a,b){var d=this.Aa,f=this.wa,m=this.la?-1:0,n=Math.round((this.width-
d)/2-1)+m,p=n+d+1,r=Math.round((this.height-f)/2-1)+m;m=r+f+1;var x=a[r],t=a[m];if(0===d)x.fill(b,0,this.width),t.fill(b,0,this.width);else if(0===f)for(d=0;d<this.height;d+=1)a[d][n]=b,a[d][p]=b;else for(x.fill(b,n,p+1),t.fill(b,n,p+1),d=r+1;d<=m-1;d+=1)a[d][n]=b,a[d][p]=b};q.prototype.jN=function(a,b){var d=this.Te[0],f=this.yd,m=this.S,n=this.nl,p=this.Yd;this.mk=!0;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(m=this.Ja,n=this.Lh,p=this.Ba);this.Sn&&(this.JE(),--this.Sn,this.Sn||(this.Fe.set(this.vd),
this.Dc.set(this.hc),this.Ke.set(this.oe),this.eh.set(this.Gf),this.Ie.set(this.Td),this.Qh.set(this.Gg)));this.oa=this.zoom*this.Bc;this.oa<ViewConstants.Xa?this.oa=ViewConstants.Xa:this.oa>ViewConstants.Hb&&(this.oa=ViewConstants.Hb);this.Le=this.Ca+this.dc;this.Me=this.va+this.Zb;this.B=this.Pe/2+1;this.ib=this.T||this.P?0:this.angle;-1!==this.xa&&this.Hz(m,this.Kb);4<=this.oa&&(!this.sc&&this.T||!this.sc&&this.P)?(f.fill(d),this.Zd(1)):(1>this.oa&&this.by(n,p),.0625>this.oa?this.pg?this.Oh(this.$c,
this.ac,31,a,b):this.Ph(this.ac,this.ac,31,a,b):.125>this.oa?this.pg?this.Oh(this.$c,this.ac,15,a,b):this.Ph(this.ac,this.ac,15,a,b):.25>this.oa?this.pg?this.Oh(this.$c,this.ac,7,a,b):this.Ph(this.ac,this.ac,7,a,b):.5>this.oa?this.pg?this.Oh(this.$c,this.ac,3,a,b):this.Ph(this.ac,this.ac,3,a,b):1>this.oa?this.pg?this.Oh(this.$c,this.ac,1,a,b):this.Ph(this.ac,this.ac,1,a,b):this.pg?this.Oh(this.ic,m,0,a,b):this.Ph(m,m,0,a,b))};q.prototype.FI=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r=
0,x=0;var t=this.width;var w=this.height;var z=1,y=1,C=0,c=this.ia,l=this.Ab&~d,e=this.Cb&~d,v=~d,A=~d,B=this.kl,D=n[0],E=a,G=this.oa;1<this.B&&(z=this.$);a=Math.sin(this.ib/180*Math.PI)/this.oa;var F=Math.cos(this.ib/180*Math.PI)/this.oa;var I=-(this.J/2*-a+this.H/2*F)+this.Me;var L=-(this.J/2*F+this.H/2*a)+this.Le;1<this.$&&1<this.B&&(C=.4/(this.$-1),y=.6);for(this.Zd(y);t<c;)r+=t>>1,t<<=1;for(;w<c;)x+=w>>1,w<<=1;var K=0;var J=I;for(t=0;t<this.H;t+=1){var M=L;for(w=0;w<m;w+=1){if(0<=M&&(M&v)===
(M&l)&&0<J&&(J&A)===(J&e)){var H=E[J&e][M&l]|0;p[K]=n[H]}else p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<
J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a;0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)?(H=E[J&e][M&l]|0,p[K]=n[H]):p[K]=0<=M+r&&M+r<c&&0<=J+x&&J+x<c?D:B;K+=1;M+=F;J-=a}L+=a;J=I+=F}f&&this.Jd();(this.qc||this.kd)&&
this.Vh()&&this.Hd();E=b;for(b=1;b<z;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<z/2?this.K/this.$*b*2|0:this.K+this.i/this.$*b|0:this.ee?1:(this.Sf+1)/this.$*b|0,y+=C,this.Zd(y),a/=this.B,F/=this.B,G*=this.B,l=d,d=.125>G?15:.25>G?7:.5>G?3:1>G?1:0,d!==l&&(E=this.S),l=this.Ab&~d,e=this.Cb&~d,v=~d,A=~d,I=-(this.J/2*-a+this.H/2*F)+this.Me,L=-(this.J/2*F+this.H/2*a)+this.Le,K=0,J=I,t=0;t<this.H;t+=1){M=L;for(w=0;w<m;w+=1)0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&
(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===
(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a,0<=M&&(M&v)===(M&l)&&0<J&&(J&A)===(J&e)&&(H=E[J&e][M&l]|0,H>=f&&(p[K]=n[H])),K+=1,M+=F,J-=a;L+=a;J=I+=F}};q.prototype.GI=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r=0,x=0;var t=this.width;var w=this.height;var z=1,y=1,C=0,c=this.ia,l=this.Ab&~d,e=this.Cb&~d,v=~d,A=~d,B=this.kl,D=n[0],E=a,G=this.oa;1<this.B&&(z=this.$);a=1/this.oa;this.P&&(a/=ViewConstants.ie);var F=1/this.oa;var I=-(this.H/2*a)+this.Me;var L=
-(this.J/2*F)+this.Le;1<this.$&&1<this.B&&(C=.4/(this.$-1),y=.6);for(this.Zd(y);t<c;)r+=t>>1,t<<=1;for(;w<c;)x+=w>>1,w<<=1;var K=0;var J=I;for(t=0;t<this.H;t+=1){if(0<=J&&(J&A)===(J&e)){var M=E[J&e];var H=L;this.T&&(H+=.5*(J|0));for(w=0;w<m;w+=1){if(0<=H&&(H&v)===(H&l)){var U=M[H&l]|0;p[K]=n[U]}else p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&
l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F;0<=H&&(H&v)===(H&l)?(U=M[H&l]|0,p[K]=n[U]):p[K]=0<=H+r&&H+r<c?D:B;K+=1;H+=F}}else if(0<=J+x&&J+x<c)for(H=L,this.T&&(H+=.5*(J|0)),w=0;w<this.J;w+=1)p[K]=0<=H+r&&H+r<c?D:B,K+=1,H+=F;else p.fill(B,K,K+this.J+1),K+=this.J;
J=I+=a}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();E=b;for(b=1;b<z;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<z/2?this.K/this.$*b*2|0:this.K+this.i/this.$*b|0:this.ee?1:(this.Sf+1)/this.$*b|0,y+=C,this.Zd(y),a/=this.B,F/=this.B,G*=this.B,l=d,d=.125>G?15:.25>G?7:.5>G?3:1>G?1:0,d!==l&&(E=this.S),l=this.Ab&~d,e=this.Cb&~d,v=~d,A=~d,I=-(this.H/2*a)+this.Me,L=-(this.J/2*F)+this.Le,K=0,J=I,t=0;t<this.H;t+=1){if(0<=J&&(J&A)===(J&e))for(M=E[J&e],H=L,this.T&&(H+=.5*(J|0)),w=0;w<
m;w+=1)0<=H&&(H&v)===(H&l)&&(U=M[H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F,0<=H&&(H&v)===(H&l)&&(U=E[J&e][H&
l]|0,U>=f&&(p[K]=n[U])),K+=1,H+=F;else K+=m<<3;J=I+=a}};q.prototype.HI=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r,x,t=1,w=1,z=0,y=this.Ab&~d,C=this.Cb&~d,c=a,l=this.oa;1<this.B&&(t=this.$);a=Math.sin(this.ib/180*Math.PI)/this.oa;var e=Math.cos(this.ib/180*Math.PI)/this.oa;var v=-(this.J/2*-a+this.H/2*e)+this.Me;var A=-(this.J/2*e+this.H/2*a)+this.Le;1<this.$&&1<this.B&&(z=.4/(this.$-1),w=.6);this.Zd(w);var B=0;var D=v;for(r=0;r<this.H;r+=1){var E=A;for(x=0;x<m;x+=1){var G=c[D&C][E&y]|
0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a;G=c[D&C][E&y]|0;p[B]=n[G];B+=1;E+=e;D-=a}A+=a;D=v+=e}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();c=b;for(b=1;b<t;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<t/2?this.K/this.$*b*2|0:this.K+this.i/this.$*
b|0:this.ee?1:(this.Sf+1)/this.$*b|0,w+=z,this.Zd(w),a/=this.B,e/=this.B,l*=this.B,y=d,.125>l?d=15:.25>l?d=7:.5>l?d=3:1>l?d=1:(c=this.S,d=0),d!==y&&(c=this.S),y=this.Ab&~d,C=this.Cb&~d,v=-(this.J/2*-a+this.H/2*e)+this.Me,A=-(this.J/2*e+this.H/2*a)+this.Le,B=0,D=v,r=0;r<this.H;r+=1){E=A;for(x=0;x<m;x+=1)G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=
c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a,G=c[D&C][E&y]|0,G>=f&&(p[B]=n[G]),B+=1,E+=e,D-=a;A+=a;D=v+=e}};q.prototype.II=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r,x=1,t=1,w=0,z=this.Ab&~d,y=this.Cb&~d,C=a,c=this.oa;1<this.B&&(x=this.$);a=1/this.oa;this.P&&(a/=ViewConstants.ie);var l=1/this.oa;var e=-(this.H/2*a)+this.Me;var v=-(this.J/2*l)+this.Le;1<this.$&&1<this.B&&(w=.4/(this.$-1),
t=.6);this.Zd(t);var A=0;var B=e;for(r=0;r<this.H;r+=1){var D=C[B&y];var E=v;this.T&&(E+=.5*(B|0));for(B=0;B<m;B+=1){var G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l;G=D[E&z];p[A]=n[G];A+=1;E+=l}B=e+=a}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();C=b;for(b=1;b<x;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<x/2?this.K/
this.$*b*2|0:this.K+this.i/this.$*b|0:this.ee?1:(this.Sf+1)/this.$*b|0,t+=w,this.Zd(t),a/=this.B,l/=this.B,c*=this.B,z=d,d=.125>c?15:.25>c?7:.5>c?3:1>c?1:0,d!==z&&(C=this.S),z=this.Ab&~d,y=this.Cb&~d,e=-(this.H/2*a)+this.Me,v=-(this.J/2*l)+this.Le,A=0,B=e,r=0;r<this.H;r+=1){D=C[B&y];E=v;this.T&&(E+=.5*(B|0));for(B=0;B<m;B+=1)G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=
n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=l;B=e+=a}};q.prototype.Ph=function(a,b,d,f,m){var n=Math.sin(this.ib/180*Math.PI)/this.oa,p=Math.cos(this.ib/180*Math.PI)/this.oa,r=this.P?ViewConstants.ie:1,x=this.J,t=this.H,w=-(this.J/2*-n+this.H/2*p/r)+this.Me,z=-(this.J/2*p+this.H/2*n)+this.Le,y=w+x*-n,C=z+x*p;r=w+t*p/r;t=z+t*n;n=r+x*-n;p=t+x*p;x=r;var c=t;p<c&&(c=p);z<c&&(c=z);C<c&&(c=z);p>t&&(t=p);z>t&&(t=z);C>
t&&(t=C);n>x&&(x=n);w>x&&(x=w);y>x&&(x=y);n<r&&(r=n);w<r&&(r=w);y<r&&(r=y);0>(c|0)||(t|0)>=this.width||0>(r|0)||(x|0)>=this.height?0===this.ib?this.xh&&!this.T&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Zd(1),this.width!==this.ia?this.vp(a,c,r,t,x,this.Te[0],f,m):this.vp(a,c,r,t,x,this.kl,f,m)):this.GI(a,b,d,f):this.FI(a,b,d,f):0===this.ib?this.xh&&!this.T&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Zd(1),this.vp(a,c,r,t,x,this.Te[0],f,m)):this.II(a,b,d,f):this.HI(a,b,d,f)};q.prototype.vp=
function(a,b,d,f,m,n,p,r){var x=this.Te,t=this.qk,w=this.nj,z=this.oj,y=(this.oa|0)<<1,C=this.jd.width,c=C*y,l=f-b,e=m-d,v=this.oa*(this.P?ViewConstants.ie:1),A=-(b-Math.floor(b))*this.oa,B=-(d-Math.floor(d))*v,D=this.width-1,E=this.height-1,G,F=0,I,L=y>>1,K;d|=0;b|=0;l=(l|0)+2;e=(e|0)+2;f=b+l;m=d+e;switch(L){case 1:var J=c;for(K=l<<1;d<m;d+=1){if((d&E)!==d)t.fill(n,F,F+K),F+=C,t.fill(n,F,F+K);else{var M=a[d];var H=F;for(G=b;G<f;G+=1){var U=(G&D)!==G?n:x[M[G]];t[F]=U;t[F+1]=U;F+=2}F=H+C;t.copyWithin(F,
H,H+K)}F=J;J+=c}break;case 2:J=c;for(K=l<<2;d<m;d+=1){if((d&E)!==d)t.fill(n,F,F+K),F+=C,t.fill(n,F,F+K),F+=C,t.fill(n,F,F+K),F+=C,t.fill(n,F,F+K);else{M=a[d];H=F;for(G=b;G<f;G+=1)U=(G&D)!==G?n:x[M[G]],t[F]=U,t[F+1]=U,t[F+2]=U,t[F+3]=U,F+=4;F=H+C;t.copyWithin(F,H,H+K);F+=C;H+=C;t.copyWithin(F,H,H+K);F+=C;H+=C;t.copyWithin(F,H,H+K)}F=J;J+=c}break;default:for(J=c,K=l*y;d<m;d+=1){if((d&E)!==d)for(M=0;M<L;M+=1)t.fill(n,F,F+K),F+=C,t.fill(n,F,F+K),F+=C;else{M=a[d];H=F;for(G=b;G<f;G+=1)for(U=(G&D)!==G?n:
x[M[G]],I=0;I<L;I+=1)t[F]=U,t[F+1]=U,F+=2;F=H+C;for(M=1;M<y;M+=1)t.copyWithin(F,H,H+K),H+=C,F+=C}F=J;J+=c}}w.putImageData(z,0,0,0,0,l*y,e*y);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.jd,0,0,l*y,e*y,A,B,l*this.oa,e*v);this.context.imageSmoothingEnabled=!1;p||r||(this.qc||this.kd)&&this.Vh()?(this.Oc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.yd=new Uint32Array(this.Oc.data.buffer),p&&this.Jd(),(this.qc||this.kd)&&this.Vh()&&this.Hd()):
this.mk=!1};q.prototype.tp=function(a,b,d,f,m,n,p,r,x){var t=this.Te,w=this.qk,z=this.nj,y=this.oj,C=(this.oa|0)<<1,c=this.jd.width,l=c*C,e=m-d,v=n-f,A=-(d-Math.floor(d))*this.oa,B=-(f-Math.floor(f))*this.oa,D=this.width-1,E=this.height-1,G,F=0,I=this.Qa,L=C>>1,K=ViewConstants.bb[3]+128,J=ViewConstants.bb[4]+128,M=ViewConstants.bb[5]+128,H=ViewConstants.bb[6]+128,U;f|=0;d|=0;e=(e|0)+2;v=(v|0)+2;m=d+e;n=f+v;switch(L){case 1:var qa=l;for(U=e<<1;f<n;f+=1){if((f&E)!==f)w.fill(p,F,F+U),F+=c,w.fill(p,F,
F+U);else{var ka=b[f];var O=a[f];var ca=F;for(G=d;G<m;G+=1){if((G&D)!==G)var Q=p;else{Q=ka[G];var W=O[G];W===J||W===H?(Q>=I&&(W=K),Q=t[W]):W===K||W===M?(Q<I&&(W=J),Q=t[W]):Q=t[Q]}w[F]=Q;w[F+1]=Q;F+=2}F=ca+c;w.copyWithin(F,ca,ca+U)}F=qa;qa+=l}break;case 2:qa=l;for(U=e<<2;f<n;f+=1){if((f&E)!==f)w.fill(p,F,F+U),F+=c,w.fill(p,F,F+U),F+=c,w.fill(p,F,F+U),F+=c,w.fill(p,F,F+U);else{ka=b[f];O=a[f];ca=F;for(G=d;G<m;G+=1)(G&D)!==G?Q=p:(Q=ka[G],W=O[G],W===J||W===H?(Q>=I&&(W=K),Q=t[W]):W===K||W===M?(Q<I&&(W=
J),Q=t[W]):Q=t[Q]),w[F]=Q,w[F+1]=Q,w[F+2]=Q,w[F+3]=Q,F+=4;F=ca+c;w.copyWithin(F,ca,ca+U);F+=c;ca+=c;w.copyWithin(F,ca,ca+U);F+=c;ca+=c;w.copyWithin(F,ca,ca+U)}F=qa;qa+=l}break;default:for(qa=l,U=e*C;f<n;f+=1){if((f&E)!==f)for(ka=0;ka<L;ka+=1)w.fill(p,F,F+U),F+=c,w.fill(p,F,F+U),F+=c;else{ka=b[f];O=a[f];ca=F;for(G=d;G<m;G+=1)for((G&D)!==G?Q=p:(Q=ka[G],W=O[G],W===J||W===H?(Q>=I&&(W=K),Q=t[W]):W===K||W===M?(Q<I&&(W=J),Q=t[W]):Q=t[Q]),W=0;W<L;W+=1)w[F]=Q,w[F+1]=Q,F+=2;F=ca+c;for(ka=1;ka<C;ka+=1)w.copyWithin(F,
ca,ca+U),ca+=c,F+=c}F=qa;qa+=l}}z.putImageData(y,0,0,0,0,e*C,v*C);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.jd,0,0,e*C,v*C,A,B,e*this.oa,v*this.oa);this.context.imageSmoothingEnabled=!1;r||x||(this.qc||this.kd)&&this.Vh()?(this.Oc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.yd=new Uint32Array(this.Oc.data.buffer),r&&this.Jd(),(this.qc||this.kd)&&this.Vh()&&this.Hd()):this.mk=!1};q.prototype.BI=function(a,b,d,f){var m=this.J>>3,n=
this.Te,p=this.yd,r=0,x=0;var t=this.width;var w=this.height;var z=ViewConstants.bb[3]+128,y=ViewConstants.bb[4]+128,C=ViewConstants.bb[5]+128,c=ViewConstants.bb[6]+128,l=1,e=1,v=0,A=this.ia,B=this.Qa,D=this.Ab&~d,E=this.Cb&~d,G=~d,F=~d,I=this.kl,L=n[0],K=b,J=this.oa;1<this.B&&(l=this.$);var M=Math.sin(this.ib/180*Math.PI)/this.oa;var H=Math.cos(this.ib/180*Math.PI)/this.oa;var U=-(this.J/2*-M+this.H/2*H)+this.Me;var qa=-(this.J/2*H+this.H/2*M)+this.Le;1<this.$&&1<this.B&&(v=.4/(this.$-1),e=.6);for(this.Zd(e);t<
A;)r+=t>>1,t<<=1;for(;w<A;)x+=w>>1,w<<=1;var ka=0;var O=U;for(t=0;t<this.H;t+=1){var ca=qa;for(w=0;w<m;w+=1){if(0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)){var Q=K[O&E][ca&D];var W=a[O&E][ca&D];W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0;p[ka]=Q}else p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,
p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=
H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&
E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M;0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)?(Q=K[O&E][ca&D],W=a[O&E][ca&D],W===y||W===c?(Q>=B&&(W=z),Q=n[W]|0):W===z||W===C?(Q<B&&(W=y),Q=n[W]|0):Q=n[Q]|0,p[ka]=Q):p[ka]=0<=ca+r&&ca+r<A&&0<=O+x&&O+x<A?L:I;ka+=1;ca+=H;O-=M}qa+=M;O=U+=H}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();K=b;for(a=1;a<l;a+=1)for(b=2<this.i?0===this.K?
this.i/this.$*a|0:a<l/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.ee?1:(this.Sf+1)/this.$*a|0,e+=v,this.Zd(e),M/=this.B,H/=this.B,J*=this.B,U=d,.125>J?d=15:.25>J?d=7:.5>J?d=3:1>J?d=1:(K=this.S,d=0),d!==U&&(K=this.S),D=this.Ab&~d,E=this.Cb&~d,G=~d,F=~d,U=-(this.J/2*-M+this.H/2*H)+this.Me,qa=-(this.J/2*H+this.H/2*M)+this.Le,ka=0,O=U,t=0;t<this.H;t+=1){ca=qa;for(w=0;w<m;w+=1)0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&
D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&D)&&
0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M,0<=ca&&(ca&G)===(ca&D)&&0<=O&&(O&F)===(O&E)&&(Q=K[O&E][ca&D]|0,Q>=b&&(p[ka]=n[Q])),ka+=1,ca+=H,O-=M;qa+=M;O=U+=H}};q.prototype.DI=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r,x,t=ViewConstants.bb[3]+128,w=ViewConstants.bb[4]+128,z=ViewConstants.bb[5]+128,y=ViewConstants.bb[6]+128,C=1,c=1,l=0,e=this.Qa,v=this.Ab&~d,A=this.Cb&~d,B=b,D=this.oa;1<this.B&&(C=this.$);var E=Math.sin(this.ib/180*Math.PI)/this.oa;var G=
Math.cos(this.ib/180*Math.PI)/this.oa;var F=-(this.J/2*-E+this.H/2*G)+this.Me;var I=-(this.J/2*G+this.H/2*E)+this.Le;1<this.$&&1<this.B&&(l=.4/(this.$-1),c=.6);this.Zd(c);var L=0;var K=F;for(r=0;r<this.H;r+=1){var J=I;for(x=0;x<m;x+=1){var M=B[K&A][J&v];var H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=
E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=
M;L+=1;J+=G;K-=E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=E;M=B[K&A][J&v];H=a[K&A][J&v];H===w||H===y?(M>=e&&(H=t),M=n[H]|0):H===t||H===z?(M<e&&(H=w),M=n[H]|0):M=n[M]|0;p[L]=M;L+=1;J+=G;K-=E}I+=E;K=F+=G}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();B=b;for(a=1;a<C;a+=1)for(b=2<this.i?0===this.K?this.i/this.$*a|0:a<C/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.ee?1:(this.Sf+1)/this.$*a|0,c+=l,this.Zd(c),
E/=this.B,G/=this.B,D*=this.B,r=d,.125>D?d=15:.25>D?d=7:.5>D?d=3:1>D?d=1:(B=this.S,d=0),d!==r&&(B=this.S),v=this.Ab&~d,A=this.Cb&~d,F=-(this.J/2*-E+this.H/2*G)+this.Me,I=-(this.J/2*G+this.H/2*E)+this.Le,L=0,K=F,r=0;r<this.H;r+=1){J=I;for(x=0;x<m;x+=1)M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&
A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E,M=B[K&A][J&v]|0,M>=b&&(p[L]=n[M]),L+=1,J+=G,K-=E;I+=E;K=F+=G}};q.prototype.EI=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r,x=ViewConstants.bb[3]+128,t=ViewConstants.bb[4]+128,w=ViewConstants.bb[5]+128,z=ViewConstants.bb[6]+128,y=1,C=1,c=0,l=this.Qa,e=this.Ab&~d,v=this.Cb&~d,A=b,B=this.oa;1<this.B&&(y=this.$);var D=1/this.oa;this.P&&(D/=ViewConstants.ie);var E=1/this.oa;var G=-(this.H/2*D)+this.Me;
var F=-(this.J/2*E)+this.Le;1<this.$&&1<this.B&&(c=.4/(this.$-1),C=.6);this.Zd(C);var I=0;var L=G;for(r=0;r<this.H;r+=1){var K=A[L&v];var J=a[L&v];var M=F;this.T&&(M+=.5*(L|0));for(L=0;L<m;L+=1){var H=K[M&e];var U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<
l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=
E;H=K[M&e];U=J[M&e];U===t||U===z?(H>=l&&(U=x),H=n[U]|0):U===x||U===w?(H<l&&(U=t),H=n[U]|0):H=n[H]|0;p[I]=H;I+=1;M+=E}L=G+=D}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();A=b;for(a=1;a<y;a+=1)for(b=2<this.i?0===this.K?this.i/this.$*a|0:a<y/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.ee?1:(this.Sf+1)/this.$*a|0,C+=c,this.Zd(C),D/=this.B,E/=this.B,B*=this.B,r=d,.125>B?d=15:.25>B?d=7:.5>B?d=3:1>B?d=1:(A=this.S,d=0),d!==r&&(A=this.S),e=this.Ab&~d,v=this.Cb&~d,G=-(this.H/2*D)+this.Me,F=
-(this.J/2*E)+this.Le,I=0,L=G,r=0;r<this.H;r+=1){K=A[L&v];M=F;this.T&&(M+=.5*(L|0));for(L=0;L<m;L+=1)H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E,H=K[M&e]|0,H>=b&&(p[I]=n[H]),I+=1,M+=E;L=G+=D}};q.prototype.CI=function(a,b,d,f){var m=this.J>>3,n=this.Te,p=this.yd,r=0,x=0;var t=
this.width;var w=this.height;var z=ViewConstants.bb[3]+128,y=ViewConstants.bb[4]+128,C=ViewConstants.bb[5]+128,c=ViewConstants.bb[6]+128,l=1,e=1,v=0,A=this.ia;var B=0;var D=this.kl,E=n[0],G=this.Qa,F=this.Ab&~d,I=this.Cb&~d,L=~d,K=~d,J=b,M=this.oa;1<this.B&&(l=this.$);var H=1/this.oa;this.P&&(H/=ViewConstants.ie);var U=1/this.oa;var qa=-(this.H/2*H)+this.Me;var ka=-(this.J/2*U)+this.Le;1<this.$&&1<this.B&&(v=.4/(this.$-1),e=.6);for(this.Zd(e);t<A;)r+=t>>1,t<<=1;for(;w<A;)x+=w>>1,w<<=1;var O=0;var ca=
qa;for(t=0;t<this.H;t+=1){if(0<=ca&&(ca&K)===(ca&I)){var Q=J[ca&I];var W=a[ca&I];w=ka;this.T&&(w+=.5*(ca|0));for(ca=0;ca<m;ca+=1){if(0<=w&&(w&L)===(w&F)){B=Q[w&F];var ia=W[w&F];ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0}else 0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&
F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&
F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U;0<=w&&(w&L)===(w&F)?(B=Q[w&F],ia=W[w&F],ia===y||ia===c?(B>=G&&(ia=z),B=n[ia]|0):ia===z||ia===C?(B<G&&(ia=y),B=n[ia]|0):B=n[B]|0):0<=w+r&&w+r<A?B=E:B=D;p[O]=B;O+=1;w+=U}}else if(0<=ca+x&&ca+x<A)for(w=
ka,this.T&&(w+=.5*(ca|0)),ca=0;ca<this.J;ca+=1)p[O]=0<=w+r&&w+r<A?E:D,O+=1,w+=U;else p.fill(D,O,O+this.J+1),O+=this.J;ca=qa+=H}f&&this.Jd();(this.qc||this.kd)&&this.Vh()&&this.Hd();J=b;for(a=1;a<l;a+=1)for(b=2<this.i?0===this.K?this.i/this.$*a|0:a<l/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.ee?1:(this.Sf+1)/this.$*a|0,e+=v,this.Zd(e),H/=this.B,U/=this.B,M*=this.B,qa=d,.125>M?d=15:.25>M?d=7:.5>M?d=3:1>M?d=1:(J=this.S,d=0),d!==qa&&(J=this.S),F=this.Ab&~d,I=this.Cb&~d,L=~d,K=~d,qa=-(this.H/
2*H)+this.Me,ka=-(this.J/2*U)+this.Le,O=0,ca=qa,t=0;t<this.H;t+=1){if(0<=ca&&(ca&K)===(ca&I))for(Q=J[ca&I],w=ka,this.T&&(w+=.5*(ca|0)),ca=0;ca<m;ca+=1)0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=
n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U,0<=w&&(w&L)===(w&F)&&(B=Q[w&F]|0,B>=b&&(p[O]=n[B])),O+=1,w+=U;else O+=m<<3;ca=qa+=H}};q.prototype.Oh=function(a,b,d,f,m){var n=Math.sin(this.ib/180*Math.PI)/this.oa,p=Math.cos(this.ib/180*Math.PI)/this.oa,r=this.J,x=this.H,t=-(this.J/2*-n+this.H/2*p)+this.Me,w=-(this.J/2*p+this.H/2*n)+this.Le,z=t+r*-n,y=w+r*p,C=t+x*p;x=w+x*n;n=C+r*-n;p=x+r*p;r=C;var c=x;p<c&&(c=p);w<c&&(c=w);y<c&&(c=w);p>x&&(x=p);w>x&&(x=w);y>x&&(x=y);
n>r&&(r=n);t>r&&(r=t);z>r&&(r=z);n<C&&(C=n);t<C&&(C=t);z<C&&(C=z);0>(c|0)||(x|0)>=this.width||0>(C|0)||(r|0)>=this.height?0===this.ib?this.xh&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Zd(1),this.width!==this.ia?this.tp(a,b,c,C,x,r,this.Te[0],f,m):this.tp(a,b,c,C,x,r,this.kl,f,m)):this.CI(a,b,d,f):this.BI(a,b,d,f):0===this.ib?this.xh&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Zd(1),this.tp(a,b,c,C,x,r,this.Te[0],f,m)):this.EI(a,b,d,f):this.DI(a,b,d,f)};q.prototype.Lr=function(){var a;
if(this.mk){if(!this.Oc.data.buffer){var b=this.Oc.data;var d=this.dl;var f=d.length;for(a=0;a<f;)b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1}if(0!==this.Na){var m,n;a=this.context.canvas.width;f=this.context.canvas.height;b=this.yd;d=this.lj;var p=a>>1,r=f>>1;var x=this.Na-1;var t=this.kl,w=(2*x+2)/f;null===this.lj&&(d=this.lj=this.A.R(Uint32,a*f,"Life.tiltBuffer"));var z=-x;for(x=0;x<f;x+=1){var y=x-r;0>=z?m=f:m=y/z+r|0;var C=x*a;if(0>m||m>=f)for(n=0;n<a;n+=1)d[C+n]=t;else{var c=
m*a;y=-p/z+p;n=p/z+p;var l=(n-y)/a;for(n=0;n<a;n+=1){var e=y|0;d[C+n]=0>e||e>=a?t:b[c+e];y+=l}}z+=w}b.set(d)}this.context.putImageData(this.Oc,0,0)}};q.prototype.NA=function(a){this.yd.fill(a)};window.LifeConstants=k;window.Life=q}(),function(){function u(h,g){var q=0,k=0,a=h.length,b=!1,d=!1,f=!1,m=0,n=new Uint32Array(a),p=new Uint16Array(a),r=new Uint32Array(a),x=0,t=0;-1!==h.indexOf("&")&&(h=h.replace(/&amp;/g,"&"),h=h.replace(/&lt;/g,"<"),h=h.replace(/&gt;/g,">"),a=h.length);for(;q<a;){var w=
h.charCodeAt(q);switch(w){case 32:case 13:case 9:case 123:case 125:!d&&b&&(n[m]=k,p[m]=q-k,r[m]=(x<<1)+1&t,m+=1,b=!1);break;case 44:g?!d&&b&&(n[m]=k,p[m]=q-k,r[m]=(x<<1)+1&t,m+=1,b=!1):b||(b=!0,t=0,d=!1,k=q);break;case 10:b&&(n[m]=k,p[m]=q-k,r[m]=(x<<1)+1&t,m+=1,b=!1);d=!1;g&&(0<m&&"\n"!==h[n[m-1]]&&(n[m]=q,p[m]=1,r[m]=0,m+=1),f=!1);break;case 58:case 61:g?d||(b&&(n[m]=k,p[m]=q-k,r[m]=(x<<1)+1&t,m+=1,b=!1),n[m]=q,p[m]=1,r[m]=0,m+=1):b||(b=!0,t=0,d=!1,k=q);break;case 34:g?d||(f=!f,b||(b=!0,k=q)):b||
(b=!0,t=0,k=q);break;case 35:g?f||d||(b&&(n[m]=k,p[m]=q-k,r[m]=(x<<1)+1&t,m+=1,b=!1),d=!0):b||(b=!0,t=0,d=!1,k=q);break;default:d||(b?48<=w&&57>=w?(x=10*x+w-48,1073741824<=x&&(t=0)):t=0:(b=!0,k=q,48<=w&&57>=w?(t=-1,x=w-48):t=0))}q+=1}b&&(n[m]=k,p[m]=q-k,r[m]=(x<<1)+1&t,m+=1);this.B=n.slice(0,m);this.G=p.slice(0,m);this.U=r.slice(0,m);this.current=0;this.source=h}u.prototype.VK=function(h,g){return 0>h||h>=this.B.length||0>g||g>=this.B.length||h>g?"":this.source.substring(this.B[h],this.B[g]+this.G[g])};
u.prototype.KH=function(){0<this.current&&--this.current};u.prototype.sn=function(){for(;this.current<this.B.length&&10!==this.source.charCodeAt(this.B[this.current]);)this.current+=1;this.current<this.B.length&&(this.current+=1)};u.prototype.qx=function(){for(;this.current<this.B.length&&10===this.source.charCodeAt(this.B[this.current]);)this.current+=1};u.prototype.jM=function(){var h=!1;this.current<this.B.length&&10!==this.source.charCodeAt(this.B[this.current])&&(h=!0);return h};u.prototype.oq=
function(){var h=!1;this.current<this.B.length&&10===this.source.charCodeAt(this.B[this.current])&&(h=!0);return h};u.prototype.W=function(){var h="";this.current<this.B.length&&(h=this.source.substr(this.B[this.current],this.G[this.current]),this.current+=1);return h};u.prototype.lF=function(){var h;for(h=this.W();"\n"===h;)h=this.W();return h};u.prototype.Ha=function(){var h="";this.current<this.B.length&&(h=this.source.substr(this.B[this.current],this.G[this.current]));return h};u.prototype.eF=
function(){return this.na(Keywords.To,-1,!1)};u.prototype.Qp=function(h,g){return this.na(h,g,!0)};u.prototype.na=function(h,g,q){var k=-1,a=this.current;for(-1!==g&&0<=g&&g<this.B.length&&(a=g);a<this.B.length&&-1===k;){if(h.length===this.G[a]){var b=0;for(g=!0;g&&b<h.length;)h[b]!==this.source[this.B[a]+b]?g=!1:b+=1}else g=!1;g&&(q&&0!==a&&10!==this.source.charCodeAt(this.B[a-1])&&(g=!1),g&&(k=a));a+=1}-1!==k&&(this.current=a);return k};u.prototype.Dm=function(h){return!isNaN(parseFloat(h))&&isFinite(Number(h))};
u.prototype.da=function(h){var g=!1,q=h.indexOf("/");-1!==q&&(g=h.substr(0,q),h=h.substr(q+1),g=this.Dm(g)&&this.Dm(h));return g};u.prototype.Py=function(h){var g=0;if(this.da(h)){var q=h.indexOf("/");var k=h.substr(0,q);h=h.substr(q+1);0!==Number(h)&&(g=Number(k)/Number(h))}else this.Dm(h)&&(g=parseFloat(h));return g};u.prototype.O=function(){var h=0;this.current<this.B.length&&(0!==this.U[this.current]?(h=this.U[this.current]>>1,this.current+=1):(h=this.W(),h=this.Py(h)));return h};u.prototype.N=
function(){var h=!1;if(this.current<this.B.length)if(this.U[this.current])h=!0;else{var g=this.source.substr(this.B[this.current],this.G[this.current]);this.da(g)?h=!0:h=this.Dm(g)}return h};u.prototype.MK=function(){var h=!1;var g=this.current+1;g<this.B.length&&(this.U[g]?h=!0:(g=this.source.substr(this.B[g],this.G[g]),this.da(g)?h=!0:h=this.Dm(g)));return h};u.prototype.zK=function(){this.current=this.B.length};window.Script=u}(),function(){function u(b){this.C=b;this.Oo=this.di=this.aq=!1;this.rh=
a.hB;this.Ok=a.Cq;this.jb=this.ec=-1;this.Na=this.angle=this.y=this.x=0;this.depth=this.$=this.zoom=1;this.Nc=0;this.Hc=60;this.step=1;this.fd=this.nc=0;this.hg="";this.kt=this.yl=this.ux=this.Wt=this.Zl=this.Yl=this.ZC=this.NH=this.Dt=this.Im=this.zn=this.xf=this.Xf=this.Jg=this.Hi=this.Qi=this.le=this.ni=this.Th=this.Qf=this.jg=this.zd=this.tn=this.wi=this.ui=this.si=this.Ef=!1}function h(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v){this.coords=b;this.oA=d;this.zoom=f;this.Xa=m;this.Hb=n;this.ih=p;this.alpha=
r;this.size=x;this.vc=t;this.Eh=w;this.Qd=z;this.angle=y;this.am=C;this.gn=c;this.gg=l;this.om=e;this.pm=v;-1E3===this.Hb&&-1E3===this.Xa&&(this.Xa=this.zoom/4,this.Hb=4*this.zoom)}function g(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A,B,D){this.eE=b;this.fE=d;this.vI=f;this.wI=m;this.zoom=n;this.Xa=p;this.Hb=r;this.ih=x;this.alpha=t;this.size=w;this.yF=z;this.vc=y;this.Eh=C;this.Qd=c;this.angle=l;this.am=e;this.gn=v;this.gg=A;this.om=B;this.pm=D;-1E3===this.Hb&&-1E3===this.Xa&&(this.Xa=this.zoom/4,this.Hb=
4*this.zoom)}function q(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A){this.message="";this.yh=this.Sk=this.Fv=this.Fq=-1;this.x=b;this.y=d;this.zoom=f;this.Xa=m;this.Hb=n;this.ih=p;this.alpha=r;this.size=x;this.lO=t;this.vc=w;this.Eh=z;this.Qd=y;this.angle=C;this.am=c;this.gn=l;this.gg=e;this.om=v;this.pm=A;-1E3===this.Hb&&-1E3===this.Xa&&(this.Xa=this.zoom/4,this.Hb=4*this.zoom)}function k(){this.Va=[];this.yc=[];this.sf=[];this.Tf=[];this.ag=[];this.current=new u(this);this.ab=new u(this);this.G=new u(this);
this.U=!1;this.bj=0;this.Xr=this.da=!1}var a={hB:0,play:1,stop:2,Cq:12,YG:0,XG:200};u.prototype.set=function(b){this.aq=b.aq;this.di=b.di;this.Oo=b.Oo;this.rh=b.rh;this.Ok=b.Ok;this.ec=b.ec;this.jb=b.jb;this.x=b.x;this.y=b.y;this.si=b.si;this.ui=b.ui;this.wi=b.wi;this.Ef=b.Ef;this.angle=b.angle;this.Na=b.Na;this.zoom=b.zoom;this.$=b.$;this.depth=b.depth;this.Nc=b.Nc;this.Hc=b.Hc;this.step=b.step;this.nc=b.nc;this.fd=b.fd;this.hg=b.hg;this.tn=b.tn;this.zd=b.zd};u.prototype.B=function(){var b="";switch(this.rh){case a.play:b=
Keywords.Dq;break;case a.stop:b=Keywords.Eq}return b};u.prototype.$N=function(b){this.di?(this.rh!==a.hB&&(b[b.length]=[Keywords.Dq,"overwrites "+this.B()]),this.rh=a.play):b[b.length]=[Keywords.Dq,"only valid at POI"]};u.prototype.dO=function(b){this.di?(this.rh!==a.hB&&(b[b.length]=[Keywords.Eq,"overwrites "+this.B()]),this.rh=a.stop):b[b.length]=[Keywords.Eq,"only valid at POI"]};u.prototype.aO=function(b){this.di?(this.Oo&&(b[b.length]=[Keywords.et,"already defined"]),this.Oo=!0):b[b.length]=
[Keywords.et,"only valid at POI"]};u.prototype.fO=function(b,d){this.di?(this.Ok!==a.Cq&&(d[d.length]=[Keywords.ft+" "+b,"overwrites "+this.Ok]),this.Ok=b):d[d.length]=[Keywords.ft,"only valid at POI"]};u.prototype.G=function(b,d,f){var m=b.fd+0,n=d.fd+0,p=b.angle+0,r=d.angle+0,x=1,t=1,w=1,z=1,y=1;f>n&&(f=n);n-m===ViewConstants.kO&&(m=n);n!==m&&(x=Math.round((f-m)/(n-m)*1E6)/1E6,t=this.C.tE(x)+0);d.si||d.Ef?w=x:w=t;d.ui||d.Ef?z=x:z=t;d.wi||d.Ef?y=x:y=t;this.x=b.x+w*(d.x-b.x);this.y=b.y+z*(d.y-b.y);
this.zoom=b.zoom*Math.pow(d.zoom/b.zoom,y);180<r-p?p+=360:-180>r-p&&(r+=360);this.angle=(p+t*(r-p))%360;this.Na=b.Na+t*(d.Na-b.Na);this.$=b.$+x*(d.$-b.$)|0;this.depth=b.depth+x*(d.depth-b.depth);this.Nc=d.Nc;this.Hc=d.Hc;this.step=d.step;this.nc=b.nc+x*(d.nc-b.nc)|0;this.fd=f;this.hg=d.hg;this.Ef=d.Ef;this.aq=d.aq};k.prototype.ZJ=function(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v){return new h(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v)};k.prototype.Eb=function(){this.ag=[]};k.prototype.ZI=function(b){this.ag[this.ag.length]=
b};k.prototype.UJ=function(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A,B,D){return new g(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A,B,D)};k.prototype.gb=function(){this.Tf=[]};k.prototype.WI=function(b){this.Tf[this.Tf.length]=b};k.prototype.XJ=function(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A){return new q(b,d,f,m,n,p,r,x,t,w,z,y,C,c,l,e,v,A)};k.prototype.zb=function(){this.sf=[]};k.prototype.jE=function(b){b.Fq=b.message.indexOf("#P");b.Fv=b.message.indexOf("#G");b.Sk=b.message.indexOf("#H");b.Il=b.message.indexOf("#I");
b.yh=b.message.indexOf("#J");this.sf[this.sf.length]=b};k.prototype.Ao=function(){return this.sf.length+this.Tf.length+this.ag.length};k.prototype.xJ=function(){this.zb();this.gb();this.Eb()};k.prototype.JM=function(b){var d="",f="";0<=b&&b<this.ag.length&&(b=this.ag[b],b.gn&&(f="*"),d=b.oA?"FILL\t":"LINE\t",d+="X1"+f+" "+b.coords[0]+"\tY1"+f+" "+b.coords[1]);return d};k.prototype.KM=function(b){var d="",f="";0<=b&&b<this.ag.length&&(d=this.ag[b],b=d.zoom,0<=b&&1>b&&(b=-1/b),d.am&&(f="*"),d="Z "+
b.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.LM=function(b){var d="";0<=b&&b<this.ag.length&&(b=this.ag[b],d="Alpha "+b.alpha.toFixed(1),-1!==b.vc&&(d+="\tT1 "+b.vc+"\tT2 "+b.Eh,0<b.Qd&&(d+="\tFade "+b.Qd)));return d};k.prototype.MM=function(b){var d="";0<=b&&b<this.ag.length&&(d=this.ag[b].ih);return d};k.prototype.lJ=function(b){var d="",f="";0<=b&&b<this.Tf.length&&(b=this.Tf[b],b.gn&&(f="*"),d="X1"+f+" "+b.eE+"\tY1"+f+" "+b.fE,d+="\tX2"+f+" "+b.vI+"\tY2"+f+" "+b.wI);return d};
k.prototype.mJ=function(b){var d="",f="";0<=b&&b<this.Tf.length&&(d=this.Tf[b],b=d.zoom,0<=b&&1>b&&(b=-1/b),d.am&&(f="*"),d="Z "+b.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.nJ=function(b){var d="";0<=b&&b<this.Tf.length&&(b=this.Tf[b],d="Alpha "+b.alpha.toFixed(1),-1!==b.vc&&(d+="\tT1 "+b.vc+"\tT2 "+b.Eh,0<b.Qd&&(d+="\tFade "+b.Qd)));return d};k.prototype.Hu=function(b){var d="";0<=b&&b<this.Tf.length&&(d=this.Tf[b].ih);return d};k.prototype.LL=function(b){var d="",f="",m="";
if(0<=b&&b<this.sf.length){var n=this.sf[b];b=n.zoom;0<=b&&1>b&&(b=-1/b);n.gn&&(f="*");n.am&&(m="*");d="X"+f+" "+n.x+"\tY"+f+" "+n.y;d+="\tZ "+b.toFixed(1)+"\tA"+m+" "+n.angle.toFixed(1)}return d};k.prototype.ML=function(b){var d="";0<=b&&b<this.sf.length&&(b=this.sf[b],d="Alpha "+b.alpha.toFixed(1),-1!==b.vc&&(d+="\tT1 "+b.vc+"\tT2 "+b.Eh,0<b.Qd&&(d+="\tFade "+b.Qd)));return d};k.prototype.NL=function(b){var d="";0<=b&&b<this.sf.length&&(b=this.sf[b],d="Size "+b.size+'\t"'+b.message+'"');return d};
k.prototype.OL=function(b){var d="";0<=b&&b<this.sf.length&&(d=this.sf[b].ih);return d};k.prototype.Dc=function(){this.sf.sort(function(b,d){return b.zoom-d.zoom})};k.prototype.uc=function(){this.Tf.sort(function(b,d){return b.zoom-d.zoom})};k.prototype.Oc=function(){this.ag.sort(function(b,d){return b.zoom-d.zoom})};k.prototype.nO=function(){this.Dc();this.uc();this.Oc()};k.prototype.na=function(b,d){var f,m=b.g,n=m.context,p=m.width/2-m.Ca-m.dc,r=m.height/2-m.va-m.Zb,x=m.zoom*m.Bc,t=m.zoom*m.Bc*
(m.P?ViewConstants.ie:1),w=m.J/2,z=m.H/2,y=b.g.counter,C=m.T?-(m.height>>2):0,c=0,l=m.Na,e=l-1,v=1,A=0,B=0,D=0,E=0,G=b.Mb/b.Ma;m.T&&(p+=r/2);d&&(n.strokeStyle=ViewConstants.pJ);for(f=0;f<this.Tf.length;f+=1){var F=this.Tf[f];var I=!0;-1!==F.vc&&(y<F.vc||y>F.Eh)&&(I=!1);if(I){var L=F.size*x/F.zoom;d&&(c=1,24<=L&&(c=2,48<=L&&(c=3)));if(x>=F.Xa&&x<=F.Hb){var K=Math.log(x/F.Xa)/Math.log(F.Hb/F.Xa);K=.25>=K?4*K:.75<=K?4*(1-K):1;var J=1;-1!==F.vc&&0<F.Qd&&(y-F.vc<F.Qd?J=(y-F.vc+1)/F.Qd:F.Eh-y<F.Qd&&(J=
(F.Eh-y+1)/F.Qd));I=!0;var M=1;if(-1!==F.gg){var H=b.Uz(F.x,F.y);H>F.gg?I=!1:0<F.gg&&.75<H/F.gg&&(M=4*(1-H/F.gg))}I&&(n.globalAlpha=K*F.alpha*J*M,M=F.fE+r-(b.qb>>1)+.5,K=F.eE+p+C-(b.kb>>1)+.5,F.gn||(K+=m.dc,M+=m.Zb),-1!==F.vc?(K+=F.om*(G-F.vc),M+=F.pm*(G-F.vc)):(K+=F.om*G,M+=F.pm*G),0!==m.ib&&(J=Math.sqrt(K*K+M*M),I=180/Math.PI*Math.atan2(M,K),I+=m.ib,K=J*Math.cos(Math.PI/180*I),M=J*Math.sin(Math.PI/180*I)),m.T&&(K-=M/2),I=M*t+z,H=K*x+w,K=(F.vI-F.eE)*x,J=(F.wI-F.fE)*t,m.T&&(K-=J/2),M=0===F.yF?0:Math.sqrt(K*
K+J*J)*F.yF,0!==l&&(v=-e+(2*e+2)/m.H*(m.H-I),I=(I-z)/v+z,H=(H-w)/v+w),0<=v&&(n.save(),n.translate(H,I),n.scale(1/v,1/v),I=F.angle,F.am||(I+=m.ib),n.rotate(I/180*Math.PI),n.lineWidth=L,d||(n.strokeStyle=F.ih),n.lineCap="round",n.lineJoin="round",0<M&&(F=Math.atan2(J,K),A=Math.cos(.85*Math.PI+F),B=Math.sin(.85*Math.PI+F),D=Math.cos(.85*-Math.PI+F),E=Math.sin(.85*-Math.PI+F)),0<c&&n.translate(c,c),n.beginPath(),n.moveTo(0,0),n.lineTo(K,J),0<M&&(n.moveTo(K,J),n.lineTo(K+M*A,J+M*B),n.moveTo(K,J),n.lineTo(K+
M*D,J+M*E)),n.stroke(),n.restore()))}}}n.globalAlpha=1};k.prototype.Kb=function(b){this.na(b,!0);this.na(b,!1)};k.prototype.Ba=function(b,d){var f,m=b.g,n=m.context,p=m.width/2-m.Ca-m.dc,r=m.height/2-m.va-m.Zb,x=m.zoom*m.Bc,t=m.zoom*m.Bc*(m.P?ViewConstants.ie:1),w=m.J/2,z=m.H/2,y=b.g.counter,C=m.T?-(m.height>>2):0,c=m.Na,l=c-1,e=1,v=0,A=b.Mb/b.Ma;d&&(n.strokeStyle=ViewConstants.$G,n.fillStyle=ViewConstants.$G);m.T&&(p+=r/2);for(f=0;f<this.ag.length;f+=1){var B=this.ag[f];var D=B.coords;var E=D.length;
var G=!0;-1!==B.vc&&(y<B.vc||y>B.Eh)&&(G=!1);if(G){var F=B.size*x/B.zoom;d&&(v=1,24<=F&&(v=2,48<=F&&(v=3)));if(x>=B.Xa&&x<=B.Hb){var I=Math.log(x/B.Xa)/Math.log(B.Hb/B.Xa);I=.25>=I?4*I:.75<=I?4*(1-I):1;var L=1;-1!==B.vc&&0<B.Qd&&(y-B.vc<B.Qd?L=(y-B.vc+1)/B.Qd:B.Eh-y<B.Qd&&(L=(B.Eh-y+1)/B.Qd));G=!0;var K=1;if(-1!==B.gg){var J=b.Uz(B.x,B.y);J>B.gg?G=!1:0<B.gg&&.75<J/B.gg&&(K=4*(1-J/B.gg))}if(G&&(n.globalAlpha=I*B.alpha*L*K,I=0,K=D[I]+p+C-(b.kb>>1)+.5,L=D[I+1]+r-(b.qb>>1)+.5,I+=2,B.gn||(K+=m.dc,L+=m.Zb),
-1!==B.vc?(K+=B.om*(A-B.vc),L+=B.pm*(A-B.vc)):(K+=B.om*A,L+=B.pm*A),0!==m.ib&&(G=Math.sqrt(K*K+L*L),L=180/Math.PI*Math.atan2(L,K),L+=m.ib,K=G*Math.cos(Math.PI/180*L),L=G*Math.sin(Math.PI/180*L)),m.T&&(K-=L/2),L=L*t+z,J=K*x+w,0!==c&&(e=-l+(2*l+2)/m.H*(m.H-L),L=(L-z)/e+z,J=(J-w)/e+w),0<=e)){K=(D[I]-D[0])*x/e;G=(D[I+1]-D[1])*t/e;m.T&&(K-=G/2);I+=2;n.save();n.translate(J,L);n.scale(1/e,1/e);L=B.angle;B.am||(L+=m.ib);n.rotate(L/180*Math.PI);n.lineWidth=F;d||(B.oA?n.fillStyle=B.ih:n.strokeStyle=B.ih);n.lineCap=
"round";n.lineJoin="round";0<v&&n.translate(v,v);n.beginPath();n.moveTo(0,0);for(n.lineTo(K,G);I<E;)K=(D[I]-D[0])*x/e,G=(D[I+1]-D[1])*t/e,m.T&&(K-=G/2),I+=2,n.lineTo(K,G);B.oA?n.fill():n.stroke();n.restore()}}}}n.globalAlpha=1};k.prototype.hc=function(b){this.Ba(b,!0);this.Ba(b,!1)};k.prototype.fc=function(b){var d,f=b.g,m=f.context,n=f.width/2-f.Ca-f.dc,p=f.height/2-f.va-f.Zb,r=f.zoom*f.Bc,x=f.zoom*f.Bc*(f.P?ViewConstants.ie:1),t=f.J/2,w=f.H/2,z=0,y=ViewConstants.RL,C="px "+ViewConstants.PL,c=b.g.counter,
l=f.Na,e=l-1,v=1,A=f.T?-(f.height>>2):0,B=b.Mb/b.Ma;f.T&&(n+=p/2);for(d=0;d<this.sf.length;d+=1){var D=this.sf[d];var E=!0;-1!==D.vc&&(c<D.vc||c>D.Eh)&&(E=!1);if(E){D.lO?z=D.size:z=D.size*r/D.zoom;var G=1;24<=z&&(G=2,48<=z&&(G=3));if(r>=D.Xa&&r<=D.Hb){var F=Math.log(r/D.Xa)/Math.log(D.Hb/D.Xa);m.font=z+C;F=.25>=F?4*F:.75<=F?4*(1-F):1;var I=1;-1!==D.vc&&0<D.Qd&&(c-D.vc<D.Qd?I=(c-D.vc+1)/D.Qd:D.Eh-c<D.Qd&&(I=(D.Eh-c+1)/D.Qd));E=!0;var L=1;if(-1!==D.gg){var K=b.Uz(D.x,D.y);K>D.gg?E=!1:0<D.gg&&.75<K/
D.gg&&(L=4*(1-K/D.gg))}if(E&&(m.globalAlpha=F*D.alpha*I*L,E=D.x+n+A-(b.kb>>1)+.5,L=D.y+p-(b.qb>>1)+.5,D.gn||(E+=f.dc,L+=f.Zb),-1!==D.vc?(E+=D.om*(B-D.vc),L+=D.pm*(B-D.vc)):(E+=D.om*B,L+=D.pm*B),0!==f.ib&&(F=Math.sqrt(E*E+L*L),L=180/Math.PI*Math.atan2(L,E),L+=f.ib,E=F*Math.cos(Math.PI/180*L),L=F*Math.sin(Math.PI/180*L)),f.T&&(E-=L/2),F=D.message,-1!==D.Fv&&(F=F.substr(0,D.Fv)+b.g.counter+F.substr(D.Fv+2),-1!==D.Fq&&(D.Fq=F.indexOf("#P")),-1!==D.Sk&&(D.Sk=F.indexOf("#H")),-1!==D.Il&&(D.Il=F.indexOf("#I")),
-1!==D.yh&&(D.yh=F.indexOf("#J"))),-1!==D.Fq&&(F=F.substr(0,D.Fq)+b.g.ga+F.substr(D.Fq+2),-1!==D.Sk&&(D.Sk=F.indexOf("#H")),-1!==D.Il&&(D.Il=F.indexOf("#I")),-1!==D.yh&&(D.yh=F.indexOf("#J"))),-1!==D.Sk&&(F=b.g.la||b.g.L?F.substr(0,D.Sk)+b.g.bf+F.substr(D.Sk+2):F.substr(0,D.Sk)+b.g.counter+F.substr(D.Sk+2),-1!==D.Il&&(D.Il=F.indexOf("#I")),-1!==D.yh&&(D.yh=F.indexOf("#J"))),-1!==D.Il&&(F=F.substr(0,D.Il)+(b.g.counter+b.Tg)+F.substr(D.Il+2),-1!==D.yh&&(D.yh=F.indexOf("#J"))),-1!==D.yh&&(F=b.g.la||
b.g.L?F.substr(0,D.yh)+(b.g.bf+b.Tg)+F.substr(D.yh+2):F.substr(0,D.yh)+(b.g.counter+b.Tg)+F.substr(D.yh+2)),I=F.indexOf("\\n"),L=L*x+w,E=E*r+t,0!==l&&(v=-e+(2*e+2)/f.H*(f.H-L),L=(L-w)/v+w,E=(E-t)/v+t),0<=v)){m.save();m.translate(E,L);m.scale(1/v,1/v);L=D.angle;D.am||(L+=f.ib);m.rotate(L/180*Math.PI);for(L=0;-1!==I;)E=F.substr(0,I),F=F.substr(I+2),I=m.measureText(E).width>>1,m.fillStyle=y,m.fillText(E,-I+G,L+G),m.fillStyle=D.ih,m.fillText(E,-I,L),L+=z,I=F.indexOf("\\n");I=m.measureText(F).width>>1;
m.fillStyle=y;m.fillText(F,-I+G,L+G);m.fillStyle=D.ih;m.fillText(F,-I,L);m.restore()}}}}m.globalAlpha=1};k.prototype.Gz=function(b){this.hc(b);this.Kb(b);this.fc(b)};k.prototype.rO=function(b){var d;for(d=this.Va.length-1;0<=d;--d){var f=this.Va[d];f.fd>b&&f.kt&&(this.bj=d,f.kt=!1)}};k.prototype.vN=function(){var b;for(b=0;b<this.Va.length;b+=1)this.Va[b].kt=!1;this.bj=0;this.da=!1};k.prototype.Gp=function(){return new u(this)};k.prototype.tE=function(b){return-2*Math.pow(b,3)+3*Math.pow(b,2)+0*b};
k.prototype.reset=function(){this.Va=[];this.yc=[];this.U=!1;this.bj=0};k.prototype.SL=function(){return this.Va[this.Va.length-1]};k.prototype.BK=function(b){var d=this.Ka(b),f=this.Va[d];b>f.nc?b=f.fd+1E3*(b-f.nc)/(f.Hc*f.step):0<d?(d=this.Va[d-1],b=d.fd+1E3*(b-d.nc)/(f.Hc*f.step)):b=1E3*b/(f.Hc*f.step);return b};k.prototype.$J=function(b,d,f,m,n,p,r,x,t,w,z,y){var C=this.ab;C.x=b;C.y=d;C.zoom=f;C.angle=m;C.Na=n;C.Hc=t;C.step=w;C.$=p;C.depth=r;C.Nc=x;C.nc=z;this.U&&(y=this.G.fd);C.fd=y-1E3;this.update(null,
y,z);this.G.set(this.current);this.G.Ef=!1;this.G.fd=y;this.U=!0;return C.fd};k.prototype.Rr=function(){return this.Va[0]};k.prototype.add=function(b,d){if(b.di)this.yc[this.yc.length]=b;else{this.Va[this.Va.length]=b;if(b.jg||b.Qf||b.le||b.Th||b.ni||b.Ef)this.Xr=!0;if(b.Xf||b.xf)b.Xf&&!b.xf&&(b.step=ViewConstants.gi),b.xf&&(b.Hc=d.Ma)}};k.prototype.sE=function(b){var d=!1;this.bj>=this.Va.length-1&&b>=this.Va[this.bj].fd&&(d=!0);return d};k.prototype.B=function(b){return b===(b|0)?String(b|0):String(b.toFixed(1))};
k.prototype.EM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.jg&&(d+=" X "+-b.x),b.Qf&&(d+=" Y "+-b.y),b.le&&(d+=" ZOOM "+this.B(b.zoom)),b.Th&&(d+=" ANGLE "+b.angle),b.ni&&0!==b.Na&&(d+=" TILT "+b.Na));return d.substr(1)};k.prototype.WG=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Oo&&(d+=" POIRESET"),b.rh===a.play?d+=" POIPLAY":b.rh===a.stop&&(d+=" POISTOP"),b.Ok!==a.Cq&&(d+=" POITRANS "+b.Ok));return d.substr(1)};k.prototype.FM=function(b){var d="";0<=b&&b<this.yc.length&&
(b=this.yc[b],b.Im&&(d+=" LOOP "+(-1===b.jb?"OFF":b.jb)),b.zn&&(d+=" STOP "+(-1===b.ec?"OFF":b.ec)),b.Xf&&(d+=" GPS "+b.Hc),b.xf&&(d+=" STEP "+b.step));return d.substr(1)};k.prototype.WG=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Oo&&(d+=" POIRESET"),b.rh===a.play?d+=" POIPLAY":b.rh===a.stop&&(d+=" POISTOP"),b.Ok!==a.Cq&&(d+=" POITRANS "+b.Ok));return d.substr(1)};k.prototype.IM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Jg&&(d+=" THEME "+b.Nc),b.Hi&&(d+=" DEPTH "+
this.B(b.depth)),b.Qi&&(d+=" LAYERS "+b.$));return d.substr(1)};k.prototype.HM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Dt&&(d+=" POIT "+b.nc));return d.substr(1)};k.prototype.GM=function(b){var d=Keywords.Fd,f="";0<=b&&b<this.yc.length&&(b=this.yc[b],""!==b.hg&&(f+=" "+d+b.hg+d));return f.substr(1)};k.prototype.cP=function(b){var d=Keywords.Fd,f="";if(0<=b&&b<this.Va.length){var m=this.Va[b];0<b?(b=this.Va[b-1],f=m.nc===b.nc?"P "+this.B((m.fd-b.fd|0)/1E3):"T "+m.nc,m.Ef?f+=" F":
(m.x!==b.x&&(f+=" X "+-m.x),m.y!==b.y&&(f+=" Y "+-m.y),m.zoom!==b.zoom&&(f+=" Z "+this.B(m.zoom))),m.angle!==b.angle&&(f+=" A "+m.angle),m.$!==b.$&&(f+=" L "+m.$),m.depth!==b.depth&&(f+=" D "+this.B(m.depth)),m.Nc!==b.Nc&&(f+=" C "+m.Nc),m.Hc!==b.Hc&&(f+=" G "+m.Hc),m.step!==b.step&&(f+=" S "+m.step),""!==m.hg&&(f+=" "+d+m.hg+d)):f="T "+m.nc+" X "+-m.x+" Y "+-m.y+" Z "+this.B(m.zoom)+" A "+m.angle+" L "+m.$+" D "+this.B(m.depth)+" C "+m.Nc+" G "+m.Hc+" S "+m.step}return f};k.prototype.update=function(b,
d,f){var m=this.Va.length,n=!1,p=this.bj,r=p,x=!1;if(this.U)this.current.G(this.ab,this.G,d),d>=this.G.fd&&(this.U=!1);else{for(;p<m&&!n;){var t=this.Va[p];t.fd>=d||!t.kt?n=!0:p+=1}n?(this.Va[p].kt=!0,0<p?(this.Va[p].Ef&&(this.Va[p].x=this.current.x,this.Va[p].y=this.current.y,this.Va[p].zoom=this.current.zoom),this.current.G(this.Va[p-1],this.Va[p],d)):(p=0,this.current.set(this.Va[p]))):(p=m-1,this.current.set(this.Va[p]),f>=this.current.nc&&this.da&&(x=!0),this.da=!0);this.bj=p}this.bj!==r&&this.current.aq&&
b&&b.j.dJ();return x};k.prototype.Ka=function(b){for(var d=0,f=!1,m=this.Va,n=this.Va.length;d<n&&!f;)m[d].nc>=b?f=!0:d+=1;f||(d=n-1);return d};k.prototype.GK=function(b){this.bj=this.Ka(b);var d=this.Va[this.bj];var f=this.Va[this.bj-1];return(d.fd-f.fd)*(b-f.nc)/(d.nc-f.nc)+f.fd};k.prototype.xd=function(b,d,f,m){if(0===this.Va.length)f[f.length]=[b+" "+Keywords.mc,"no initial waypoint defined"];else switch(b){case Keywords.Pf:d.jg&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+
-d.x]);d.x=this.Va[0].x;d.jg=!0;break;case Keywords.Rf:d.Qf&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+-d.y]);d.y=this.Va[0].y;d.Qf=!0;break;case Keywords.me:d.le&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+this.B(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=this.Va[0].zoom;d.le=!0;break;case Keywords.bm:d.Th&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+d.angle]);d.angle=this.Va[0].angle;d.Th=!0;break;case Keywords.Dn:d.ni&&(f[f.length]=
[b+" "+Keywords.mc,m?"already defined":"overwrites "+d.Na]);d.Na=this.Va[0].Na;d.ni=!0;break;case Keywords.$n:d.Hi&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+this.B(d.depth)]);d.depth=this.Va[0].depth;d.Hi=!0;break;case Keywords.vo:d.Qi&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+d.$]);d.$=this.Va[0].$;d.Qi=!0;break;case Keywords.Ul:d.Jg&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+d.Nc]);d.Nc=this.Va[0].Nc;d.Jg=!0;break;case Keywords.jo:d.Xf&&
(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+d.Hc]);d.Hc=this.Va[0].Hc;d.Xf=!0;break;case Keywords.$o:d.xf&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+d.step]);d.step=this.Va[0].step;d.xf=!0;break;case Keywords.ck:d.zn&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+(-1===d.ec?"OFF":d.ec)]);d.ec=this.Va[0].ec;d.zn=!0;break;case Keywords.Jj:d.Im&&(f[f.length]=[b+" "+Keywords.mc,m?"already defined":"overwrites "+(-1===d.jb?"OFF":d.jb)]);
d.jb=this.Va[0].jb;d.Im=!0;break;default:f[f.length]=[b+" "+Keywords.mc,"illegal command before "+Keywords.mc]}};k.prototype.KJ=function(b,d){this.xd(Keywords.Pf,b,d,!1);this.xd(Keywords.Rf,b,d,!1);this.xd(Keywords.me,b,d,!1);this.xd(Keywords.bm,b,d,!1);this.xd(Keywords.Dn,b,d,!1);this.xd(Keywords.vo,b,d,!1);this.xd(Keywords.$n,b,d,!1);this.xd(Keywords.Ul,b,d,!1);this.xd(Keywords.jo,b,d,!1);this.xd(Keywords.$o,b,d,!1);this.xd(Keywords.Jj,b,d,!1);this.xd(Keywords.ck,b,d,!1)};k.prototype.OM=function(b,
d){var f,m=this.Va,n=this.Va.length;for(f=1;f<n;f+=1){var p=m[f-1];var r=m[f];r.jg||(r.x=p.x);r.Qf||(r.y=p.y);r.Yl||(r.si=p.si);r.Zl||(r.ui=p.ui);r.Wt||(r.wi=p.wi);r.Th||(r.angle=p.angle);r.ni||(r.Na=p.Na);r.le||(r.zoom=p.zoom);r.Qi||(r.$=p.$);r.Hi||(r.depth=p.depth);r.Jg||(r.Nc=p.Nc);r.Xf||(r.Hc=p.Hc);r.xf||(r.step=p.step);if(r.Xf||r.xf)r.Xf&&!r.xf&&(r.step=ViewConstants.gi),r.xf&&(r.Hc=d.Ma);r.Dt?r.nc<=p.nc&&(b[b.length]=[Keywords.Ct+" "+r.nc,"target generation must be later than previous ("+p.nc+
")"]):r.nc=p.nc;r.fd=r.NH?1E3*r.fd+p.fd:p.fd+1E3*(r.nc-p.nc)/(r.Hc*r.step);r.ux||(r.tn=p.tn);r.yl||(r.zd=p.zd)}};window.Waypoint=u;window.WaypointManager=k;window.WaypointConstants=a}(),function(){function u(h,g){var q=this,k=h.getElementsByTagName("div")[0];this.Kx=!1;this.Yh=-1;this.Of=1;this.uI=h;this.view=g;this.j=g.j;this.top=this.left=0;""!==h.style.left&&(this.left=parseInt(h.style.left,10));""!==h.style.top&&(this.top=parseInt(h.style.top,10));this.Uc=this.ao=!1;this.Oj=this.Nj=-1;this.oC=
0;registerEvent(k,"mousedown",function(a){q.G(q,a)},!1);registerEvent(document,"mousemove",function(a){q.U(q,a)},!1);registerEvent(document,"mouseup",function(a){q.da(q,a)},!1);registerEvent(k,"touchstart",function(a){q.B(q,a)},!1);registerEvent(k,"touchmove",function(a){q.B(q,a)},!1);registerEvent(k,"touchend",function(a){q.B(q,a)},!1);registerEvent(window,"resize",function(){q.pH(q)},!1)}u.prototype.Pp=function(h,g){for(var q=null,k=0;null===q&&k<h.length;)h[k].identifier===g?q=h[k]:k+=1;return q};
u.prototype.reset=function(){this.Uc=!1;this.Yh=-1};u.prototype.B=function(h,g){var q=g.changedTouches;this.Kx=!0;switch(g.type){case "touchstart":-1===h.Yh&&(q=q[0],h.Yh=q.identifier,h.at(h,q.pageX,q.pageY));break;case "touchend":q=h.Pp(q,h.Yh);null!==q&&(h.ct(h,q.pageX,q.pageY),h.Yh=-1);break;case "touchmove":q=h.Pp(q,h.Yh),null!==q&&h.bt(h,q.pageX,q.pageY)}g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};u.prototype.pH=function(h){var g=this.view;g.J=g.Um;g.H=g.Tm;g.xH();
g.Kr.style.transform="scale("+g.Of+","+g.Of+")";g.Kr.style.transformOrigin="top left";g.Hw&&(this.j.cg(!0),g.resize());h.FH(h.left+h.oC,h.top,h.uI);h.oC=0};u.prototype.JO=function(h,g){this.FH(this.left+h,this.top+g,this.uI)};u.prototype.FH=function(h,g,q){var k=window.innerWidth-q.clientWidth*this.Of,a=window.innerHeight-q.clientHeight*this.Of;k-=(window.innerWidth-document.body.clientWidth)*this.Of;h>k&&(h=k);g>a&&(g=a);0>h&&(h=0);0>g&&(g=0);q.style.left=h+"px";q.style.top=g+"px";q.style.position=
"fixed";this.left=h;this.top=g};u.prototype.at=function(h,g,q){h.dr(h,g,q);h.Uc=!0;h.j.Ho=!0};u.prototype.ct=function(h,g,q){h.dr(h,g,q);h.Uc=!1;h.j.Ho=!1};u.prototype.bt=function(h,g,q){h.Uc&&h.JO(g-h.Nj,q-h.Oj);h.Nj=g;h.Oj=q};u.prototype.G=function(h,g){if(!h.Kx){if(g.pageX||g.pageY){var q=g.pageX;var k=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.at(h,q,k)}g.stopPropagation&&g.stopPropagation();
g.preventDefault()};u.prototype.da=function(h,g){if(!h.Kx&&h.ao&&h.Uc){if(g.pageX||g.pageY){var q=g.pageX;var k=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.ct(h,q,k)}g.stopPropagation&&g.stopPropagation();g.preventDefault()};u.prototype.U=function(h,g){if(!h.Kx&&h.ao&&h.Uc){if(g.pageX||g.pageY){var q=g.pageX;g=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
g=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.bt(h,q,g)}};u.prototype.dr=function(h,g,q){h.Nj=g|0;h.Oj=q|0};window.PopupWindow=u}(),function(){function u(){this.key=new Uint8Array(256);this.G=this.B=0}u.prototype.Ff=function(h){var g,q,k=this.key;for(g=0;256>g;g+=1)k[g]=g;for(g=q=0;256>g;g+=1){q=q+k[g]+h.charCodeAt(g%h.length)&255;var a=k[g];k[g]=k[q];k[q]=a}this.G=this.B=0};u.prototype.random=function(){var h,g=0,q=1,k=this.key,a=this.B,b=this.G;for(h=0;8>h;h+=1){a=a+1&
255;b=b+k[a]&255;var d=k[a];k[a]=k[b];k[b]=d;g+=k[k[a]+k[b]&255]*q;q*=256}this.B=a;this.G=b;return g/1.8446744073709552E19};window.Random=u}(),function(){function u(h,g){this.yw=h;this.x=g.R(Float32,0,"Stars.x");this.y=g.R(Float32,0,"Stars.y");this.z=g.R(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.$b=new Random;this.$b.Ff(Date.now().toString());this.sin=g.R(Float32,0,"Stars.sin");this.cos=g.R(Float32,0,"Stars.cos");this.B=Math.PI/180;this.U=180/Math.PI;this.A=g;this.G=!1}u.prototype.Ff=
function(h,g,q){var k,a=this.yw,b=h*h+g*g;this.x=this.A.R(Float32,a,"Stars.x");this.y=this.A.R(Float32,a,"Stars.y");this.z=this.A.R(Float32,a,"Stars.z");for(k=0;k<a;k+=1){var d=k/a*(k/a)*(k/a)*(k/a)*q+1;do{var f=3*(this.$b.random()*h-h/2);var m=3*(this.$b.random()*g-g/2)}while(f*f+m*m>b);this.x[k]=f;this.y[k]=m;this.z[k]=d}this.sin=this.A.R(Float32,2880,"Stars.sin");this.cos=this.A.R(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=Math.sin(k/8*this.B),this.cos[k]=Math.cos(k/8*this.B),k+=1};
u.prototype.bN=function(h,g,q,k,a,b,d,f){var m=a>>1,n=b>>1,p=a-1,r=b-1;this.G||(this.Ff(8192,8192,1024),this.G=!0);if(littleEndian){var x=f>>16&255;var t=f>>8&255;var w=f&255}else w=f>>24&255,t=f>>16&255,x=f>>8&255;var z=this.red-w;var y=this.green-t;var C=this.blue-x;for(b=0;b<this.yw;b+=1){var c=this.x[b]+h;var l=this.y[b]+g;if(0!==k){var e=Math.sqrt(c*c+l*l);l=Math.atan2(l,c)*this.U;l+=k;0>l?l+=360:360<=l&&(l-=360);l*=8;l|=0;c=e*this.cos[l];l=e*this.sin[l]}e=this.z[b]/q*2;c=m+c/e|0;l=n+l/e|0;if(0<
c&&c<p&&0<l&&l<r){c+=l*a;e=1536/e|0;255<e&&(e=255);e/=255;if(d[c]===f){l=w+z*e;var v=t+y*e;var A=x+C*e;l=littleEndian?-16777216|A<<16|v<<8|l:l<<24|A<<16|v<<8|255;d[c]=l}e/=2;l=w+z*e;v=t+y*e;A=x+C*e;l=littleEndian?-16777216|A<<16|v<<8|l:l<<24|A<<16|v<<8|255;--c;d[c]===f&&(d[c]=l);c+=2;d[c]===f&&(d[c]=l);--c;c-=a;d[c]===f&&(d[c]=l);c+=a+a;d[c]===f&&(d[c]=l)}}};window.Stars=u}(),function(){window.ScriptParser={iE:"",Vx:0,po:function(u){switch(u){case Keywords.Pz:case Keywords.NB:case Keywords.lA:case Keywords.gB:case Keywords.pC:case Keywords.YC:case Keywords.Nz:case Keywords.GC:case Keywords.IC:case Keywords.Qz:case Keywords.HC:case Keywords.fB:case Keywords.ei:case Keywords.tj:case Keywords.GD:case Keywords.aA:case Keywords.sx:case Keywords.Ty:case Keywords.iC:case Keywords.fC:case Keywords.hC:case Keywords.cC:case Keywords.bC:case Keywords.dC:case Keywords.gC:case Keywords.Nw:case Keywords.Mw:case Keywords.Tw:case Keywords.Dz:case Keywords.Fw:case Keywords.$q:case Keywords.RB:case Keywords.Gw:case Keywords.PB:case Keywords.SB:case Keywords.TB:case Keywords.QB:case Keywords.WB:case Keywords.UB:case Keywords.VB:case Keywords.kr:case Keywords.Hy:case Keywords.Jy:case Keywords.Ky:case Keywords.Iy:case Keywords.Ny:case Keywords.Ly:case Keywords.My:case Keywords.ws:case Keywords.wA:case Keywords.yA:case Keywords.zA:case Keywords.xA:case Keywords.CA:case Keywords.AA:case Keywords.BA:case Keywords.bB:case Keywords.dB:case Keywords.cB:case Keywords.fA:case Keywords.Mt:case Keywords.Zz:case Keywords.et:case Keywords.Eq:case Keywords.Dq:case Keywords.Ew:case Keywords.ft:case Keywords.OB:case Keywords.mc:case Keywords.Ng:case Keywords.Ib:case Keywords.QC:case Keywords.np:case Keywords.Lt:case Keywords.Gv:case Keywords.xw:case Keywords.Wz:case Keywords.Xz:case Keywords.zt:case Keywords.MA:case Keywords.Ku:case Keywords.gA:case Keywords.bs:case Keywords.hr:case Keywords.Ct:case Keywords.$o:case Keywords.KB:case Keywords.Vr:case Keywords.Ur:case Keywords.$B:case Keywords.TC:case Keywords.Sa:case Keywords.cz:case Keywords.Pf:case Keywords.Rf:case Keywords.Px:case Keywords.Qx:case Keywords.me:case Keywords.Ey:case Keywords.DF:case Keywords.Jj:case Keywords.Tt:case Keywords.Dn:case Keywords.aB:case Keywords.$A:case Keywords.lD:case Keywords.gD:case Keywords.eD:case Keywords.iD:case Keywords.kD:case Keywords.Lu:case Keywords.vx:case Keywords.To:case Keywords.Rq:case Keywords.bm:case Keywords.Ul:case Keywords.jo:case Keywords.ck:case Keywords.vo:case Keywords.$n:case Keywords.er:case Keywords.Up:case Keywords.ht:case Keywords.gt:case Keywords.vA:case Keywords.Kq:case Keywords.Po:case Keywords.wq:case Keywords.Or:case Keywords.Vs:case Keywords.lB:case Keywords.BB:case Keywords.HB:case Keywords.tB:case Keywords.oB:case Keywords.DB:case Keywords.pB:case Keywords.GB:case Keywords.FB:case Keywords.AB:case Keywords.wB:case Keywords.CB:case Keywords.yB:case Keywords.qB:case Keywords.xB:case Keywords.rB:case Keywords.vB:case Keywords.zB:case Keywords.uB:u=
!0;break;default:u=!1}return u},zo:function(u,h,g,q,k){var a=u.Ha();""===a||this.po(a)?h[h.length]=[g,q+" missing"]:(h[h.length]=[g+" "+a,q+" must be "+k],u.W())},rc:function(u,h,g,q,k){var a=!0,b=0,d=0,f=0,m=h.W();if(h.N()){b=h.O()|0;if(0>b||255<b)g[g.length]=[k+" "+m+" "+b,"RED out of range"];if(h.N()){d=h.O();if(0>d||255<d)g[g.length]=[k+" "+m+" "+b+" "+d,"GREEN out of range"];h.N()?(f=h.O(),0>f||255<f?g[g.length]=[k+" "+m+" "+b+" "+d+" "+f,"BLUE out of range"]:a=!1):this.zo(h,g,k+" "+m+" "+b+
" "+d,"BLUE","numeric")}else this.zo(h,g,k+" "+m+" "+b,"GREEN","numeric")}else{var n=h.Ha();var p=ColourManager.Pg[n.toLowerCase()];void 0!==p?(h.W(),b=p[1],d=p[2],f=p[3],a=!1):""===n||this.po(n)?g[g.length]=[k+" "+m,"name missing"]:(g[g.length]=[k+" "+m+" "+n,"name not known"],h.W())}if(!a)switch(-1!==u.sa[q]&&q!==ViewConstants.Br&&q!==ViewConstants.xr&&q!==ViewConstants.Cr&&(g[g.length]=[k+" "+m+" "+b+" "+d+" "+f,"overwrites "+(u.sa[q]>>16)+" "+(u.sa[q]>>8&255)+" "+(u.sa[q]&255)]),u.sa[q]=b<<16|
d<<8|f,q){case ViewConstants.zr:u.SE=u.sa[q];u.$h=!0;break;case ViewConstants.Ar:u.TE=u.sa[q];u.$h=!0;break;case ViewConstants.ov:u.Sl.red=b;u.Sl.green=d;u.Sl.blue=f;break;case ViewConstants.pv:u.Zh=[b,d,f];break;case ViewConstants.hv:u.ol=[b,d,f];u.Aj="rgb("+b+","+d+","+f+")";break;case ViewConstants.Br:u.oz="rgb("+b+","+d+","+f+")";break;case ViewConstants.xr:u.nz="rgb("+b+","+d+","+f+")";break;case ViewConstants.Cr:u.pz="rgb("+b+","+d+","+f+")";break;case ViewConstants.fv:u.im=[b,d,f];u.g.kl=u.g.be?
-16777216|f<<16|d<<8|b:b<<24|d<<16|f<<8|255;break;case ViewConstants.rz:u.jm=[b,d,f];u.g.cm=u.g.be?-16777216|f<<16|d<<8|b:b<<24|d<<16|f<<8|255;break;case ViewConstants.vz:u.mm=[b,d,f];u.g.CC="rgb("+b+","+d+","+f+")";break;case ViewConstants.uz:u.lm=[b,d,f];u.g.kB="rgb("+b+","+d+","+f+")";break;case ViewConstants.qz:u.hm=[b,d,f];u.g.Cu="rgb("+b+","+d+","+f+")";break;case ViewConstants.lv:u.g.Dj=[b,d,f];break;case ViewConstants.kv:u.g.Cj=[b,d,f];break;case ViewConstants.jv:u.g.Bj=[b,d,f];break;case ViewConstants.mv:u.g.Ej=
[b,d,f];break;case ViewConstants.nv:u.g.Fj=[b,d,f];break;case ViewConstants.Fr:case ViewConstants.Dr:case ViewConstants.Gr:case ViewConstants.Ir:case ViewConstants.Hr:case ViewConstants.Er:break;default:u.$h=!0}},iO:function(u){var h=u.g.mb[u.g.tf],g=u.sa;h.wm=u.g.lf;-1===g[ViewConstants.yj]&&(u=g[ViewConstants.Gi],-1!==u?g[ViewConstants.yj]=16777215-u:(u=g[ViewConstants.mh],g[ViewConstants.yj]=-1!==u?16777215-u:16777215));-1===g[ViewConstants.mh]&&-1===g[ViewConstants.Gi]&&(g[ViewConstants.mh]=16777215-
g[ViewConstants.yj]);u=g[ViewConstants.mh];-1===u&&(u=g[ViewConstants.Gi]);h.rb.red=u>>16;h.rb.green=u>>8&255;h.rb.blue=u&255;u=g[ViewConstants.yj];h.Bb.aa.red=u>>16;h.Bb.aa.green=u>>8&255;h.Bb.aa.blue=u&255;u=g[ViewConstants.ev];-1===u&&(u=g[ViewConstants.yj]);h.Bb.ca.red=u>>16;h.Bb.ca.green=u>>8&255;h.Bb.ca.blue=u&255;u=g[ViewConstants.Gi];-1===u&&(u=g[ViewConstants.mh]);h.ob.ca.red=u>>16;h.ob.ca.green=u>>8&255;h.ob.ca.blue=u&255;u=g[ViewConstants.yr];-1===u&&(u=g[ViewConstants.Gi],-1===u&&(u=g[ViewConstants.mh]));
h.ob.aa.red=u>>16;h.ob.aa.green=u>>8&255;h.ob.aa.blue=u&255;u=g[ViewConstants.mh];-1===u&&(u=g[ViewConstants.Gi]);h.gj.red=u>>16;h.gj.green=u>>8&255;h.gj.blue=u&255;u=g[ViewConstants.yj];h.Mg.red=u>>16;h.Mg.green=u>>8&255;h.Mg.blue=u&255;u=g[ViewConstants.Gi];-1===u&&(u=g[ViewConstants.mh]);h.Rc.ca.red=u>>16;h.Rc.ca.green=u>>8&255;h.Rc.ca.blue=u&255;u=g[ViewConstants.yr];-1===u&&(u=g[ViewConstants.Gi],-1===u&&(u=g[ViewConstants.mh]));h.Rc.aa.red=u>>16;h.Rc.aa.green=u>>8&255;h.Rc.aa.blue=u&255;u=g[ViewConstants.gv];
-1===u?h.qm=!0:(h.qm=!1,h.cc.ca.red=u>>16,h.cc.ca.green=u>>8&255,h.cc.ca.blue=u&255);u=g[ViewConstants.sz];-1===u&&(u=g[ViewConstants.gv],-1===u&&(u=g[ViewConstants.mh]));h.cc.aa.red=u>>16;h.cc.aa.green=u>>8&255;h.cc.aa.blue=u&255;h.XN(g[ViewConstants.zr],g[ViewConstants.Ar])},ox:function(u,h){var g=u;u.length>h&&(g=u.substr(0,h-1)+"...");return g},cI:function(u,h,g,q){var k=u.indexOf("\\n");-1!==k&&(g?h[h.length]=[Keywords.$q+" "+Keywords.Fd+this.ox(u,23)+Keywords.Fd,"only one line allowed"]:(k=
u.substr(k+2).indexOf("\\n"),-1===k||q||(h[h.length]=[Keywords.Fd+this.ox(u,23),"only two lines allowed"])))},aC:function(u,h,g,q){var k=Keywords.Ul+" ",a="overwrites ";k=g>=u.g.tf?k+Keywords.Zq:k+g;a=q>=u.g.tf?a+Keywords.Zq:a+q;h[h.length]=[k,a]},Hp:function(u,h,g,q,k,a,b){var d=0,f=0,m=0;if(h.N())if(d=h.O()|0,0>d||255<d)g[g.length]=[k+" "+b+" "+d,"RED out of range"],a=!0;else if(h.N())if(f=h.O()|0,0>f||255<f)g[g.length]=[k+" "+b+" "+d+" "+f,"GREEN out of range"],a=!0;else if(h.N()){if(m=h.O()|0,
0>m||255<m)g[g.length]=[k+" "+b+" "+d+" "+f+" "+m,"BLUE out of range"],a=!0}else this.zo(h,g,k+" "+b+" "+d+" "+f,"BLUE","numeric"),a=!0;else this.zo(h,g,k+" "+b+" "+d,"GREEN","numeric"),a=!0;else{var n=h.Ha();var p=ColourManager.Pg[n.toLowerCase()];void 0!==p?(h.W(),d=p[1],f=p[2],m=p[3]):(a=!0,""===n||this.po(n)?g[g.length]=[k+" "+b,"name missing"]:(g[g.length]=[k+" "+b+" "+n,"name not known"],h.W()))}a||(-1!==u.kc[q]&&(g[g.length]=[k+" "+b+" "+d+" "+f+" "+m,"overwrites "+(u.kc[q]>>16)+" "+(u.kc[q]>>
8&255)+" "+(u.kc[q]&255)]),u.kc[q]=d<<16|f<<8|m)},$k:function(u,h){var g=Keywords.Ce+String(h);u=u.j.WK(h);-1!==u&&(g=u.toFixed(1));return g},Yq:function(u,h){var g="",q=h.indexOf(Keywords.Ce);if(-1===q)g=h;else{for(;-1!==q;)if(g+=h.substr(0,q),q+1<h.length){var k=h[q+1];h=h.substr(q+2);switch(k){case "B":g+=ViewConstants.Lx;break;case "N":g+=u.xq;break;case "R":g+=u.Jb;break;case "A":g=""===u.rd?g+u.Jb:g+u.rd;break;case "O":g+=u.Xs;break;case "T":g+=ViewConstants.Pr;break;case "0":g+=this.$k(u,0);
break;case "1":g+=this.$k(u,1);break;case "2":g+=this.$k(u,2);break;case "3":g+=this.$k(u,3);break;case "4":g+=this.$k(u,4);break;case "5":g+=this.$k(u,5);break;case "6":g+=this.$k(u,6);break;case "7":g+=this.$k(u,7);break;case "8":g+=this.$k(u,8);break;case "9":g+=this.$k(u,9);break;case Keywords.Ce:g+=Keywords.Ce;break;default:g+=Keywords.Ce+k}q=h.indexOf(Keywords.Ce)}else h=h.substr(q+1),q=-1;g+=h}return g},Ti:function(u,h,g,q){q[q.length]=u?h===Keywords.ei?[h+" "+g,"already defined"]:[h+" "+g,
"overwrites "+Keywords.ei]:h===Keywords.ei?[h+" "+g,"overwrites "+Keywords.tj]:[h+" "+g,"already defined"]},ej:function(u,h){var g="";u===(u|0)?g=String(u):g=u.toFixed(h);return g},TO:function(u){var h=u.substr(0,1);u=u.substr(1);var g=!1;if("B"===h||"S"===h){this.iE=h;h=0;for(g=!0;g&&h<u.length;)"0"<=u[h]&&"9">=u[h]?h+=1:g=!1;g&&(this.Vx=Number(u))}return g},NN:function(u,h){if("B"===this.iE){var g=u.ji.length;u.ji[g]=this.Vx;u.ji[g+1]=h}else g=u.Sj.length,u.Sj[g]=this.Vx,u.Sj[g+1]=h},wM:function(u,
h,g){var q=new Script(h,!1),k=!1,a=!1,b="",d="",f="",m="",n=!1,p="",r=0,x=!1,t=!1,w=u.Ed,z=null,y=0,C=0,c="",l=!1,e=u.X.Gp(),v=null,A=!1,B=!1,D=null,E=1,G=ViewConstants.rE,F=-1,I=-1,L=0,K=0,J=!1,M=!1,H=-1,U=-1E3,qa=-1E3,ka=0,O=0,ca=null,Q=1,W=ViewConstants.rE,ia=ViewConstants.oJ,ha=-1,X=-1,ea=0,da=0,ra=!1,na=!1,T=-1,R=0,V=0,ja=-1E3,ma=-1E3,aa=null,N=1,P=ViewConstants.QL,oa=!1,Y=-1,S=-1,pa=0,ya=0,wa=!1,va=!1,la=-1,Z=0,fa=0,ba=-1E3,ta=-1E3,ua=!1,xa=!1,sa="numeric",za=-1,Ea=-1,Da=-1,Ia=-1,Ha=-1,Ka=-1,
Fa=0,Ja=0,La=0,Ma=0,Aa=0,Ba=0,Ca=0,fb=0,gb=0,Oa=[],Ga=0,hb=new Pattern("decode",u.C),Ta=!1,Ua=!1,Va=!1,Wa=!1,Xa=!1,Ya=!1,Za=!1,Pa=!1,$a=!1,ab=!1,Qa=!1,Ra=!1,bb=!1,cb=!1,db=!1,eb=!1;u.X.Xr=!1;u.Co=0;u.iB=0;u.dv=!1;u.$h=!1;u.sa[ViewConstants.mh]=-1;u.sa[ViewConstants.yj]=-1;u.sa[ViewConstants.ev]=-1;u.sa[ViewConstants.Gi]=-1;u.sa[ViewConstants.yr]=-1;u.sa[ViewConstants.zr]=-1;u.sa[ViewConstants.Ar]=-1;u.sa[ViewConstants.ov]=-1;u.sa[ViewConstants.pv]=-1;u.sa[ViewConstants.fv]=-1;u.sa[ViewConstants.lv]=
-1;u.sa[ViewConstants.kv]=-1;u.sa[ViewConstants.jv]=-1;u.sa[ViewConstants.mv]=-1;u.sa[ViewConstants.nv]=-1;u.sa[ViewConstants.hv]=-1;u.sa[ViewConstants.Br]=-1;u.sa[ViewConstants.Fr]=-1;u.sa[ViewConstants.Dr]=-1;u.sa[ViewConstants.Gr]=-1;u.sa[ViewConstants.Ir]=-1;u.sa[ViewConstants.Hr]=-1;u.sa[ViewConstants.Er]=-1;u.sa[ViewConstants.xr]=-1;u.sa[ViewConstants.Cr]=-1;u.kc=null;if(-1!==q.eF()){u.kc=u.g.A.R(Int32,256,"View.customColours");u.kc.fill(-1);for(b=q.W();""!==b;){sa="numeric";if(n)b[b.length-
1]===Keywords.Fd?(p=p+" "+b.substr(0,b.length-1),n=!1,this.cI(p,w,a,ua),a?(""!==u.hj&&(w[w.length]=[Keywords.$q+" "+Keywords.Fd+this.ox(p,20)+Keywords.Fd,"overwrites "+Keywords.Fd+u.hj+Keywords.Fd]),u.hj=p,a=!1):ua?(aa.message=this.Yq(u,p),ua=!1,u.X.jE(aa)):(e.hg=this.Yq(u,p),e.ZC=!0)):p=p+" "+b;else if(b[0]===Keywords.Fd)p=b.substr(1),n=!0,b[b.length-1]===Keywords.Fd&&(n=!1,p=p.substr(0,p.length-1),this.cI(p,w,a,ua),a?(""!==u.hj&&(w[w.length]=[Keywords.$q+" "+Keywords.Fd+this.ox(p,20)+Keywords.Fd,
"overwrites "+Keywords.Fd+u.hj+Keywords.Fd]),u.hj=p,a=!1):ua?(aa.message=this.Yq(u,p),ua=!1,u.X.jE(aa)):(e.hg=this.Yq(u,p),e.ZC=!0));else{x=t=!1;u.Co+=1;switch(b){case Keywords.$q:x=a=!0;break;case Keywords.SB:q.N()&&(t=!0,r=q.O(),r>=ViewConstants.pw&&r<=ViewConstants.jw&&(G=r,x=!0));break;case Keywords.UB:q.N()?(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Aa=r,t=!1,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(ka=Aa,O=r,x=!0)))):(d=q.Ha(),d===Keywords.Nd&&(d=q.W(),O=
ka=0,x=!0));break;case Keywords.VB:q.N()?(t=!0,r=q.O(),0<=r&&r<=u.g.ia/2&&(H=r,x=!0)):(d=q.Ha(),d===Keywords.Ib&&(d=q.W(),H=-1,x=!0));break;case Keywords.QB:q.N()&&(t=!0,r=q.O(),0<=r&&360>r&&(K=r,J=!1,d=q.Ha(),d===Keywords.Nd&&(d=q.W(),J=!0),x=!0));break;case Keywords.TB:q.N()?(t=!0,r=q.O()|0,0<=r&&(Aa=r,q.N()?(r=q.O()|0,r>=Aa?(Ba=r,q.N()?(r=q.O()|0,0<=r&&r<=Ba-Aa>>1?(F=Aa,I=Ba,L=r,x=!0):(x=!0,w[w.length]=[b+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):t=!1):(x=!0,w[w.length]=
[b+" "+Aa+" "+r,"second argument must be >= first"])):t=!1)):(d=q.Ha(),d===Keywords.Ng?(d=q.W(),I=F=-1,L=0,x=!0):t=!1);break;case Keywords.PB:q.N()&&(t=!0,r=q.O(),0<=r&&1>=r&&(E=r,x=!0));break;case Keywords.RB:case Keywords.Gw:Oa=[];x=!0;for(Ca=-1E3;x&&q.N();)Aa=q.O(),q.N()?(Ba=q.O(),Aa>=-u.g.ia&&Aa<2*u.g.ia&&Ba>=-u.g.ia&&Ba<2*u.g.ia?(Oa[Oa.length]=Aa,Oa[Oa.length]=Ba):(w[w.length]=[b+" "+Aa+" "+Ba,"coordinate out of range"],Ca=0,x=!1)):Aa>=ViewConstants.Xa&&Aa<=ViewConstants.Hb?Ca=Aa:Aa>=ViewConstants.Is&&
Aa<=ViewConstants.Fs?Ca=-(1/Aa):(w[w.length]=[b+" "+Aa,"zoom out of range"],Ca=0,x=!1);x&&4>Oa.length&&(w[w.length]=[b,"requires at least 2 coordinate pairs"],x=!1);x&&-1E3===Ca&&(x=!1);x&&(d=q.Ha(),M=!1,d===Keywords.Nd&&(d=q.W(),M=!0,d=q.Ha()),D=u.X.ZJ(Oa,b===Keywords.Gw,Ca,U,qa,u.pz,E,G,F,I,L,K,J,M,H,ka,O),u.X.ZI(D));break;case Keywords.Jy:q.N()&&(t=!0,r=q.O(),r>=ViewConstants.pw&&r<=ViewConstants.jw&&(Aa=r,t=!1,q.N()&&(t=!0,r=q.O(),0<=r&&1>=r&&(ia=r,W=Aa,x=!0))));break;case Keywords.Ly:q.N()?(t=
!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Aa=r,t=!1,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(R=Aa,V=r,x=!0)))):(d=q.Ha(),d===Keywords.Nd&&(d=q.W(),V=R=0,x=!0));break;case Keywords.My:q.N()?(t=!0,r=q.O(),0<=r&&r<=u.g.ia/2&&(T=r,x=!0)):(d=q.Ha(),d===Keywords.Ib&&(d=q.W(),T=-1,x=!0));break;case Keywords.Iy:q.N()&&(t=!0,r=q.O(),0<=r&&360>r&&(da=r,ra=!1,d=q.Ha(),d===Keywords.Nd&&(d=q.W(),ra=!0),x=!0));break;case Keywords.Ky:q.N()?(t=!0,r=q.O()|0,0<=r&&(Aa=r,q.N()?(r=
q.O()|0,r>=Aa?(Ba=r,q.N()?(r=q.O()|0,0<=r&&r<=Ba-Aa>>1?(ha=Aa,X=Ba,ea=r,x=!0):(x=!0,w[w.length]=[b+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):t=!1):(x=!0,w[w.length]=[b+" "+Aa+" "+r,"second argument must be >= first"])):t=!1)):(d=q.Ha(),d===Keywords.Ng?(d=q.W(),X=ha=-1,ea=0,x=!0):t=!1);break;case Keywords.Hy:q.N()&&(t=!0,r=q.O(),0<=r&&1>=r&&(Q=r,x=!0));break;case Keywords.kr:q.N()&&(t=!0,r=q.O(),r>=-u.g.ia&&r<2*u.g.ia&&(t=!1,Aa=r,q.N()&&(t=!0,r=q.O(),r>=-u.g.ia&&r<2*u.g.ia&&
(t=!1,Ba=r,q.N()&&(t=!0,r=q.O(),r>=-u.g.ia&&r<2*u.g.ia&&(t=!1,fb=r,q.N()&&(t=!0,r=q.O(),r>=-u.g.ia&&r<2*u.g.ia&&(t=!1,gb=r,q.N()&&(t=!0,r=q.O(),Ca=-1E3,r>=ViewConstants.Xa&&r<=ViewConstants.Hb?Ca=r:r>=ViewConstants.Is&&r<=ViewConstants.Fs&&(Ca=-(1/r)),-1E3!==Ca&&(d=q.Ha(),na=!1,d===Keywords.Nd&&(d=q.W(),na=!0,d=q.Ha()),ca=u.X.UJ(Aa,Ba,fb,gb,Ca,ja,ma,u.nz,Q,W,ia,ha,X,ea,da,ra,na,T,R,V),u.X.WI(ca),x=!0))))))))));break;case Keywords.yA:q.N()&&(t=!0,r=q.O(),r>=ViewConstants.gG&&r<=ViewConstants.ZF&&(P=
r,x=!0,d=q.Ha(),d===Keywords.Nd?(d=q.W(),oa=!0):oa=!1));break;case Keywords.AA:q.N()?(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Aa=r,t=!1,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Z=Aa,fa=r,x=!0)))):(d=q.Ha(),d===Keywords.Nd&&(d=q.W(),fa=Z=0,x=!0));break;case Keywords.BA:q.N()?(t=!0,r=q.O(),0<=r&&r<=u.g.ia/2&&(la=r,x=!0)):(d=q.Ha(),d===Keywords.Ib&&(d=q.W(),la=-1,x=!0));break;case Keywords.xA:q.N()&&(t=!0,r=q.O(),0<=r&&360>r&&(ya=r,wa=!1,d=q.Ha(),d===Keywords.Nd&&
(d=q.W(),wa=!0),x=!0));break;case Keywords.zA:q.N()?(t=!0,r=q.O()|0,0<=r&&(Aa=r,q.N()?(r=q.O()|0,r>=Aa?(Ba=r,q.N()?(r=q.O()|0,0<=r&&r<=Ba-Aa>>1?(Y=Aa,S=Ba,pa=r,x=!0):(x=!0,w[w.length]=[b+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):t=!1):(x=!0,w[w.length]=[b+" "+Aa+" "+r,"second argument must be >= first"])):t=!1)):(d=q.Ha(),d===Keywords.Ng?(d=q.W(),S=Y=-1,pa=0,x=!0):t=!1);break;case Keywords.wA:q.N()&&(t=!0,r=q.O(),0<=r&&1>=r&&(N=r,x=!0));break;case Keywords.WB:q.N()?(t=!0,
r=q.O(),Aa=-1E3,r>=ViewConstants.mq&&r<=ViewConstants.kq?Aa=r:r>=ViewConstants.lq&&r<=ViewConstants.jq&&(Aa=-(1/r)),-1E3!==Aa&&q.N()&&(t=!0,r=q.O(),Ba=-1E3,r>=ViewConstants.mq&&r<=ViewConstants.kq?Ba=r:r>=ViewConstants.lq&&r<=ViewConstants.jq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(U=Aa,qa=Ba,x=!0))):(d=q.Ha(),d===Keywords.Ib&&(d=q.W(),qa=U=-1E3,x=!0));break;case Keywords.Ny:q.N()?(t=!0,r=q.O(),Aa=-1E3,r>=ViewConstants.mq&&r<=ViewConstants.kq?Aa=r:r>=ViewConstants.lq&&r<=ViewConstants.jq&&
(Aa=-(1/r)),-1E3!==Aa&&q.N()&&(t=!0,r=q.O(),Ba=-1E3,r>=ViewConstants.mq&&r<=ViewConstants.kq?Ba=r:r>=ViewConstants.lq&&r<=ViewConstants.jq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(ja=Aa,ma=Ba,x=!0))):(d=q.Ha(),d===Keywords.Ib&&(d=q.W(),ma=ja=-1E3,x=!0));break;case Keywords.CA:q.N()?(t=!0,r=q.O(),Aa=-1E3,r>=ViewConstants.mq&&r<=ViewConstants.kq?Aa=r:r>=ViewConstants.lq&&r<=ViewConstants.jq&&(Aa=-(1/r)),-1E3!==Aa&&q.N()&&(t=!0,r=q.O(),Ba=-1E3,r>=ViewConstants.mq&&r<=ViewConstants.kq?Ba=
r:r>=ViewConstants.lq&&r<=ViewConstants.jq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(ba=Aa,ta=Ba,x=!0))):(d=q.Ha(),d===Keywords.Ib&&(d=q.W(),ta=ba=-1E3,x=!0));break;case Keywords.ws:q.N()&&(t=!0,r=q.O(),r>=-u.g.ia&&r<2*u.g.ia&&(t=!1,Aa=r,q.N()&&(t=!0,r=q.O(),r>=-u.g.ia&&r<2*u.g.ia&&(t=!1,Ba=r,q.N()&&(t=!0,r=q.O(),Ca=-1E3,r>=ViewConstants.Xa&&r<=ViewConstants.Hb?Ca=r:r>=ViewConstants.Is&&r<=ViewConstants.Fs&&(Ca=-(1/r)),-1E3!==Ca&&(t=!1,d=q.Ha(),va=!1,d===Keywords.Nd&&(d=q.W(),va=!0,d=q.Ha()),
d[0]===Keywords.Fd?(aa=u.X.XJ(Aa,Ba,Ca,ba,ta,u.oz,N,P,oa,Y,S,pa,ya,wa,va,la,Z,fa),x=ua=!0):sa="a string"))))));break;case Keywords.$B:x=u.g.xh=!0;break;case Keywords.vA:x=u.g.wj=!0;break;case Keywords.Kq:x=!1;d=q.W();if(""!==d){for(u.Jq=[];q.N();)r=q.O(),u.Jq[u.Jq.length]=r;u.YI(w,d,u.Jq);u.Jq=[];x=!0}break;case Keywords.Po:x=!1;d=q.W();if(""!==d&&(f=q.Ha(),""!==f)){q.W();for(m=q.Ha();""!==m&&!this.po(m)&&!q.N()&&-1!==u.C.Ip(hb,m,!1,u.g.A);)q.W(),f+=m,m=q.Ha();Ba=Aa=0;q.N()&&(t=!0,Aa=q.O());q.N()&&
(t=!0,Ba=q.O());Ca=-1;m=q.Ha();if(""!==m){switch(m){case Keywords.BD:Ca=ViewConstants.Nt;break;case Keywords.yD:Ca=ViewConstants.rD;break;case Keywords.zD:Ca=ViewConstants.sD;break;case Keywords.AD:Ca=ViewConstants.tD;break;case Keywords.ED:Ca=ViewConstants.wD;break;case Keywords.FD:Ca=ViewConstants.xD;break;case Keywords.DD:Ca=ViewConstants.vD;break;case Keywords.CD:Ca=ViewConstants.uD}-1!==Ca&&q.W()}-1===Ca&&(Ca=ViewConstants.Nt);u.XI(w,d,f,Aa,Ba,Ca);x=!0}break;case Keywords.wq:f=q.Ha();if(""!==
f){q.W();for(m=q.Ha();""!==m&&!this.po(m)&&!q.N()&&-1!==u.C.Ip(hb,m,!1,u.g.A);)q.W(),f+=m,m=q.Ha();Ba=Aa=0;q.N()&&(t=!0,Aa=q.O());q.N()&&(t=!0,Ba=q.O());Ca=-1;m=q.Ha();if(""!==m){switch(m){case Keywords.BD:Ca=ViewConstants.Nt;break;case Keywords.yD:Ca=ViewConstants.rD;break;case Keywords.zD:Ca=ViewConstants.sD;break;case Keywords.AD:Ca=ViewConstants.tD;break;case Keywords.ED:Ca=ViewConstants.wD;break;case Keywords.FD:Ca=ViewConstants.xD;break;case Keywords.DD:Ca=ViewConstants.vD;break;case Keywords.CD:Ca=
ViewConstants.uD}-1!==Ca&&q.W()}-1===Ca&&(Ca=ViewConstants.Nt);u.aJ(u.uq,u.Ss,u.tq,u.Ts,u.cd,u.mB,u.nB,f,Aa,Ba,Ca)||(w[w.length]=[Keywords.wq+" "+f,"invalid name or rle"]);x=!0}break;case Keywords.lB:q.N()&&(t=!0,r=q.O(),-4096<=r&&4096>=r&&(u.mB=r,t=!1,q.N()&&(t=!0,r=q.O(),-4096<=r&&4096>=r&&(u.nB=r,x=!0))));break;case Keywords.Vs:if(q.N()){if(t=!0,r=q.O(),0<=r){u.uq=r;u.Ts=0;u.Ss=-1;u.tq=[];for(k=!0;k;)q.N()?(r=q.O(),u.tq[u.tq.length]=r):(d=q.Ha(),u.bJ(d,u.tq)?q.W():k=!1);x=!0}}else d=q.Ha(),d===
Keywords.Or&&(d=q.W(),q.N()&&(t=!0,r=q.O(),1<=r&&(u.Ts=r,u.uq=0,u.Ss=-1,q.N()?(r=q.O(),0<=r&&(u.uq=r,q.N()?(r=q.O(),r>=u.uq+u.Ts&&(u.Ss=r,x=!0)):x=!0)):x=!0)));break;case Keywords.OH:x=e.aq=!0;break;case Keywords.NB:x=u.px=!0;break;case Keywords.BB:x=!0;t=!1;sa="paste mode";d=q.Ha();switch(d){case Keywords.HB:u.cd=ViewConstants.JG;break;case Keywords.tB:u.cd=ViewConstants.sB;break;case Keywords.oB:u.cd=ViewConstants.xG;break;case Keywords.DB:u.cd=ViewConstants.GG;break;case Keywords.pB:u.cd=ViewConstants.yG;
break;case Keywords.GB:u.cd=ViewConstants.IG;break;case Keywords.FB:u.cd=ViewConstants.EB;break;case Keywords.AB:u.cd=ViewConstants.Us;break;case Keywords.wB:u.cd=ViewConstants.CG;break;case Keywords.CB:u.cd=ViewConstants.HG;break;case Keywords.yB:u.cd=ViewConstants.EG;break;case Keywords.qB:u.cd=ViewConstants.zG;break;case Keywords.xB:u.cd=ViewConstants.DG;break;case Keywords.rB:u.cd=ViewConstants.AG;break;case Keywords.vB:u.cd=ViewConstants.BG;break;case Keywords.zB:u.cd=ViewConstants.FG;break;
case Keywords.uB:u.cd=ViewConstants.Aw;break;default:if(4===d.length){for(Ga=r=0;4>Ga&&x;){r<<=1;switch(d.substr(Ga,1)){case "1":r|=1;break;case "0":break;default:x=!1}Ga+=1}x&&(u.cd=r)}else q.N()?(t=!0,r=q.O()|0,0<=r&&15>=r?u.cd=r:x=!1):x=!1}x&&!t&&q.W();break;case Keywords.fA:x=u.Mi=!0;break;case Keywords.cB:u.Qj=!1;x=!0;break;case Keywords.bB:x=u.de=!0;break;case Keywords.dB:u.wl=!1;x=!0;break;case Keywords.MA:q.N()&&(t=!0,r=q.O()|0,r>=ViewConstants.fG&&r<=ViewConstants.YF&&(u.g.ia=1<<r,x=!0));
break;case Keywords.zt:d=q.Ha();d===Keywords.Ib?(d=q.W(),e.tn=!1):e.tn=!0;x=e.ux=!0;break;case Keywords.Ku:d=q.Ha();d===Keywords.Ib?(d=q.W(),e.Ef=!1):e.Ef=!0;x=!0;break;case Keywords.bs:q.N()&&(t=!0,r=q.O()|0,0<=r&&r<=u.Es&&(u.K=r,x=!0));break;case Keywords.hr:q.N()&&(t=!0,r=q.O()|0,0<=r&&r<=u.Es&&(u.Ai=r,x=!0));break;case Keywords.gA:d=q.Ha();d===Keywords.Ib?(d=q.W(),u.Ni=!1):u.Ni=!0;x=!0;break;case Keywords.Vr:d=q.Ha();d===Keywords.Ib?(d=q.W(),e.zd=!1):e.zd=!0;x=e.yl=!0;break;case Keywords.Ur:q.N()&&
(t=!0,r=q.O()|0,r>=ViewConstants.aM&&r<=ViewConstants.WL&&(u.g.lf=r,x=u.dv=!0));break;case Keywords.Sa:case Keywords.cz:c=b;xa=!1;if(q.N()){C=q.O()|0;if(0>C||255<C)w[w.length]=[b+" "+C,"STATE out of range"],xa=!0;this.Hp(u,q,w,C,b,xa,C)}else switch(d=q.Ha(),d){case Keywords.rG:this.rc(u,q,w,ViewConstants.mh,c);break;case Keywords.sG:this.rc(u,q,w,ViewConstants.yj,c);break;case Keywords.zF:this.rc(u,q,w,ViewConstants.Gi,c);break;case Keywords.OF:d=q.W();this.Hp(u,q,w,ViewConstants.PF,b,!1,d);break;
case Keywords.SF:d=q.W();this.Hp(u,q,w,ViewConstants.TF,b,!1,d);break;case Keywords.QF:d=q.W();this.Hp(u,q,w,ViewConstants.RF,b,!1,d);break;case Keywords.GF:d=q.W();this.Hp(u,q,w,ViewConstants.HF,b,!1,d);break;case Keywords.zx:this.rc(u,q,w,ViewConstants.mh,c);break;case Keywords.yx:this.rc(u,q,w,ViewConstants.yj,c);break;case Keywords.$C:this.rc(u,q,w,ViewConstants.ev,c);break;case Keywords.Bx:this.rc(u,q,w,ViewConstants.Gi,c);break;case Keywords.Ax:this.rc(u,q,w,ViewConstants.yr,c);break;case Keywords.bD:this.rc(u,
q,w,ViewConstants.gv,c);break;case Keywords.aD:this.rc(u,q,w,ViewConstants.sz,c);break;case Keywords.Vr:this.rc(u,q,w,ViewConstants.zr,c);break;case Keywords.Ur:this.rc(u,q,w,ViewConstants.Ar,c);break;case Keywords.zt:this.rc(u,q,w,ViewConstants.ov,c);break;case Keywords.YC:this.rc(u,q,w,ViewConstants.pv,c);break;case Keywords.Nz:this.rc(u,q,w,ViewConstants.hv,c);break;case Keywords.ws:this.rc(u,q,w,ViewConstants.Br,c);break;case Keywords.kr:this.rc(u,q,w,ViewConstants.xr,c);break;case Keywords.aH:this.rc(u,
q,w,ViewConstants.Cr,c);break;case Keywords.uE:this.rc(u,q,w,ViewConstants.fv,c);break;case Keywords.wE:this.rc(u,q,w,ViewConstants.rz,c);break;case Keywords.CH:this.rc(u,q,w,ViewConstants.vz,c);break;case Keywords.wq:this.rc(u,q,w,ViewConstants.uz,c);break;case Keywords.mE:this.rc(u,q,w,ViewConstants.qz,c);break;case Keywords.pF:this.rc(u,q,w,ViewConstants.lv,c);break;case Keywords.oF:this.rc(u,q,w,ViewConstants.kv,c);break;case Keywords.nF:this.rc(u,q,w,ViewConstants.jv,c);break;case Keywords.qF:this.rc(u,
q,w,ViewConstants.mv,c);break;case Keywords.rF:this.rc(u,q,w,ViewConstants.nv,c);break;case Keywords.VH:this.rc(u,q,w,ViewConstants.Fr,c);break;case Keywords.TH:this.rc(u,q,w,ViewConstants.Dr,c);break;case Keywords.WH:this.rc(u,q,w,ViewConstants.Gr,c);break;case Keywords.ZH:this.rc(u,q,w,ViewConstants.Ir,c);break;case Keywords.XH:this.rc(u,q,w,ViewConstants.Hr,c);break;case Keywords.UH:this.rc(u,q,w,ViewConstants.Er,c);break;default:if('"'===d.charAt(0)){d=q.W();do f=q.W(),d+=" "+f;while(""!==f&&
'"'!==f.charAt(f.length-1))}else d=q.W();C=u.UK(d);-1!==C&&this.Hp(u,q,w,C,b,xa,d);-1===C&&(w[w.length]=[b+" "+d,"illegal element"],d=q.W())}x=!0;break;case Keywords.Rq:-1===q.eF()&&q.zK();x=!0;--u.Co;break;case Keywords.Tt:x=u.Oa=!0;break;case Keywords.fB:x=u.eB=!0;break;case Keywords.pC:x=u.gx=!0;break;case Keywords.gB:u.dm=!1;x=!0;break;case Keywords.Pz:x=u.Bv=!0;break;case Keywords.lA:x=u.ls=!0;break;case Keywords.aB:u.Zc=!0;x=u.ww=!0;break;case Keywords.$A:x=u.El=!0;break;case Keywords.TC:x=
eb=db=cb=bb=Ra=Qa=ab=$a=Pa=Za=Ya=Xa=Wa=Va=Ua=Ta=!0;break;case Keywords.Ib:w[w.length]=[Keywords.Ib,"must follow LOOP or STOP"];x=!0;break;case Keywords.Ng:d=q.Ha();d===Keywords.mc?(d=q.W(),e.di?(u.X.KJ(e,w),u.ZN()):w[w.length]=[Keywords.Ng+" "+Keywords.mc,"only valid at a POI"]):w[w.length]=[Keywords.Ng,"must be followed by INITIAL"];x=!0;break;case Keywords.mc:w[w.length]=[Keywords.mc,"must follow POI, ALL or a POI setting"];x=!0;break;case Keywords.vx:q.N()&&(t=!0,r=q.O()|0,0<=r&&r<=ViewConstants.cG&&
(u.Ve=r,x=!0));break;case Keywords.Lu:d=q.Ha();d===Keywords.Ib?(d=q.W(),u.Bf=!1):u.Fa&&(u.Bf=!0);x=!0;break;case Keywords.Ew:q.N()&&(t=!0,r=q.O()|0,0<=r&&(e.di?(e.nc=r,e.Dt=!0):w[w.length]=[Keywords.Ew+" "+r,"only valid at a POI"],x=!0));break;case Keywords.Dq:e.$N(w);x=!0;break;case Keywords.Eq:e.dO(w);x=!0;break;case Keywords.et:e.aO(w);x=!0;break;case Keywords.ft:q.N()&&(t=!0,r=q.O(),r>=WaypointConstants.YG&&r<=WaypointConstants.XG&&(e.fO(r,w),x=!0));break;case Keywords.OB:x=l=!0;break;case Keywords.Zz:x=
u.Mv=!0;break;case Keywords.QC:d=q.Ha();d===Keywords.Ib?(d=q.W(),u.$i=!1):u.$i=!0;x=!0;break;case Keywords.Mt:q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Ha=r,t=!1,b+=" "+r,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Ka=r,x=!0,u.Be&&(w[w.length]=[Keywords.Mt+" "+Ha+" "+Ka,"overwrites "+Ea+" "+Da]),Ea=Ha,Da=Ka,u.Be=!0))));break;case Keywords.Lt:q.N()&&(t=!0,r=q.O()|0,0<r&&(Ia=r,t=!1,b+=" "+r,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Ha=
r,t=!1,b+=" "+r,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Ka=r,x=!0,u.op&&(w[w.length]=[Keywords.Lt+" "+Ia+" "+Ha+" "+Ka,"overwrites "+za+" "+Ea+" "+Da]),za=Ia,Ea=Ha,Da=Ka,u.op=!0,u.Be=!0))))));break;case Keywords.np:q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(La=r,t=!1,b+=" "+r,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Ja=r,t=!1,b+=" "+r,q.N()&&(t=!0,r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Ma=r,t=!1,b+=" "+r,q.N()&&(t=!0,
r=q.O(),r>=ViewConstants.qh&&r<=ViewConstants.ph&&(Fa=r,x=!0,Ma>La?w[w.length]=[Keywords.np+" W "+this.ej(Ma,2)+" E "+this.ej(La,2),"W is greater than E"]:Fa>Ja?w[w.length]=[Keywords.np+" N "+this.ej(Fa,2)+" S "+this.ej(Ja,2),"N is greater than S"]:(u.kp&&(w[w.length]=[Keywords.np+" "+this.ej(La,2)+" "+this.ej(Ja,2)+" "+this.ej(Ma,2)+" "+this.ej(Fa,2),"overwrites "+this.ej(u.Fn,2)+" "+this.ej(u.Gn,2)+" "+this.ej(u.mp,2)+" "+this.ej(u.lp,2)]),u.kp=!0,u.Be=!0,u.lp=Fa,u.Fn=La,u.Gn=Ja,u.mp=Ma)))))))));
break;case Keywords.ck:v=e;!e.di&&0<u.X.Va.length&&(e=u.X.Rr());q.N()?(t=!0,r=q.O()|0,0<r&&(!e.zn||u.Cm||Ra||(w[w.length]=-1===e.ec?[Keywords.ck+" "+r,"overwrites "+Keywords.Ib]:[Keywords.ck+" "+r,"overwrites "+e.ec]),e.ec=r,e.zn=!0,Ra=u.Cm=!1,x=!0)):(d=q.Ha(),d===Keywords.Ib?(d=q.W(),!e.zn||u.Cm||Ra||(w[w.length]=-1!==e.ec||u.Cm?[Keywords.ck+" "+Keywords.Ib,"overwrites "+e.ec]:[Keywords.ck+" "+Keywords.Ib,"overwrites "+Keywords.Ib]),e.ec=-1,e.zn=!0,Ra=u.Cm=!1,x=!0):d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.ck,
e,w,u.Cm),x=u.Cm=!0));e=v;break;case Keywords.Jj:v=e;!e.di&&0<u.X.Va.length&&(e=u.X.Rr());q.N()?(t=!0,r=q.O()|0,0<r&&(!e.Im||u.mo||Qa||(w[w.length]=-1===e.jb?[Keywords.Jj+" "+r,"overwrites "+Keywords.Ib]:[Keywords.Jj+" "+r,"overwrites "+e.jb]),e.jb=r,e.Im=!0,Qa=u.mo=!1,x=!0)):(d=q.Ha(),d===Keywords.Ib?(d=q.W(),!e.Im||u.mo||Qa||(w[w.length]=-1===e.jb?[Keywords.Jj+" "+Keywords.Ib,"overwrites "+Keywords.Ib]:[Keywords.Jj+" "+Keywords.Ib,"overwrites "+e.jb]),e.jb=-1,e.Im=!0,Qa=u.mo=!1,x=!0):d===Keywords.mc&&
(d=q.W(),u.X.xd(Keywords.Jj,e,w,u.mo),x=u.mo=!0));e=v;break;case Keywords.Dn:q.N()?(t=!0,r=q.O(),r>=ViewConstants.rw&&r<=ViewConstants.lw&&(!e.ni||u.ts||Xa||(w[w.length]=[Keywords.Dn+" "+r,"overwrites "+e.Na]),e.Na=r,e.ni=!0,Xa=u.ts=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.Dn,e,w,u.ts),x=u.ts=!0));break;case Keywords.bm:q.N()?(t=!0,r=q.O()|0,0<=r&&359>=r&&(!e.Th||u.os||Wa||(w[w.length]=[Keywords.bm+" "+r,"overwrites "+e.angle]),e.angle=r,e.Th=!0,Wa=u.os=!1,x=!0)):(d=q.Ha(),d===
Keywords.mc&&(d=q.W(),u.X.xd(Keywords.bm,e,w,u.os),x=u.os=!0));break;case Keywords.vo:q.N()?(t=!0,r=q.O()|0,r>=ViewConstants.ow&&r<=ViewConstants.iw&&(!e.Qi||u.rs||Ya||(w[w.length]=[Keywords.vo+" "+r,"overwrites "+e.$]),e.$=r,e.Qi=!0,Ya=u.rs=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.vo,e,w,u.rs),x=u.rs=!0));break;case Keywords.$n:q.N()?(t=!0,r=q.O(),r>=ViewConstants.nw&&r<=ViewConstants.XF&&(!e.Hi||u.ps||Za||(w[w.length]=[Keywords.$n+" "+r,"overwrites "+e.depth]),e.depth=r,e.Hi=
!0,Za=u.ps=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.$n,e,w,u.ps),x=u.ps=!0));break;case Keywords.Px:q.N()&&(t=!0,r=q.O(),r>=-u.g.ia/2&&r<=u.g.ia/2&&(u.Pb=r,x=!0));break;case Keywords.Qx:q.N()&&(t=!0,r=q.O(),r>=-u.g.ia/2&&r<=u.g.ia/2&&(u.Qb=r,x=!0));break;case Keywords.Pf:q.N()?(t=!0,r=q.O(),r>=-u.g.ia/2&&r<=u.g.ia/2&&(!e.jg||u.us||Ta||(w[w.length]=[Keywords.Pf+" "+r,"overwrites "+-e.x]),e.x=-r,e.jg=!0,Ta=u.us=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.Pf,e,
w,u.us),x=u.us=!0));break;case Keywords.Rf:q.N()?(t=!0,r=q.O(),r>=-u.g.ia/2&&r<=u.g.ia/2&&(!e.Qf||u.vs||Ua||(w[w.length]=[Keywords.Rf+" "+r,"overwrites "+-e.y]),e.y=-r,e.Qf=!0,Ua=u.vs=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.Rf,e,w,u.vs),x=u.vs=!0));break;case Keywords.DF:x=u.CF=!0;break;case Keywords.kD:q.N()&&(t=!0,r=q.O(),r>=ViewConstants.Xa&&r<=ViewConstants.Hb?(u.Dx=!0,u.jD=r,x=!0):r>=ViewConstants.Is&&r<=ViewConstants.Fs&&(u.Dx=!0,u.jD=-(1/r),x=!0));break;case Keywords.Ey:case Keywords.me:q.N()?
(t=!0,r=q.O(),r>=ViewConstants.Xa&&r<=ViewConstants.Hb?(!e.le||u.no||Va||(w[w.length]=1>e.zoom?[Keywords.me+" "+r,"overwrites "+-(1/e.zoom)]:[Keywords.me+" "+r,"overwrites "+e.zoom]),e.zoom=r,e.le=!0,Va=u.no=!1,x=!0):r>=ViewConstants.Is&&r<=ViewConstants.Fs&&(e.le&&!u.no&&(w[w.length]=1>e.zoom?[Keywords.me+" "+r,"overwrites "+-(1/e.zoom)]:[Keywords.me+" "+r,"overwrites "+e.zoom]),e.zoom=-(1/r),e.le=!0,u.no=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.me,e,w,u.no),x=u.no=!0));break;
case Keywords.jo:q.N()?(t=!0,r=q.O()|0,r>=ViewConstants.Si&&(!e.Xf||u.qs||$a||(w[w.length]=[Keywords.jo+" "+r,"overwrites "+e.Hc]),r>u.Ma&&(r=u.Ma),e.Hc=r,e.Xf=!0,$a=u.qs=!1,u.LC=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.jo,e,w,u.qs),x=u.qs=!0));break;case Keywords.lD:d=q.Ha();d===Keywords.Ib?(d=q.W(),u.Od||(u.wb=!1,u.Vl=!1)):u.Od||(u.wb=!0,u.Vl=!0);x=!0;break;case Keywords.iD:x=u.hD=!0;break;case Keywords.eD:d=q.Ha();d===Keywords.Ib?(d=q.W(),u.Od||(u.wb=!1,u.Vl=!1,u.ek=!1,u.j.ek=
!1)):u.Od||(u.wb=!0,u.Vl=!0,u.ek=!0,u.j.ek=!0);x=!0;break;case Keywords.gD:q.N()&&(t=!0,r=q.O()|0,r>=ViewConstants.kG&&r<=ViewConstants.dG&&(u.We=r,x=!0));break;case Keywords.Ul:q.N()?(t=!0,r=q.O()|0,0<=r&&r<u.g.tf&&(!e.Jg||u.Bl||Pa||this.aC(u,w,r,e.Nc),e.Nc=r,e.Jg=!0,Pa=u.Bl=!1,x=!0)):(d=q.Ha(),d===Keywords.Zq?(d=q.W(),u.$h?(e.Jg&&!u.Bl&&this.aC(u,w,u.g.tf,e.Nc),e.Nc=u.g.tf,e.Jg=!0,u.Bl=!1):w[w.length]=[Keywords.Ul+" "+Keywords.Zq,"no custom THEME defined"],x=!0):(r=u.yO(d),-1!==r?(d=q.W(),!e.Jg||
u.Bl||Pa||this.aC(u,w,r,e.Nc),e.Nc=r,e.Jg=!0,Pa=u.Bl=!1,x=!0):d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.Ul,e,w,u.Bl),x=u.Bl=!0)),x||(x=!0,w[w.length]=[b,"invalid specification"]));break;case Keywords.gH:x=u.g.ee=!0;break;case Keywords.To:w[w.length]=[b,"already in a script block"];x=!0;break;case Keywords.HC:u.nd=!u.nd;x=!0;break;case Keywords.IC:u.Rp.current=u.Jn([!0],!0,u);x=!0;break;case Keywords.Qz:u.It.current=u.ZD([!0],!0,u);x=!0;break;case Keywords.GC:u.Nx([!0],!0,u);u.kf&&(u.kf.current=[u.Ch],
u.j.ig=!0);x=!0;break;case Keywords.Dz:q.N()&&(t=!0,r=q.O()|0,r>=ViewConstants.eG&&r<=ViewConstants.WF&&(x=!0,u.g.ot=r));break;case Keywords.xw:x=u.Ac=!0;break;case Keywords.Gv:x=u.sd=!0;break;case Keywords.Wz:q.N()&&(t=!0,r=q.O(),0<=r&&1>=r&&(x=!0,u.Dd=r));break;case Keywords.Xz:u.vh=!1;x=!0;break;case Keywords.GD:u.g.P&&(u.g.sc=!1);x=!0;break;case Keywords.aA:u.g.T&&(u.g.sc=!1);x=!0;break;case Keywords.sx:x=u.g.sc=!0;break;case Keywords.Ty:x=u.g.kd=!0;break;case Keywords.hC:q.N()&&(t=!0,r=q.O()|
0,r>=ViewConstants.jG&&r<=ViewConstants.bG&&(u.Ww=r,x=!0));break;case Keywords.cC:q.N()&&(t=!0,r=q.O()|0,r>=ViewConstants.iG&&r<=ViewConstants.aG&&(u.Rw=r,x=!0));break;case Keywords.bC:q.N()&&(t=!0,r=q.O()|0,r>=ViewConstants.qw&&r<=ViewConstants.kw&&(u.Pw=r,x=!0));break;case Keywords.dC:x=u.Sw=!0;break;case Keywords.gC:x=u.Vw=!0;break;case Keywords.Nw:d=q.Ha();switch(d){case Keywords.Nd:d=q.W();x=!0;u.nt=!0;break;case Keywords.Ng:d=q.W();q.N()&&(t=!0,r=q.O()|0,0<=r&&100>=r&&(u.Fl=r,x=!0));break;case Keywords.Mw:d=
q.W();q.N()&&(t=!0,r=q.O()|0,0<=r&&100>=r&&(u.Gl=r,x=!0));break;case Keywords.Tw:d=q.W();q.N()&&(t=!0,r=q.O()|0,0<=r&&100>=r&&(u.jn=r,x=!0));break;default:this.TO(d)&&(d=q.W(),q.N()&&(t=!0,r=q.O()|0,0<=r&&100>=r&&(this.NN(u,r),x=!0)))}break;case Keywords.iC:x=u.Xw=!0;break;case Keywords.fC:u.Uw=q.W();x=u.eC=!0;break;case Keywords.ei:d=q.Ha();switch(d){case Keywords.Pf:e.Yl&&this.Ti(e.si,Keywords.ei,Keywords.Pf,w);e.si=!0;e.Yl=!0;d=q.W();break;case Keywords.Rf:e.Zl&&this.Ti(e.ui,Keywords.ei,Keywords.Rf,
w);e.ui=!0;e.Zl=!0;d=q.W();break;case Keywords.me:e.hE&&this.Ti(e.wi,Keywords.ei,Keywords.me,w);e.wi=!0;e.Wt=!0;d=q.W();break;case Keywords.Ng:e.Yl&&this.Ti(e.si,Keywords.ei,Keywords.Pf,w);e.Zl&&this.Ti(e.ui,Keywords.ei,Keywords.Rf,w);e.hE&&this.Ti(e.wi,Keywords.ei,Keywords.me,w);e.si=!0;e.Yl=!0;e.ui=!0;e.Zl=!0;e.wi=!0;e.Wt=!0;d=q.W();break;default:this.zo(q,w,Keywords.ei,"argument",Keywords.Ng+", "+Keywords.Pf+", "+Keywords.Rf+" or "+Keywords.me)}x=!0;break;case Keywords.tj:d=q.Ha();switch(d){case Keywords.Pf:e.Yl&&
this.Ti(e.si,Keywords.tj,Keywords.Pf,w);e.si=!1;e.Yl=!0;d=q.W();break;case Keywords.Rf:e.Zl&&this.Ti(e.ui,Keywords.tj,Keywords.Rf,w);e.ui=!1;e.Zl=!0;d=q.W();break;case Keywords.me:e.hE&&this.Ti(e.wi,Keywords.tj,Keywords.me,w);e.wi=!1;e.Wt=!0;d=q.W();break;case Keywords.Ng:e.Yl&&this.Ti(e.si,Keywords.tj,Keywords.Pf,w);e.Zl&&this.Ti(e.ui,Keywords.tj,Keywords.Rf,w);e.hE&&this.Ti(e.wi,Keywords.tj,Keywords.me,w);e.si=!1;e.Yl=!0;e.ui=!1;e.Zl=!0;e.wi=!1;e.Wt=!0;d=q.W();break;default:this.zo(q,w,Keywords.tj,
"argument",Keywords.Ng+", "+Keywords.Pf+", "+Keywords.Rf+" or "+Keywords.me)}x=!0;break;case Keywords.Fw:B=!0;u.X.add(e,u);e=u.X.Gp();e.di=!0;d=q.Ha();d===Keywords.mc&&(d=q.W(),-1!==u.Yn&&(w[w.length]=[Keywords.Fw+" "+Keywords.mc,"overrides previous initial POI"]),u.Yn=u.X.yc.length);u.yJ();x=!0;break;case Keywords.Ct:q.N()&&(t=!0,r=q.O()|0,0<=r&&(A=!0,0<r&&(u.X.add(e,u),e=u.X.Gp()),e.nc=r,x=e.Dt=!0));break;case Keywords.$o:q.N()?(t=!0,r=q.O()|0,r>=ViewConstants.gi&&r<=ViewConstants.vg&&(!e.xf||u.ss||
ab||(w[w.length]=[Keywords.$o+" "+r,"overwrites "+e.step]),e.step=r,e.xf=!0,ab=u.ss=!1,u.MC=!1,x=!0)):(d=q.Ha(),d===Keywords.mc&&(d=q.W(),u.X.xd(Keywords.$o,e,w,u.ss),x=u.ss=!0));break;case Keywords.KB:q.N()&&(t=!0,r=q.O(),0<=r&&(A=!0,u.X.add(e,u),e=u.X.Gp(),r<ViewConstants.HH&&(r=ViewConstants.HH),e.fd=r,x=e.NH=!0));break;case Keywords.er:q.N()&&(t=!0,r=q.O()|0,u.Od||(-1===u.xe||bb||(w[w.length]=[Keywords.er+" "+r,"overwrites "+u.xe]),u.xe=r),bb=!1,x=!0);break;case Keywords.Up:q.N()&&(t=!0,r=q.O()|
0,u.Od||(-1===u.Cg||cb||(w[w.length]=[Keywords.Up+" "+r,"overwrites "+u.Cg]),u.Cg=r),cb=!1,x=!0);break;case Keywords.ht:q.N()&&(t=!0,r=q.O()|0,-1===u.bg||db||(w[w.length]=[Keywords.ht+" "+r,"overwrites "+u.bg]),u.bg=r,db=!1,x=!0);break;case Keywords.gt:q.N()&&(t=!0,r=q.O()|0,-1===u.Vi||eb||(w[w.length]=[Keywords.gt+" "+r,"overwrites "+u.Vi]),u.Vi=r,eb=!1,x=!0);break;default:w[w.length]=[b,"unknown or misspelt command"],x=!0}x||(t?w[w.length]=[b+" "+r,"argument out of range"]:this.zo(q,w,b,"argument",
sa))}""!==b&&(b=q.W())}n&&(w[w.length]=[Keywords.Fd+p,"unterminated string"]);A&&u.Be&&(z=u.kp?Keywords.np:u.op?Keywords.Lt:Keywords.Mt,w[w.length]=[z,"can not be used with Waypoints"],u.Be=!1,u.kp=!1,u.op=!1);u.kp||!u.Be&&!u.op||(u.op&&(0<u.g.lf&&(za*=u.g.lf),e.jb=za),u.lp=Da,u.Fn=Ea,u.Gn=Da,u.mp=Ea);if(A||B){u.X.add(e,u);e=u.X.Rr();A?u.Wc=!0:-1!==u.Yn&&(u.kh=u.Yn,v=u.X.yc[u.Yn],v.jg&&(e.jg=v.jg,e.x=v.x),v.Qf&&(e.Qf=v.Qf,e.y=v.y),v.le&&(e.le=v.le,e.zoom=v.zoom),v.Th&&(e.Th=v.Th,e.angle=v.angle),
v.ni&&(e.ni=v.ni,e.Na=v.Na),v.Hi&&(e.Hi=v.Hi,e.depth=v.depth),v.Qi&&(e.Qi=v.Qi,e.$=v.$),v.Jg&&(e.Jg=v.Jg,e.Nc=v.Nc),v.Xf&&(e.Xf=v.Xf,e.Hc=v.Hc),v.xf&&(e.xf=v.xf,e.step=v.step),v.LH&&(e.LH=v.LH,e.stop=v.stop),v.MF&&(e.MF=v.MF,e.loop=v.loop));if(A){for(Ga=0;Ga<u.X.Va.length;Ga+=1)e=u.X.Va[Ga],e.Ef&&(e.jg||e.Qf||e.le)&&(p="",e.jg?(p="X "+e.x,e.Qf?p=e.le?p+(", Y "+e.y+" and ZOOM "+e.zoom):p+(" and Y "+e.y):e.le&&(p+=" and ZOOM "+e.zoom)):e.Qf?(p="Y "+e.y,e.le&&(p+=" and ZOOM "+e.zoom)):e.le&&(p="ZOOM "+
e.zoom),w[w.length]=[Keywords.Ku,"overwrites "+p]);e=u.X.Rr()}B&&e.rh===WaypointConstants.play&&u.Fa&&(u.Bf=!0)}e.Ef&&(u.Ec=!0);e.Qf&&(u.g.va=u.g.height/2-e.y);e.jg&&(u.g.Ca=u.g.width/2-e.x,u.g.T&&(u.g.Ca-=u.g.va/2));e.le&&(u.g.zoom=e.zoom);u.g.P||u.g.T||u.g.Ga||(e.Th&&(u.g.angle=e.angle),e.ni&&(u.g.Na=e.Na),e.Hi&&(u.g.Pe=e.depth/ViewConstants.Zn+ViewConstants.nw),e.Qi&&(u.g.$=e.$));e.Jg&&(u.cD=e.Nc);e.Xf&&(u.lc=e.Hc,u.tb=ViewConstants.gi);e.xf&&(u.tb=e.step,1<u.tb&&(u.lc=u.Ma));e.ZC&&u.j.notification.notify(e.hg,
15,1E3,15,!1);u.ec=e.ec;u.jb=e.jb;e.le&&(u.Cz=!0);e.jg&&(u.Az=!0);e.Qf&&(u.Bz=!0);e.yl&&(u.g.qc=e.zd);e.ux&&(u.Zi=e.tn);for(Ga=0;Ga<g;Ga+=1)-1!==u.kc[Ga]&&(y+=1);if(0<y){u.Du=!0;for(Ga=0;Ga<g;Ga+=1)u.C.Zo[Ga]?-1===u.kc[Ga]?(u.Du=!1,u.Xn[Ga]=ViewConstants.JH):u.Xn[Ga]=ViewConstants.IH:u.Xn[Ga]=ViewConstants.RC;u.vr=u.Du?"(custom)":u.vr+" (custom*)"}else u.kc=null;u.$h&&(this.iO(u),u.zO&&(u.zO.upper=u.g.tf));u.Oa&&(z="not possible due to "+Keywords.Tt,u.Bf&&(w[w.length]=[Keywords.Lu,z],u.Bf=!1),-1!==
u.Ve&&(w[w.length]=[Keywords.vx+" "+u.Ve,z],u.Ve=-1),-1!==u.ec&&(w[w.length]=[Keywords.ck+" "+u.ec,z]),-1!==u.jb&&(w[w.length]=[Keywords.Jj+" "+u.jb,z]));0!==u.Pb&&u.kb+ViewConstants.vg+2*Math.abs(u.Pb)>=u.g.ia&&(w[w.length]=[Keywords.Px+" "+u.Pb,"pattern does not fit on grid at view offset"],u.Pb=0);0!==u.Qb&&u.qb+ViewConstants.vg+2*Math.abs(u.Qb)>=u.g.ia&&(w[w.length]=[Keywords.Qx+" "+u.Qb,"pattern does not fit on grid at view offset"],u.Qb=0);u.iB=w.length}""!==u.hj&&(u.hj=this.Yq(u,u.hj));u.Ec&&
(u.Ju=!0);u.sd&&u.Ac&&(w[w.length]=[Keywords.Gv,"not valid with "+Keywords.xw],u.sd=!1);var Na=0,Sa=!1;-1!==u.xe&&(Na=ViewConstants.Tc,u.xe>=ViewConstants.hG&&u.xe<Na&&(u.xe=Na),u.Zc&&(Na=ViewConstants.cM),u.xe<Na||u.xe>u.Ri)&&(w[w.length]=[Keywords.er+" "+u.xe,"argument out of range"],Sa=!0);-1!==u.Cg&&(Na=ViewConstants.Mj,u.Zc&&(Na=ViewConstants.bM),u.Cg<Na||u.Cg>ViewConstants.Hs)&&(w[w.length]=[Keywords.Up+" "+u.Cg,"argument out of range"],Sa=!0);u.Od&&(-1!==u.bg&&(u.bg>=ViewConstants.hG&&u.bg<
ViewConstants.Tc&&(u.bg=ViewConstants.Tc),u.bg<ViewConstants.Tc||u.bg>u.Ri)&&(w[w.length]=[Keywords.ht+" "+u.bg,"argument out of range"],u.bg=-1,Sa=!0),-1!==u.Vi&&(u.Vi<ViewConstants.Mj||u.Vi>ViewConstants.Hs)&&(w[w.length]=[Keywords.gt+" "+u.Vi,"argument out of range"],u.Vi=-1,Sa=!0));if(Sa||w.length)-1!==u.xe&&(u.xe<ViewConstants.Tc?u.xe=ViewConstants.Tc:u.xe>u.Ri&&(u.xe=u.Ri)),-1!==u.Cg&&(u.Cg<ViewConstants.Lm?u.Cg=ViewConstants.Lm:u.Cg>ViewConstants.Hs&&(u.Cg=-1)),u.Zc=!1;u.o.m=u.Zc;u.j.Zc=u.Zc;
u.j.El=u.El;u.Zc&&(u.Bf=!1,u.wb=!1,u.ek=!1,u.sd=!1,u.Jn([!1],!0,u),u.ZD([!1],!0,u),u.Nx([!1],!0,u),u.nd=!1,u.Mi=!1);u.eB&&(u.element.style="display:none",u.element.parentNode&&u.element.parentNode.parentNode&&u.element.parentNode.parentNode.className===DocConfig.wv&&(u.element.parentNode.parentNode.style="display:none;"));l&&u.YJ();u.X.nO()}}}(),function(){function u(c,l,e,v,A){this.name=c;this.pattern=l;this.EN=e;this.width=v;this.height=A}function h(c){var l;this.px=!1;this.uo=0;this.MC=this.LC=
!0;this.Ma=60;this.wo=y.PA;this.to=this.Sz=0;this.JF="";this.OC=this.vn=this.Ve=-1;this.mi=[];this.vw=this.Mr=this.gx=this.hD=this.ls=this.Bv=!1;this.C=new PatternManager;this.Wi=this.lo=!1;this.HA="";this.tg=!1;this.dw=this.bw=this.fq=this.As=this.zs=this.cq=this.cw=this.xs=this.hq=this.gq=this.ys=this.Nb=this.eq="";this.Gb=!1;this.js=this.ds=this.Vv=this.gs=this.hs=this.Yv=this.Wv=this.Uv=this.Tv=this.fs=this.ks=this.jj=this.mk=this.oj=this.nk=this.nj=this.lk=this.kk=this.jk=this.mj=this.kj=this.lj=
this.jf=this.es=null;this.Of=1;this.Rw=this.Ww=y.Hq;this.Pw=50;this.Vw=this.Sw=this.nt=!1;this.jn=this.Gl=this.Fl=-1;this.ji=[];this.Sj=[];this.bE=!1;this.Kr=this.cA=this.Xy=this.nA=this.Fy=null;this.Yr=18;this.Vp="18px "+y.hF;this.zm="18px "+y.PD;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.dm=!0;this.xx=this.Xh=this.Pl=this.Nl=this.Ql=this.Ol=this.Vk=!1;this.$f=[];for(l=0;10>l;l+=1)this.$f[l]=null;this.Md=!1;this.Jf=this.Kf=this.Qg=0;this.Zg=y.vq;this.Rh=this.qr=
!1;this.Db=null;this.od=!1;this.Op=new BoundingBox(0,0,0,0);this.Ob=new BoundingBox(0,0,0,0);this.fi=new BoundingBox(0,0,0,0);this.$b=new Random;this.$b.Ff(Date.now().toString());this.Tj=50;this.BH=this.AH=0;this.Bk=this.ub=!1;this.Xm=2;this.qg=[];this.Bo=this.zc=0;this.Wn=[];this.ld=0;this.Id=[];this.vd=0;this.Ba=[];this.Ba[y.Nt]=[1,0,0,1];this.Ba[y.rD]=[-1,0,0,-1];this.Ba[y.sD]=[-1,0,0,1];this.Ba[y.tD]=[1,0,0,-1];this.Ba[y.wD]=[0,1,1,0];this.Ba[y.xD]=[0,-1,-1,0];this.Ba[y.vD]=[0,-1,1,0];this.Ba[y.uD]=
[0,1,-1,0];this.Rk=[];this.Jq=[];this.Uj=[];this.Yg=[];this.cd=y.Us;this.uq=0;this.Ss=-1;this.tq=[];this.nB=this.mB=this.Ts=0;this.Ij=!1;this.Jk=0;this.aw=!1;this.gd=this.$m=this.Vm=this.Zm=this.Wm=0;this.$v=!1;this.Z=null;this.Hx=0;this.rl=!0;this.eg=0;this.ff=1;this.qn=this.rA=this.Nk=this.dt=!1;this.Wg=7;this.Wo=!0;this.yk=this.xk=0;this.rm=!1;this.Ai=this.UF=this.K=this.Es=63;this.mo=this.Cm=this.qs=this.ss=this.Bl=this.rs=this.ps=this.ts=this.os=this.no=this.vs=this.us=this.eB=!1;this.Mb=0;this.Ka=
null;this.Mc=this.Lc=0;this.aE=!1;this.Yn=this.Xk=this.Yk=-1;this.Uw=Date.now().toString();this.Xw=this.eC=!1;this.Fk=y.ri;this.Yi=!0;this.sd=!1;this.vh=!0;this.Dd=y.ZE;this.CF=this.Ac=!1;this.element=c;this.nd=!1;this.mp=this.Fn=this.Gn=this.lp=this.bv=this.Zu=this.av=this.$u=0;this.Mf=this.op=this.Be=this.kp=!1;this.wl=!0;this.xl=!1;this.Tg=0;this.vl=!1;this.fn=this.en=0;this.wh=!1;this.D="";this.Qb=this.Pb=0;this.Mz=this.Lz=this.Np=this.Nr=this.ho=this.fo=this.sl=this.PC=this.NC=this.wn=this.un=
this.Yo=this.yn=this.xn=this.kh=-1;this.gw=this.uv=!1;this.Et=this.Dh=-1;this.tr=this.Un=!1;this.Xu=-1;this.ap=this.Tl=null;this.yH=0;this.Ft="";this.bp=this.Zk=0;this.xO=32768;this.Vu=!1;this.fz=this.hz=0;this.ez=!0;this.Ju=this.Ec=this.sk=!1;this.Ln=0;this.sJ=.01;this.$i=this.Ni=!1;this.ol=this.Zh=null;this.Aj=y.Aj;this.im=[96,96,96];this.jm=[128,128,128];this.mm=[0,255,0];this.lm=[255,0,0];this.hm=[255,255,0];this.Ex=null;this.hj="";this.Qj=!0;this.Zi=this.Fa=this.de=!1;this.Sl=null;this.Od=!1;
this.ea=1;this.Mk=0;this.Ld=this.sA=!1;this.X=new WaypointManager;this.Bs="";this.IA=-1;this.ug=this.Wc=!1;this.tb=1;this.Cv=this.iB=this.Co=0;this.Ri=y.ZL;this.Vi=this.bg=this.Cg=this.xe=this.og=-1;this.Xs=this.xq="";this.Ys=this.bn=this.qb=this.kb=0;this.zq=null;this.an=this.rd=this.Jb=this.Pj="";this.dv=this.$h=!1;this.sa=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.TE=this.SE=-1;this.oz=y.IF;this.nz=y.Hu;this.pz=y.ZG;this.vr="";this.BJ=0;
this.Pg=[];this.Du=!1;this.kc=null;this.Xn=[];this.Ed=[];this.pc=1;this.ha=0;this.wt=!1;this.pq=100;this.qd=10;this.ba=[64,200,290,530,700];this.fh=!1;this.ma=[];this.Ov=[];this.Pv=[];this.ec=-1;this.yf=!1;this.jb=-1;this.Mv=this.Og=this.Bf=this.Bd=this.El=this.ww=this.Zc=this.Bi=this.Mi=this.Oa=this.Ye=this.Xc=!1;this.g=null;this.elapsedTime=0;this.fK=512;this.dK=256;this.J=640;this.H=512;this.Um=640;this.Tm=512;this.Hw=!1;this.qk=640;this.Aq=!0;this.Ch=this.JC=this.Ui=this.cb=this.Bq=!1;this.pn=
this.Cn=this.cj=this.Kc=this.Fp=this.Mo=this.gk=this.Hd=null;this.G=[];this.B=this.Pd=this.Xq=this.Tq=this.Zs=this.ii=this.ab=this.Ud=this.Gf=this.xg=this.wg=this.Hf=this.Ag=this.Bg=this.He=this.Ge=this.yg=this.oe=this.Fe=this.Jo=this.Qk=this.Dc=this.U=this.Io=this.pd=this.Ub=this.zg=this.nm=this.ad=this.wk=this.vk=this.dn=this.jd=this.ln=this.ik=this.eo=this.Jd=this.rg=this.io=this.It=this.Rp=this.Ks=this.jt=this.Uq=this.Yp=this.Ik=this.Jr=this.Ws=this.Td=this.sj=this.pi=this.vi=this.il=this.ll=
this.ti=this.Zp=this.Oh=this.Iq=this.el=this.gl=this.fl=this.dl=this.ms=this.$p=this.xi=this.ij=this.vm=this.Ap=this.Hj=this.Gq=this.Kn=this.yp=this.zp=this.Js=this.it=this.qo=this.Gm=this.da=this.eh=this.sm=this.yt=this.Mp=this.Sd=this.Mn=this.em=this.Vd=this.Wd=this.Gg=this.ur=this.Cl=this.Ki=this.rj=this.na=this.Ie=this.hd=this.De=this.Je=this.hf=this.Ke=this.gf=this.cf=this.Ph=this.Fh=this.Gh=this.yi=this.Ek=this.An=this.Jm=this.Hh=this.Nn=this.Eb=this.fc=this.Kb=this.zb=this.Lh=this.Nh=this.Mh=
this.Kh=this.pk=this.gb=this.nf=this.uc=this.rf=this.hc=this.qf=this.iq=this.rq=this.Hl=this.lt=this.Lq=this.kf=this.ue=this.md=this.Cc=this.Xe=this.Xd=this.Qh=this.Hm=this.Rm=this.Fm=this.Km=null;this.Pi=this.so=-1;this.wheelDelta=0;this.Jc=this.Sc=this.kn=null;this.lc=60;this.o=this.j=null;this.zj=this.ef=this.Lp=this.Jp=0;this.rv=this.bF=1;this.YE=60;this.Kp=this.$E=1;this.zz=.1;this.cD=-1;this.Yj=this.uf=this.yC=0;this.Qq=1;this.Vl=this.wb=this.Bz=this.Az=this.Cz=!1;this.We=y.aF;this.Sm=this.hn=
this.fD=this.cn=0;this.Dx=this.ek=!1;this.So=this.jD=0;this.se=this.bh=!1;this.$s=-1}function g(c,l,e,v,A){var B,D=l.parentNode,E=null;for(B=0;B<C.Rd.length&&!E;)C.Rd[B][0].tabIndex===l.tabIndex?E=C.Rd[B][1]:B+=1;E||(E=new h(A),E.Od=v,z.Cs&&!v&&(E.Ri=e&-8,E.Ri<y.Tc&&(E.Ri=y.Tc)),l.tabIndex=C.Rd.length+1,E.rp(l),"none"===D.style.display&&(C.Iw=new PopupWindow(D,E)),C.Rd[C.Rd.length]=[l,E,C.Iw]);v||E.li(c,!1)}function q(c){c=c.parentNode;for(var l=!1;!l;)"div"!==c.localName||c.className!==z.vv&&c.className!==
z.wv||(l=!0),l||(c=c.parentNode);return c}function k(){var c=C.tx(),l=c[1],e=c[2];c[0].parentNode.style.display="none";e.ao=!1;l.cb&&(l.Ub.current=l.Gd(y.Re,!0,l))}function a(c){k();c.stopPropagation&&c.stopPropagation();c.preventDefault();return!1}function b(c){c=c.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();c=c.replace(/\n[ ]+/g,"\n");c=c.replace(/\n\t+/g,
"\n");""===c&&(c="!");return c}function d(c){var l=q(c).getElementsByTagName(z.yq)[0];c=C.Rd[0];l.value&&(l.innerHTML=l.value);l=b(l);c[1].XD(c[1]);c[1].j.notification.clear(!0,!0);c[1].j.notification.clear(!1,!0);c[1].li(l,!1)}function f(c){var l=28,e=18,v=C.tx()[2];c.Kr.style.transform="scale("+c.Of+","+c.Of+")";c.Kr.style.transformOrigin="top left";c.resize();v.ao=!0;v.pH(v);1!==c.o.Jh&&(l=l*c.o.Jh|0,e=e*c.o.Jh|0,c.Fy.style.height=l+"px",c.Fy.style.fontSize=e+"px",c.cA.style.height=l+"px",c.cA.style.fontSize=
e+"px",c.Xy.style.height=l+"px",c.Xy.style.fontSize=e+"px",c.nA.style.height=l+"px",c.nA.style.lineHeight=l+"px");c.Jc.canvas.focus();c.Jc.canvas.blur();return c.vw=!1}function m(c){var l=q(c);l=l.getElementsByTagName(z.yq)[0];c=b(l);var e=C.tx(),v;if(e)(v=e[2])&&v.reset(),v=e[1],v.element=l,v.XD(v);else{e=document.createElement("canvas");e.width=y.Tc;e.height=y.Lm+80;e.style.display="block";e.contentEditable="false";var A=document.createElement("a");A.setAttribute("href","#");A.innerHTML="&nbsp;X&nbsp;";
A.style.textDecoration="none";A.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";A.style.color="#FFFFFF";A.style.backgroundColor="#C75050";A.style.cssFloat="right";A.style.height="28px";A.style.fontSize="18px";var B=document.createElement("a");B.innerHTML="&nbsp;X&nbsp;";B.style.textDecoration="none";B.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";B.style.visibility="hidden";B.style.cssFloat="left";B.style.height="28px";B.style.fontSize="18px";var D=document.createElement("div");
D.style.textAlign="center";D.style.color="rgb(83,100,130)";D.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";D.style.fontSize="18px";D.style.height="28px";var E=document.createTextNode(y.Pr);D.style.cursor="default";D.appendChild(E);registerEvent(A,"click",a,!1);registerEvent(A,"touchend",a,!1);var G=document.createElement("div");G.style.display="none";G.style.position="fixed";G.style.border="1px solid rgb(128,128,128)";G.style.zIndex="101";G.style.left="2048px";G.style.top="0px";G.style.textAlign=
"right";G.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";G.style.margin="1px";var F=document.createElement("div");F.className=z.wv;F.style.backgroundColor="#FFFFFF";F.style.height="28px";F.style.lineHeight="28px";F.style.margin="0px";F.style.border="0px";F.appendChild(B);F.appendChild(A);F.appendChild(D);G.appendChild(F);G.appendChild(e);document.body.appendChild(G);g(c,e,y.Tc,!0,l);C.KC=C.Rd.length-1;e=C.tx();v=e[1];v.Ex=E;v.Fy=A;v.cA=B;v.Xy=D;v.nA=F;v.Kr=G}l=e[0].parentNode;
""!==l.style.display&&(l.style.display="");v.J=y.Tc;v.H=y.Lm+80;v.resize();v.j.notification.clear(!0,!0);v.j.notification.clear(!1,!0);v.vw=!0;v.li(c,!0);v.vw||f(v)}function n(c,l,e){c=c.getElementsByTagName("a")[0];var v=document.createElement("a"),A=null;v.setAttribute("href","#");v.innerHTML="Show Pattern Error";registerEvent(v,"click",function(B){B.stopPropagation&&B.stopPropagation();B.preventDefault();alert(e)},!1);c?(A=document.createTextNode(" / "),c.parentNode.appendChild(A),c.parentNode.appendChild(v)):
l.parentNode.appendChild(v)}function p(c,l){var e=l[0],v=l[1];l=l[2];if(c&&c.Qe&&!c.Kg){if(null!==v){v=v.getElementsByTagName("a")[0];var A=document.createElement("a");A.setAttribute("href","#");A.innerHTML="Show in Viewer";registerEvent(A,"click",t,!1);v?(l=document.createTextNode(" / "),v.parentNode.appendChild(l),v.parentNode.appendChild(A)):l.parentNode.appendChild(A)}z.Ya&&(C.Se[C.Se.length]=new u(c.name,e,c.I+c.Bp,c.width,c.height))}}function r(c,l){var e=l[1];l=l[2];c&&null!==e&&n(e,l,c.I+
" - "+c.tG)}function x(c,l,e,v,A){l=e.create("",c,l,p,r,[c,v,A],!1,null);e.hw||p(l,[c,v,A])}function t(c){m(this);c.stopPropagation&&c.stopPropagation();c.preventDefault();return!1}function w(){var c=document.getElementsByTagName("div"),l,e;var v=new Allocator;var A=new PatternManager;var B=document.getElementsByTagName("meta");for(l=0;l<B.length;l+=1){var D=B[l];if(D.name===z.tagName&&(z.dA=!1,z.Cs=!1,D=D.content,(e=D.match(/\S+/g))&&2<=e.length&&7>=e.length))for(z.vv=e[0],z.yq=e[1],D=2;D<e.length;D+=
1)switch(e[D]){case z.xL:z.dA=!0;break;case z.UL:z.Cs=!0;break;case z.lM:z.Ya=!0;break;case z.PK:z.fullScreen=!0;break;default:if("/"===e[D][0])z.mC=e[D];else if("."===e[D][0]||"?"===e[D][0])z.vH=e[D];else{var E=e[D];!isNaN(parseFloat(E))&&isFinite(Number(E))&&(z.Cw=parseFloat(E)|0)}}}AliasManager.Ff();for(B=0;B<c.length;B+=1)(D=c[B],D.className===z.vv)?(l=D.getElementsByTagName(z.yq)[0],D=D.getElementsByTagName("canvas")[0],(e=l.getElementsByTagName(z.yq)[0])&&(l=e),typedArrays&&l&&(e=b(l),z.Ya&&
x(e,v,A,null,null),D&&D.getContext?(-1<z.Cw&&l.clientHeight>z.Cw&&(l.style.height=z.Cw+"px"),D.contentEditable="false",g(e,D,l.offsetWidth,!1,l)):z.dA&&D&&(D.style.display="none"))):typedArrays&&D.className===z.wv&&D.parentNode.className!==z.vv&&(l=D.getElementsByTagName(z.yq)[0])&&(e=b(l),x(e,v,A,D,l));c=document.getElementsByTagName("a");for(B=0;B<c.length;B+=1)v=c[B],""!==v.accessKey&&-1!==y.iJ.indexOf(v.accessKey)&&(v.accessKey="")}var z={tagName:"LifeViewer",PK:"fullscreen",xL:"hide",lM:"multi",
UL:"limit",vv:"rle",yq:"code",Cw:37,dA:!0,fullScreen:!1,Cs:!1,Ya:!1,wv:"codebox",mC:"",vH:"",Se:[]},y={iJ:"0123456789rtyopasghjklxcbn",PA:18,OA:10,cG:1048576,Dk:0,Ev:1,fF:2,Hq:64,jG:1,bG:4096,iG:1,aG:4096,qw:1,kw:100,AO:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],Ht:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],vq:0,MG:1,NG:2,KG:3,PG:4,OG:5,QG:6,SG:7,LG:8,qG:9,yM:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Av:15,rM:5,tk:1E8,Nt:0,rD:1,sD:2,tD:3,wD:4,
xD:5,vD:6,uD:7,JG:0,sB:1,xG:2,GG:3,yG:4,IG:5,EB:6,Us:7,CG:8,HG:9,EG:10,zG:11,DG:12,AG:13,BG:14,FG:15,Aw:3,YH:[1,3,7,6],oO:[0,1],pO:[0,1],zL:[0,1,0,1,0,1,0],AL:[0,1,2,3,4,5,6],vO:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],uO:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],ie:Math.sqrt(3),PJ:65536,RJ:500,SJ:17,uF:13750737,vF:15066597,Jv:7368816,Kv:5263440,HH:.016,kO:16,pG:16384,ZE:.7,yw:16384,TN:"Script errors",qh:-8,ph:8,kG:2,dG:4,aF:4,aI:16.7,fG:9,YF:14,eK:13,cs:null,eG:1,WF:16,XE:3,
mh:0,yj:1,ev:2,Gi:3,yr:4,zr:5,Ar:6,ov:7,pv:8,fv:9,lv:10,kv:11,jv:12,mv:13,nv:14,hv:15,Br:16,gv:17,sz:18,Fr:19,Dr:20,Gr:21,Ir:22,Hr:23,Er:24,xr:25,Cr:26,rz:27,vz:28,uz:29,qz:30,tM:0,uM:1,yL:2,PF:3,TF:4,RF:5,HF:6,bb:[0,6,2,5,3,4,1],mi:"dead alive history mark1 markOff mark2 kill".split(" "),tP:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),CM:0,BM:160,UG:10,kP:!1,Oz:1800,Pr:"LifeViewer",Lx:713,dI:"Chris Rowett",ow:1,iw:10,YA:0,nq:1,Re:2,Kk:3,Mm:0,Om:1,Nm:2,Rx:1.25,EL:.99,nw:0,XF:10,Zn:10,VF:32,
Xa:.03125,Hb:64,rw:0,lw:5,Is:-32,Fs:-1,lq:-2048,jq:-1,mq:1/2048,kq:2048,Si:1,gi:1,vg:64,VE:.1,hF:"Courier",PD:"Arial",Bh:"18px Arial",Ah:"14px Arial",rx:"9px Arial",Hu:"rgb(240,255,255)",pJ:"rgb(0,0,0)",ZG:"rgb(240,255,255)",$G:"rgb(0,0,0)",rE:2,pw:1,jw:64,oJ:.2,IF:"rgb(240,255,255)",RL:"rgb(0,0,0)",QL:18,gG:4,ZF:128,PL:"Arial",Wp:"rgb(32,255,255)",Zr:"#000000",Aj:"rgb(255,96,96)",Hv:"rgb(128,128,128)",cM:64,bM:64,hG:480,Tc:600,ZL:4096,tL:80,Mj:240,Hs:4096,Lm:480,bH:560,Yt:172,Sx:292,RC:0,IH:1,JH:2,
aM:0,WL:16,ri:0,uA:1,AC:2,Zv:3,dD:4,dz:5,Dy:6,QA:7,Gy:8},C={A:new Allocator,Rd:[],KC:-1,Iw:null,Se:[],tx:function(){var c=null;-1!==this.KC&&(c=this.Rd[this.KC]);return c},XK:function(c){var l=null;0<=c&&c<this.Rd.length&&(l=this.Rd[c][1]);return l},qP:function(){return this.Rd.length},bP:function(){var c=0,l;for(l=0;l<this.Rd.length;l+=1){var e=this.Rd[l][1];e.cb&&(c+=1)}return c},sN:function(){var c,l=0;for(c=0;c<this.Rd.length;c+=1){var e=this.Rd[c][1];e.Ub.current=e.Gd(y.YA,!0,e);e.j.cg(!0);l+=
1}return l},sO:function(){var c,l=0;for(c=0;c<this.Rd.length;c+=1){var e=this.Rd[c][1];e.cb&&!e.ls&&(e.Ub.current=e.Gd(y.Re,!0,e),l+=1)}return l},MH:function(c){var l,e=0;for(l=0;l<this.Rd.length;l+=1){var v=this.Rd[l][1];v!==c&&v.cb&&!v.ls&&(v.Ub.current=v.Gd(y.Re,!0,v),e+=1)}return e}};h.prototype.Yu=function(){var c,l=this.$f,e=this.Qg,v=[];for(c=0;10>c;c+=1){var A=c===e?"current ":"activate ";A+="clipboard";null!==l[c]?(A+=" ("+l[c].width+" x "+l[c].height+", "+l[c].count+" cell",1!==l[c].count&&
(A+="s"),A+=")"):A+=" (empty)";v[c]=A+" [Alt "+c+"]"}this.ur.F=v};h.prototype.LF=function(c){window.confirm("Open last saved pattern?")&&d(c.element)};h.prototype.Oc=function(){var c=1<<y.Av,l=this.ld>>y.Av;l===this.Wn.length&&(this.Wn[l]=this.g.A.R(Int16,c,"View.currentEdit"+l));return this.Wn[l]};h.prototype.ed=function(c,l,e){var v=this.g.getState(c,l,!1),A=this.ld,B=y.Av;var D=A>>B;var E=1<<B,G=E-1,F=this.Wn,I=(this.g.width>>1)-(this.kb>>1),L=(this.g.height>>1)-(this.qb>>1);var K=this.g.i;var J=
2<K&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V),M=!1;0<v&&J&&(v=K-v);-1===K&&(K=this.g.ta?7:2);0>e?e=0:e>=K&&(e=K-1);if(e!==v){if(!this.de){D>=F.length&&this.Oc();K=F[D];A&=G;J=e<<8|v;if(0<A)if(4<=A){var H=K[A-1];16384<=H?K[A-3]===J&&K[A-2]===l-L&&K[A-4]===c-I-(H-16384)-2&&(K[A-1]+=1,M=!0):K[A-2]===J&&K[A-1]===l-L&&K[A-3]===c-I-1&&(K[A]=16384,A+=1,this.ld+=1,A===E&&this.Oc(),M=!0)}else D=this.ld,H=F[D-1>>B][D-1&G],16384<=H?K[D-3>>B][D-3&G]===J&&K[D-2>>B][D-2&G]===l-L&&K[D-4>>B][D-4&G]===c-I-(H-16384)-
2&&(K[D-1>>B][D-1&G]+=1,M=!0):F[D-2>>B][D-2&G]===J&&F[D-1>>B][D-1&G]===l-L&&F[D-3>>B][D-3&G]===c-I-1&&(K[A]=16384,A+=1,this.ld+=1,A===E&&(K=this.Oc()),M=!0);M||(K[A]=c-I,A+=1,this.ld+=1,A===E&&(K=this.Oc(),A=0),K[A]=e<<8|v,A+=1,this.ld+=1,A===E&&(K=this.Oc(),A=0),K[A]=l-L,this.ld+=1,A+1===E&&this.Oc())}this.og=-1;return this.g.Zj(c,l,e,!0)}return 0};h.prototype.IB=function(c,l){var e=0,v=(this.g.width>>1)-(this.kb>>1),A=(this.g.height>>1)-(this.qb>>1),B=0;if(c)if(l)for(e=c.length;0<e;){var D=c[e-
1];16384<=D&&--e;e-=3;l=c[e]+v;var E=c[e+1]&255;var G=c[e+2]+A;B|=this.g.Zj(l,G,E,!0);if(16384<=D)for(D-=16384;0<=D;)l+=1,B|=this.g.Zj(l,G,E,!0),--D}else for(;e<c.length;)if(l=c[e]+v,E=c[e+1]>>8,G=c[e+2]+A,B|=this.g.Zj(l,G,E,!0),e+=3,D=c[e],16384<=D)for(e+=1,D-=16384;0<=D;)l+=1,B|=this.g.Zj(l,G,E,!0),--D;this.g.ta&&B&&this.g.Lf()};h.prototype.nx=function(c){for(var l=this.zc-1,e=this.Ob,v=!1;0<=l&&!v;)this.qg[l].ai<=c?("advance outside"===this.qg[l].action&&--l,v=!0):--l;v&&(this.zc=l+1,c=this.zc>=
this.Bo?this.qg[this.zc-1]:this.qg[this.zc],c.selection?(e.l=c.selection.l,e.s=c.selection.s,e.u=c.selection.u,e.v=c.selection.v,this.ub=!0):this.ub=!1,this.Rh=!1,this.zi())};h.prototype.zi=function(){var c=this.zc,l=this.Bo,e=this.qg;if(1<c){var v="undo ";var A=e[c-1];if(null===A.co){var B=A.ai;1<c&&(B=e[c-2].ai);this.g.counter===B?v+=A.action:(v=1<this.g.counter-B?v+"play":v+"step",v+=" from "+B)}else v=""===A.action?v+"edit":v+A.action;"undo "===v&&(v="undo");this.gk.F=v+" [Ctrl Z]"}c<l&&(v="redo ",
A=e[c],null===A.co?(B=A.ai,B===this.g.counter?v+=A.action:(v=1<B-this.g.counter?v+"play":v+"step",v+=" to "+B)):v=""===A.action?v+"edit":v+A.action,"redo "===v&&(v="redo"),this.Mo.F=v+" [Ctrl Y]")};h.prototype.$t=function(c){var l=this.ub?this.Ob:null;return null===c&&null===l?!0:null===c&&null!==l||null!==c&&null===l?!1:c.l===l.l&&c.s===l.s&&c.u===l.u&&c.v===l.v?!0:!1};h.prototype.um=function(c,l,e,v){var A=!1;if(0<this.zc){var B=this.qg[this.zc-1];B.ai===c&&null===l&&""===e&&this.$t(B.selection)&&
(A=!0)}A||(this.qg[this.zc]={ai:c,co:l,action:e,selection:v},this.zc+=1)};h.prototype.nb=function(c){var l=this.g.counter,e=null,v=null,A=this.Ob,B=null,D=y.Av,E=1<<D,G=E-1;D=this.ld>>D;if(!this.de){this.cb&&(0<this.zc&&(B=this.qg[this.zc-1]),B&&B.selection&&(v=new BoundingBox(B.selection.l,B.selection.s,B.selection.u,B.selection.v)),this.um(l,e,"",v),v=null);this.ub&&(v=new BoundingBox(A.l,A.s,A.u,A.v));if(0<this.ld){e=this.g.A.R(Int16,this.ld,"View.editCells"+this.zc);for(B=A=0;A<D;)e.set(this.Wn[A].slice(),
B),A+=1,B+=E;this.ld&G&&e.set(this.Wn[A].slice(0,this.ld&G),B);this.ld=0}this.um(l,e,c,v);this.Bo=this.zc;this.zi()}};h.prototype.JD=function(c){var l=c.g.counter,e=c.zc,v=c.Ob,A=1,B=!1;if(!c.de){this.cb&&(c.Ub.current=c.Gd(y.Re,!0,c),e=c.zc);if(0<e)for(;0<A;){var D=c.qg[e-1];var E=D.ai;var G=D.selection;B||"advance outside"!==D.action||(B=!0,A=3);null===D.co&&1<e&&(E=c.qg[e-2].ai);1<e&&(G=c.qg[e-2].selection);E<l?(0===E?c.reset(c):c.qt(E),l=c.g.counter):c.IB(D.co,!0);G?(v.l=G.l,v.s=G.s,v.u=G.u,v.v=
G.v,c.ub=!0):c.ub=!1;c.Rh=!1;"reverse playback"===D.action&&(c.g.ud=!0);--e;c.zc=e;--A}else 0<l&&c.reset(c);this.zi();this.g.nh();this.g.ta&&this.g.Lf()}};h.prototype.kC=function(c){var l=c.g.counter,e=c.Ob,v=1,A=!1;if(!c.de){for(;0<v&&c.zc<c.Bo;){var B=c.qg[c.zc];A||"advance outside"!==B.action||(A=!0,v=3);B.ai===l&&null===B.co&&""===B.action&&(c.zc+=1);B.ai>l?(c.MN(B.ai),l=c.g.counter):c.IB(B.co,!1);B.selection?(e.l=B.selection.l,e.s=B.selection.s,e.u=B.selection.u,e.v=B.selection.v,c.ub=!0):c.ub=
!1;c.Rh=!1;"reverse playback"===B.action&&(c.g.ud=!0);c.zc+=1;--v}this.zi();this.g.nh();this.g.ta&&this.g.Lf()}};h.prototype.Bm=function(c,l,e,v){var A=[],B,D=this.g.i,E=this.Ba[v];v=E[0];var G=E[1],F=E[2];E=E[3];var I=new Pattern("rleToCellList",this.C),L=2<D&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V);c+=" ";if(-1!==this.C.Ip(I,c,!1,this.g.A)){if(-1!==this.C.Ip(I,c,!0,this.g.A))for(B=0;B<I.height;B+=1){var K=I.sh[B];for(c=0;c<I.width;c+=1){var J=K[c];L&&0<J&&(J=D-J);A[A.length]=l+c*v+B*G;A[A.length]=
e+c*F+B*E;A[A.length]=J}}}else A[0]="error";return A};h.prototype.iu=function(c){var l=0,e=c.indexOf("["),v=c.indexOf("]");if(-1!==e&&-1!==v&&e<v&&v===c.length-1){for(e+=1;e<v&&0<=l;){var A=c.charCodeAt(e)-48;0>A||9<A?l=-1:(l=10*l+A,e+=1)}0<l&&(this.aw=!0)}return l};h.prototype.EJ=function(c){var l=0>this.Wm?-this.Wm:this.Wm,e=0>this.Zm?-this.Zm:this.Zm;l=2*(l<e?e:l);c<l&&(c=l);return c};h.prototype.DJ=function(c){var l=0>this.Vm?-this.Vm:this.Vm,e=0>this.$m?-this.$m:this.$m;l=2*(l<e?e:l);c<l&&(c=
l);return c};h.prototype.bJ=function(c,l){var e,v=!1;for(e=0;!v&&e<this.Rk.length;)c===this.Rk[e].name?v=!0:e+=1;if(v)for(c=this.Rk[e].hK,e=0;e<c.length;e+=1)l[l.length]=c[e];return v};h.prototype.YI=function(c,l,e){var v,A=!1;if(ScriptParser.po(l))c[c.length]=[Keywords.Kq+" "+l,"name is reserved word"];else{for(v=0;!A&&v<this.Rk.length;)l===this.Rk[v].name?A=!0:v+=1;if(A)c[c.length]=[Keywords.Kq+" "+l,"name already defined"];else{A=!1;for(v=0;!A&&v<e.length;)1>e[v]?A=!0:v+=1;A?c[c.length]=[Keywords.Kq+
" "+l+" "+e[v],"invalid delta"]:(c=e.slice(),this.Rk[this.Rk.length]={name:l,hK:c})}}};h.prototype.XI=function(c,l,e,v,A,B){var D,E=!1;if(ScriptParser.po(l))c[c.length]=[Keywords.Po+" "+l,"name is reserved word"];else if(-1!==l.indexOf("["))c[c.length]=[Keywords.Po+" "+l,"name can not contain ["];else{for(D=0;!E&&D<this.Uj.length;)l===this.Uj[D].name?E=!0:D+=1;E?c[c.length]=[Keywords.Po+" "+l,"name already defined"]:(e=this.Bm(e,v,A,B),"error"!==e[0]?this.Uj[this.Uj.length]={name:l,cells:e}:c[c.length]=
[Keywords.Po+" "+l,"invalid RLE"])}};h.prototype.aJ=function(c,l,e,v,A,B,D,E,G,F,I){var L=0,K=!1,J=[],M=this.Ba[I],H=M[0],U=M[1],qa=M[2],ka=M[3];M=y.tk;var O=-y.tk,ca=y.tk,Q=-y.tk,W=E.indexOf("["),ia=E,ha=0,X=[];-1!==W&&(ia=E.substr(0,W),ha=this.iu(E));for(;L<this.Uj.length&&!K;)this.Uj[L].name===ia?(K=!0,J=this.Uj[L].cells.slice()):L+=1;if(K)for(L=0;L<J.length;)E=J[L],I=J[L+1],J[L]=G+E*H+I*U,J[L+1]=F+E*qa+I*ka,L+=3;else J=this.Bm(E,G,F,I),"error"!==J[0]&&(K=!0);-1===ha&&(K=!1);if(K&&0<J.length){for(L=
0;L<J.length;)G=J[L],F=J[L+1],G<M&&(M=G),G>O&&(O=G),F<ca&&(ca=F),F>Q&&(Q=F),L+=3;G<this.Wm&&(this.Wm=G);G>this.Zm&&(this.Zm=G);F<this.Vm&&(this.Vm=F);F>this.$m&&(this.$m=F);H=Array.ka(Uint8,Q-ca+1,O-M+1,0,this.g.A,"View.rle"+this.Yg.length);for(L=0;L<J.length;)G=J[L],F=J[L+1],H[F-ca][G-M]=J[L+2],L+=3;X[0]=c;for(L=0;L<e.length;L+=1)X[X.length]=X[X.length-1]+e[L];this.Yg[this.Yg.length]={Ji:X,end:l,every:v,mode:A,cells:J,map:H,l:M,s:ca,width:O-M+1,height:Q-ca+1,DK:ha,deltaX:B,deltaY:D};0<v&&(this.Ij=
!0);X[X.length-1]>this.Jk&&(this.Jk=X[X.length-1])}return K};h.prototype.QM=function(){var c,l,e=this.g.width,v,A=this.g.M;for(c=0;c<this.Yg.length;c+=1){var B=this.Yg[c];var D=B.DK;if(0<D){var E=B.cells;var G=(e>>1)-(B.width>>1);var F=(e>>1)-(B.height>>1);var I=0;A.l=G;A.u=G+B.width-1;A.s=F;A.v=F+B.height-1;for(this.g.counter=0;I<E.length;)this.g.Zj(G+E[I]-B.l,F+E[I+1]-B.s,E[I+2],!0),I+=3;for(;0<D;)this.g.we(!1,!0,!0,this.Gb,this),this.g.re(),--D;E=[];I=0;var L=v=y.tk;for(l=A.s;l<=A.v;l+=1)for(D=
A.l;D<=A.u;D+=1){var K=this.g.getState(D,l,!1);0!==K&&(E[I]=D-G+B.l,E[I+1]=l-F+B.s,E[I+2]=K,E[I]<v&&(v=E[I]),E[I+1]<L&&(L=E[I+1]),I+=3)}B.cells=E.slice();B.width=A.u-A.l+1;B.height=A.v-A.s+1;B.s=L;B.l=v;B.map=Array.ka(Uint8,B.height,B.width,0,this.g.A,"View.rle"+c);for(I=0;I<E.length;)D=E[I],l=E[I+1],B.map[l-B.s][D-B.l]=E[I+2],I+=3;this.g.rr(!1)}}this.aw&&this.g.rr(!1)};h.prototype.ym=function(c){var l=!1,e=this.g.counter;var v=!1;if(this.g.la||this.g.L)e=this.g.bf;0!==c.every&&(this.g.la||this.g.L)&&
null!==this.g.Yc&&e<this.g.Kj&&(l=!1,v=!0);if(!v)if(0!==c.every&&e>=c.Ji[0]&&0===(e-c.Ji[0])%c.every)-1!==c.end&&e>c.end||(l=!0);else for(v=0;v<c.Ji.length&&!l;)e===c.Ji[v]?l=!0:v+=1;return l};h.prototype.jJ=function(){for(var c=!1,l=0,e=this.Yg.length;l<e&&!c;)c=this.ym(this.Yg[l]),l+=1;return c};h.prototype.hi=function(){var c,l=this.g.counter;var e=0;var v=this.g.width,A=this.g.height,B=this.g.i-1;-2==B&&(B=this.g.ta?6:1);for(c=0;c<this.Yg.length;c+=1){var D=this.Yg[c];if(this.ym(D)){var E=D.mode;
var G=(v>>1)-(this.kb>>1);var F=(A>>1)-(this.qb>>1);var I=D.map;if(0!==D.every&&(0!==D.deltaX||0!==D.deltaY)){var L=(l-D.Ji[0])/D.every;G+=D.deltaX*L;F+=D.deltaY*L}G+=D.l;F+=D.s;for(D=0;D<I.length;D+=1){var K=I[D];if(this.g.L||this.g.fa)for(L=0;L<K.length;L+=1){var J=K[L];var M=this.g.getState(G+L,F+D,!1);switch(E){case y.JG:e=0;break;case y.sB:e=J&M;break;case y.xG:e=J&B-M;break;case y.GG:e=J;break;case y.yG:e=B-J&M;break;case y.IG:e=M;break;case y.EB:e=J^M;break;case y.Us:e=J|M;break;case y.CG:e=
B-(J|M);break;case y.HG:e=B-(J^M);break;case y.EG:e=B-M;break;case y.zG:e=J|B-M;break;case y.DG:e=B-J;break;case y.AG:e=B-J|M;break;case y.BG:e=B-(J&M);break;case y.FG:e=1}0>e?e=0:e>=B&&(e=B-1);this.g.Zj(G+L,F+D,e,!0)}else if(this.g.ta||this.g.V)for(L=0;L<K.length;L+=1)J=K[L],E===y.Aw?e=J:(e=J&1,M=this.g.getState(G+L,F+D,!1),M&=1,e=0===(E&8>>(e+e|M))?0:1),this.g.Zj(G+L,F+D,e,!0);else for(L=0;L<K.length;L+=1)J=K[L],e=0===J?0:1,M=this.g.getState(G+L,F+D,!1),M=0===M?0:1,e=0===(E&8>>(e+e|M))?0:1,this.g.Zj(G+
L,F+D,e,!0)}}}if(this.Ij||l<=this.Jk)this.g.Y=1;this.wG()};h.prototype.wG=function(){var c,l=this.g.counter;for(c=0;c<this.zc;c+=1)this.qg[c].ai===l&&this.IB(this.qg[c].co,!1);this.g.nh()};h.prototype.Em=function(c){this.mo=this.Cm=this.qs=this.ss=this.Bl=this.rs=this.ps=this.ts=this.os=this.no=this.vs=this.us=c};h.prototype.yJ=function(){this.Em(!1)};h.prototype.ZN=function(){this.Em(!0)};h.prototype.DE=function(){this.Ov=[];this.Pv=[]};h.prototype.vJ=function(c){var l=document.createElement("a");
l.href=c.Sc.toDataURL("image/png");l.download="screenshot.png";l.click();l.remove();c.j.notification.notify("Image Saved",15,300,15,!0)};h.prototype.NJ=function(c){var l=this.g.hb,e=this.g.S,v=this.g.Ja,A=this.g.ic,B=c.width,D=c.height,E=this.Lc,G=this.Mc,F=this.g.Ab,I=this.g.Ab>>4,L=this.g.Cb,K=null,J=B,M=D;var H=Math.round(-this.g.Aa/2);var U=Math.floor((this.g.Aa-1)/2);var qa=Math.round(-this.g.wa/2);var ka=Math.floor((this.g.wa-1)/2);var O=E-(this.g.width>>1);var ca=O+B-1;var Q=G-(this.g.height>>
1),W=Q+D-1;D=this.g.i;var ia=!0;B=2===D&&this.g.pa;-1!==this.g.xa&&(0!==this.g.Aa&&(O<H||ca>U)&&(ia=!1),0!==this.g.wa&&(Q<qa||W>ka)&&(ia=!1),ia||(this.aE=!0,0!==this.g.Aa?(E=Math.round(this.g.width/2)+H,J>U-H+1&&(J=U-H+1)):E=Math.round(this.g.width/2),0!==this.g.wa?(G=Math.round(this.g.height/2)+qa,M>ka-qa+1&&(M=ka-qa+1)):G=Math.round(this.g.height/2)));c.P&&(0!==(E&1)&&(E+=1),0!==(G&1)&&(G+=1));c.la&&(0===(E&1)&&--E,0===(G&1)&&--G);for(U=0;U<M;U+=1){O=c.Qe[U];ca=l[U+G&L];if(this.Bd||this.g.L||this.g.fa||
this.g.V||!this.Fa)for(qa=c.sh[U],K=e[U+G&L],H=0;H<J;H+=1)ka=qa[H],0<ka&&(ka+=this.K),K[H+E&F]=ka;else if(2<D)for(qa=c.sh[U],K=e[U+G&L],H=0;H<J;H+=1)ka=qa[H],0<ka&&!this.g.Ga&&(ka=D+this.K-ka),K[H+E&F]=ka;B&&(K=e[U+G&L]);for(H=0;H<J;H+=1)0!==(O[H>>4]&1<<(~H&15))&&(ca[H+E>>4&I]|=1<<(~(H+E)&15),B&&(K[H+E&F]=LifeConstants.Qa))}if(A)for(U=0;U<M;U+=1)for(qa=c.sh[U],l=A[U+G&L],H=0;H<J;H+=1)(ka=qa[H])&&(l[H+E&F]=y.bb[ka]+128);(this.g.L||this.g.fa||this.g.V)&&v.Wa.set(e.Wa)};h.prototype.Dv=function(){var c=
!1;-1!==this.g.xa&&0!==this.g.Aa&&0!==this.g.wa&&(c=!0);return c};h.prototype.lu=function(){var c=!1;-1===this.g.xa||0!==this.g.Aa&&0!==this.g.wa||(c=!0);return c};h.prototype.Mx=function(c,l,e){c=c[0];l&&(e.Dd=c);return[c,100*c]};h.prototype.WD=function(c,l,e){l&&(e.Zg=c[0]);return[e.Zg,y.yM[e.Zg+.5|0]]};h.prototype.aK=function(c){c.Oa||(c.Zg=(c.Zg+.5|0)+1,c.Zg>=y.qG&&(c.Zg=0),c.Jo.current=c.WD([c.Zg,c.Zg],!0,c))};h.prototype.qI=function(c,l,e){l&&(e.Tj=c[0],e.Tj<y.qw&&(e.Tj=y.qw),e.Tj>y.kw&&(e.Tj=
y.kw));return[e.Tj,e.Tj]};h.prototype.ul=function(c,l,e){l&&(e.eg=(e.g.i-e.Wg)*c[0]|0);c[1]="";0<e.eg&&(c[1]="<");c[1]+=e.eg+"-"+(e.eg+e.Wg-1);e.eg+e.Wg<e.g.i&&(c[1]+=">");return c};h.prototype.cl=function(c,l,e){var v=c[0],A=0;l?(e.ug=!0,e.g.zoom=y.Xa*Math.pow(y.Hb/y.Xa,c[0])/e.g.Bc):(v=Math.log(e.g.zoom*e.g.Bc/y.Xa)/Math.log(y.Hb/y.Xa),0>v?v=0:1<v&&(v=1));this.Be&&!this.Mf?A=e.g.zoom*e.g.Bc:A=e.g.zoom;A<y.Xa?A=y.Xa:A>y.Hb&&(A=y.Hb);1>A&&(A=-1/A);return[v,A]};h.prototype.qJ=function(c){var l=c/6E4|
0;c=c%6E4/1E3;var e="";0<l&&(e=l+":",10>c&&(e+="0"));return e+=c.toFixed(2)};h.prototype.Sg=function(c,l,e){var v=this.g.zoom,A=this.g.Ca,B=this.g.va,D=6,E=this.fi,G=this.Ob;var F=(this.g.width>>1)-(this.kb>>1)+(this.Pb<<1);var I=(this.g.height>>1)-(this.qb>>1)+(this.Qb<<1);e===y.Ev&&(E.l=G.l+F,E.u=G.u+F,E.l>E.u&&(F=E.u,E.u=E.l,E.l=F),E.s=G.s+I,E.v=G.v+I,E.s>E.v&&(F=E.v,E.v=E.s,E.s=F));this.wb?(e=this.g.Sg(e,E,this.J*this.We,this.H*this.We,y.Xa,y.Hb,y.Rx,this.kb,this.qb,this.Oa&&this.Bd,this.Ni,this.$i,
this.Ec),e[0]/=this.We):(G=y.tL,this.Zc&&(G=0),e=this.g.Sg(e,E,this.J,this.H-G,y.Xa,y.Hb,y.Rx,this.kb,this.qb,this.Oa&&this.Bd,this.Ni,this.$i,this.Ec));this.Ec&&!c?(24<this.g.zoom&&(D=3),1<this.tb&&(D=1),this.g.zoom=(this.g.zoom*(D-1)+e[0])/D,this.g.Ca=(this.g.Ca*(D-1)+e[1])/D,this.g.va=(this.g.va*(D-1)+e[2])/D,c=this.g.zoom>v?this.g.zoom/v-1:v/this.g.zoom-1,A=this.g.Ca>A?this.g.Ca-A:A-this.g.Ca,B=this.g.va>B?this.g.va-B:B-this.g.va,this.Ln=c,A>this.Ln&&(this.Ln=A),B>this.Ln&&(this.Ln=B),.01>=this.Ln&&
(this.g.zoom=e[0],this.g.Ca=e[1],this.g.va=e[2])):(this.xn=this.g.width/2-this.g.Ca,this.yn=this.g.height/2-this.g.va,this.Yo=this.g.zoom,this.un=this.g.angle,this.wn=this.g.Na,this.sl=this.g.width/2-e[1],this.fo=this.g.height/2-e[2],this.ho=e[0],this.Nr=this.un,this.Np=this.wn,this.Et=WaypointConstants.Cq,l?this.Dh=0:(this.Dh=WaypointConstants.Cq,this.KD()));this.Cc&&(this.Cc.current=this.cl([this.g.zoom,this.g.zoom],!1,this));this.Xd&&(this.Xd.current=this.Rt([this.g.angle,this.g.angle],!1,this));
this.Xe&&(this.Xe.current=this.Ut([this.g.Na,this.g.Na],!1,this))};h.prototype.FJ=function(c,l){-1!==this.g.xa&&this.wh?(this.Lc=(this.g.width>>1)+this.Pb,this.Mc=(this.g.height>>1)+this.Qb):(this.Lc=Math.round((this.g.width-c)/2)+this.Pb,this.Mc=Math.round((this.g.height-l)/2)+this.Qb);!this.Oa&&this.g.ta||!this.C.tl||-1===this.g.i||(this.Oa=this.Bd=!0)};h.prototype.vt=function(c){var l=c;0>c&&(c=-c);var e=c+String();1E9<=c?e="1B+":1E8<=c?e=(c/1E6|0)+"M":1E7<=c?e=(Math.floor(Number(c/1E5))/10).toFixed(1)+
"M":1E6<=c?e=(Math.floor(Number(c/1E4))/100).toFixed(2)+"M":1E5<=c&&(e=(c/1E3|0)+"K");0>l&&(e="-"+e);return e};h.prototype.gr=function(c,l){var e=this.j.Nj,v=this.j.Oj;l=c+l;var A=-this.g.angle,B=Math.sin(A/180*Math.PI);A=Math.cos(A/180*Math.PI);0>l?l=0:1<l&&(l=1);c=y.Xa*Math.pow(y.Hb/y.Xa,c);l=y.Xa*Math.pow(y.Hb/y.Xa,l);l<y.Xa?l=y.Xa:l>y.Hb&&(l=y.Hb);e-=this.J/2;v-=this.H/2;e=(e-l/c*e)/l;c=(v-l/c*v)/l;this.g.Ca-=e*A+c*-B;this.g.va-=e*B+c*A;l=Math.log(l/y.Xa)/Math.log(y.Hb/y.Xa);this.Cc.current=this.cl([l,
l],!0,this)};h.prototype.Qu=function(c,l){var e=y.vg;c.g.pa&&(e=4*c.g.za.gh+1,-1!==c.g.xa&&(e+=2*c.g.za.gh),c.g.za.type===this.C.Nf&&(e=-1!==c.g.xa?e+c.g.wa/2:e+2*c.g.za.gh),e<y.vg&&(e=y.vg));c.g.wJ(c,l,e)};h.prototype.CE=function(c){var l=!1,e=c.Ob,v=c.fi,A=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),B=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);v.l=e.l+A;v.s=e.s+B;v.u=e.u+A;v.v=e.v+B;c.Qu(c,v);A=(c.g.width>>1)-(c.kb>>1);B=(c.g.height>>1)-(c.qb>>1);0>e.l+A&&(e.l=-A,l=!0);e.l+A>=c.g.width&&(e.l=c.g.width-1-A,l=!0);
0>e.u+A&&(e.u=-A,l=!0);e.u+A>=c.g.width&&(e.u=c.g.width-1-A,l=!0);0>e.s+B&&(e.s=-B,l=!0);e.s+B>=c.g.height&&(e.s=c.g.height-1-B,l=!0);0>e.v+B&&(e.v=-B,l=!0);e.v+B>=c.g.height&&(e.v=c.g.height-1-B,l=!0);return l};h.prototype.NO=function(c){c.zg.current=c.g.counter/c.Ve*100;c.zg.m=!1;c.kf.pe=0};h.prototype.LO=function(c){c.zg.current=c.Zk/c.bp*100;c.zg.m=!1;c.kf.pe=0};h.prototype.MO=function(c,l){c.zg.current=c.g.counter/l*100;c.zg.m=!1;c.kf.pe=0};h.prototype.KO=function(c){var l=!1,e=!1,v=0;c.Xc||
-1===c.jb||(l=!0);!c.Ye&&c.Wc&&(e=!0);if(l||e){var A=!1;if(e&&l)v=c.elapsedTime/c.X.BK(c.jb);else if(e){if(l=c.X.SL().fd)v=c.elapsedTime/l,1<v&&(A=!0)}else 0<c.jb&&(v=c.g.counter/c.jb);1<v&&(v=1);c.zg.current=100*v}else A=!0;(c.zg.m=A)?c.kf.pe=c.o.pe:c.kf.pe=0};h.prototype.vK=function(){this.Sl.bN(this.g.width/2-this.g.Le,this.g.height/2-this.g.Me,this.g.oa,this.g.ib,this.g.J,this.g.H,this.g.yd,this.g.Te[0])};h.prototype.hH=function(){var c=this.o.If-this.J/2,l=this.o.Xg-this.H/2,e=this.Mc-this.g.va,
v=this.Lc-this.g.Ca-(this.g.T?this.g.va/2:0),A=this.g.zoom;var B=this.g.zoom*(this.g.P?y.ie:1);var D=-1;-1!==this.o.If&&(0!==this.g.ib&&(D=Math.sqrt(c*c+l*l),l=180/Math.PI*Math.atan2(l,c),l-=this.g.ib,c=D*Math.cos(Math.PI/180*l),l=D*Math.sin(Math.PI/180*l)),B=l/B-e+this.g.Zb,c=c/A+(this.g.T?e/2+B/2:0)-v+this.g.dc,this.g.P&&(c-=this.g.zoom/32*.2),v=c-Math.floor(c),e=B-Math.floor(B),c-=v,B-=e,this.g.P&&(0===(c+this.Lc+B+this.Mc&1)?1<v+e&&(c+=1):1>1-v+e&&(c+=1)),D=this.g.getState(c+this.Lc,B+this.Mc,
this.Bd&&this.Oa));return D};h.prototype.Ix=function(c,l){var e=c-this.J/2,v=l-this.H/2;l=this.Mc-this.g.va;var A=this.Lc-this.g.Ca-(this.g.T?this.g.va/2:0),B=0,D=0,E=0,G=0,F=this.g.zoom,I=this.g.zoom*(this.g.P?y.ie:1);-1!==c&&(0!==this.g.ib&&(c=Math.sqrt(e*e+v*v),v=180/Math.PI*Math.atan2(v,e),v-=this.g.ib,e=c*Math.cos(Math.PI/180*v),v=c*Math.sin(Math.PI/180*v)),B=v/I-l+this.g.Zb,D=e/F+(this.g.T?l/2+B/2:0)-A+this.g.dc,this.g.P&&(D-=this.g.zoom/32*.2),G=D-Math.floor(D),E=B-Math.floor(B),D-=G,B-=E);
this.g.P&&(0===(D+this.Lc+B+this.Mc&1)?1<G+E&&(D+=1):1>1-G+E&&(D+=1));this.xk=D+this.Lc;this.yk=B+this.Mc};h.prototype.fu=function(c,l,e,v,A){var B=Math.abs(e-c),D=Math.abs(v-l),E=c<e?1:-1,G=l<v?1:-1,F=B-D,I=this.g.width,L=this.g.height,K;for(K=this.ed(c,l,A);I!==this.g.width||L!==this.g.height;)I!==this.g.width&&(I<<=1,c+=I>>2,e+=I>>2,this.ef+=I>>2,this.uf+=I>>2,this.g.T&&(this.ef-=L>>3,this.uf-=L>>3),this.Lc+=I>>2),L!==this.g.height&&(L<<=1,l+=L>>2,v+=L>>2,this.zj+=L>>2,this.Yj+=L>>2,this.Mc+=L>>
2);for(;c!==e||l!==v;){var J=F+F;J>-D&&(F-=D,c+=E);J<B&&(F+=B,l+=G);for(K|=this.ed(c,l,A);I!==this.g.width||L!==this.g.height;)I!==this.g.width&&(I<<=1,c+=I>>2,e+=I>>2,this.ef+=I>>2,this.uf+=I>>2,this.g.T&&(this.ef-=L>>3,this.uf-=L>>3),this.Lc+=I>>2),L!==this.g.height&&(L<<=1,l+=L>>2,v+=L>>2,this.zj+=L>>2,this.Yj+=L>>2,this.Mc+=L>>2)}return K};h.prototype.bO=function(){var c=170,l=this.jf.WC,e=this.jf.$w,v=this.ks.$w;this.es.setPosition(Menu.qa,0,c-48);this.xi.OI(c-48);this.jf.setPosition(Menu.qa,
e,c);this.ks.setPosition(Menu.qa,v,c);c+=l;this.lj.setPosition(Menu.qa,e,c);this.fs.setPosition(Menu.qa,v,c);c+=l;"Oscillator"!==this.Nb||this.tg||(this.jj.setPosition(Menu.qa,e,c),this.ds.setPosition(Menu.qa,v,c),c+=l);this.kj.setPosition(Menu.qa,e,c);this.Tv.setPosition(Menu.qa,v,c);c+=l;"Spaceship"!==this.Nb||this.g.T||this.g.P||(this.mj.setPosition(Menu.qa,e,c),this.Uv.setPosition(Menu.qa,v,c),c+=l);"Still Life"!==this.Nb&&(this.jk.setPosition(Menu.qa,e,c),this.Wv.setPosition(Menu.qa,v,c),c+=
l,this.tg||this.g.T||this.g.P||(this.oj.setPosition(Menu.qa,e,c),this.Vv.setPosition(Menu.qa,v,c),c+=l));"Spaceship"===this.Nb&&(this.g.T||this.g.P||(this.kk.setPosition(Menu.qa,e,c),this.Yv.setPosition(Menu.qa,v,c),c+=l),this.lk.setPosition(Menu.qa,e,c),this.hs.setPosition(Menu.qa,v,c),c+=l);"Still Life"===this.Nb||this.g.la||this.g.oc||(this.nj.setPosition(Menu.qa,e,c),this.gs.setPosition(Menu.qa,v,c),c+=l);"Oscillator"!==this.Nb||this.tg||(this.mk.setPosition(Menu.qa,e,c),this.js.setPosition(Menu.qa,
v,c),c+=l,this.nk.setPosition(Menu.qa,e,c),this.jA.setPosition(Menu.qa,v,c))};h.prototype.PO=function(c){var l=0;this.Id[this.vd]=c;this.vd+=1;this.vd>=y.rM&&(this.vd=0);for(c=0;c<this.Id.length;c+=1)l+=this.Id[c];l/=this.Id.length;this.Hd.Za=String(Math.round(l));this.Hd.m=!1};h.prototype.az=function(){var c;for(c=0;c<this.Id.length;c+=1)this.Id[c]=0;this.vd=0;this.Hd.m=!0};h.prototype.Uz=function(c,l){var e=0,v=0,A=this.Mc-this.g.va,B=this.Lc-this.g.Ca-(this.g.T?this.g.va/2:0),D=this.g.zoom,E=this.g.zoom*
(this.g.P?y.ie:1);if(0!==this.g.ib){var G=Math.sqrt(e*e+v*v);v=180/Math.PI*Math.atan2(v,e);v-=this.g.ib;e=G*Math.cos(Math.PI/180*v);v=G*Math.sin(Math.PI/180*v)}E=v/E-A+this.g.Zb;e=e/D+(this.g.T?A/2+E/2:0)-B+this.g.dc;this.g.P&&(e-=this.g.zoom/32*.2);B=e-Math.floor(e);A=E-Math.floor(E);e-=B;E-=A;this.g.P&&(0===(e+this.Lc+E+this.Mc&1)?1<B+A&&(e+=1):1>1-B+A&&(e+=1));return Math.sqrt((e-c)*(e-c)+(E-l)*(E-l))};h.prototype.hO=function(){var c=this.o.If-this.J/2,l=this.o.Xg-this.H/2,e=this.Mc-this.g.va,
v=this.Lc-this.g.Ca-(this.g.T?this.g.va/2:0),A=this.g.zoom,B=this.g.zoom*(this.g.P?y.ie:1);var D=9999<this.g.ia?99999:9999;var E=this.g.la?-1:0,G=Math.round(-this.g.Aa/2)+E;E=Math.round(-this.g.wa/2)+E;var F=G+this.g.Aa-1,I=E+this.g.wa-1;if(-1===this.o.If)this.ik.Za="",this.ik.m=!this.Ch;else{if(0!==this.g.ib){var L=Math.sqrt(c*c+l*l);l=180/Math.PI*Math.atan2(l,c);l-=this.g.ib;c=L*Math.cos(Math.PI/180*l);l=L*Math.sin(Math.PI/180*l)}B=l/B-e+this.g.Zb;c=c/A+(this.g.T?e/2+B/2:0)-v+this.g.dc;this.g.P&&
(c-=this.g.zoom/32*.2);v=c-Math.floor(c);e=B-Math.floor(B);c-=v;B-=e;this.g.P&&(0===(c+this.Lc+B+this.Mc&1)?1<v+e&&(c+=1):1>1-v+e&&(c+=1));v=this.g.getState(c+this.Lc,B+this.Mc,this.Bd&&this.Oa);c+=this.Pb;B+=this.Qb;-1===this.g.xa||this.wh||(c-=Math.floor((-1===this.Yk?this.kb:this.Yk)/2),B-=Math.floor((-1===this.Xk?this.qb:this.Xk)/2));e=c<-D||c>D?Number(c/1E3).toFixed(1)+"K":String(c);D=B<-D||B>D?Number(B/1E3).toFixed(1)+"K":String(B);-1!==this.g.xa?(0===this.g.Aa&&(G=-this.g.ia,F=this.g.ia),0===
this.g.wa&&(E=-this.g.ia,I=this.g.ia),this.ik.Za=c<G||c>F||B<E||B>I?e+","+D+"=[boundary]":e+","+D+"="+v+" ("+this.Sp(v)+")"):this.ik.Za=e+","+D+"="+v+" ("+this.Sp(v)+")";this.ik.m=!1}this.ik.enabled=this.Ch||!this.cb&&-1!==this.o.If?this.ha||this.pc||0===this.kb?!1:!0:!1;!this.ub&&!this.Bk||this.ha&&!this.pc?this.ln.enabled=!1:(this.ln.enabled=!0,c=this.Ob.u>this.Ob.l?this.Ob.u-this.Ob.l+1:this.Ob.l-this.Ob.u+1,B=this.Ob.v>this.Ob.s?this.Ob.v-this.Ob.s+1:this.Ob.s-this.Ob.v+1,this.ln.Za=c+" x "+B)};
h.prototype.XM=function(c){if(!this.Zc&&!this.wb)if(0<this.ha)0<c?this.lx(this,c/125*3):this.kx(this,-c/125*3);else if(0<this.pc)0<c?this.jx(this,c/125*3):this.ix(this,-c/125*3);else if(!this.Ld){var l=this.Cc.current[0];this.gr(l,c/125*.05)}};h.prototype.FO=function(c){var l=c.g.counter,e=" ";if(c.g.la||c.g.L)l=c.g.bf;c.xl?(0>l&&(e=""),c.kf.lower[0]="+"+e+c.vt(l),c.kf.F=["toggle generation statistics [G]\ngeneration +"+l]):(0>l+c.Tg&&(e=""),c.kf.lower[0]="T"+e+c.vt(l+c.Tg),c.kf.F=["toggle generation statistics [G]\ngeneration "+
(l+c.Tg)]);c.g.la||c.g.L?(c.rg.Za=c.g.counter,c.rg.F="absolute generation "+c.g.counter):c.xl?(1E9<=l?c.rg.Za="1B+":c.rg.Za=l,c.rg.Za=l,c.rg.F="generation "+l):(l+=c.Tg,1E9<=l?c.rg.Za="1B+":c.rg.Za=l,c.rg.F="absolute generation "+l);c.io.F=c.rg.F};h.prototype.$O=function(c,l){var e=l.X.current;var v=!1,A=!1,B=!1,D=!1,E=!1,G,F=l.g.counter;var I=0;var L=l.g.M,K=new BoundingBox(L.l,L.s,L.u,L.v);var J=1E3/l.Ma;l.Ld=!1;l.sA&&(l.sA=!1,c=0);l.Oa||l.KO(l);l.EH(l.dg.current[0]);l.cb?(c>J&&(c-.3>J&&(A=!0),
c=J),!l.cb||l.Wc&&!l.Ye||(l.Mb+=l.lc*l.tb,I=l.Mb/l.Ma|0,I>F?l.Ui=!0:l.elapsedTime+=c)):l.Ui&&(E=!0,l.Mb=l.JC?l.Mb+l.Ma:l.Mb+l.tb*l.Ma,I=l.Mb/l.Ma|0);l.LD();l.Wc&&!l.Ye&&l.cb?(l.X.Xr&&(l.ug&&!l.X.sE(l.elapsedTime+c)&&(l.ug=!1,l.elapsedTime=l.X.$J(l.g.width/2-l.g.Ca,l.g.height/2-l.g.va,l.g.zoom,l.g.angle,l.g.Na,l.g.$,l.g.Pe*y.Zn,l.g.Uf,l.lc,l.tb,l.g.counter,l.elapsedTime)),e.Ef&&(l.Sg(!0,!1,y.Dk),l.ug=!1,e.x=l.g.width/2-l.g.Ca,e.y=l.g.height/2-l.g.va,l.wb&&(l.g.zoom*=l.We),e.zoom=l.g.zoom)),(B=l.X.update(l,
l.elapsedTime+c,l.g.counter))?(e.Ef&&(e.Ef=!1,l.wb&&(l.g.zoom=e.zoom/l.We),l.Cc&&(l.Cc.current=l.cl([l.g.zoom,l.g.zoom],!1,l))),l.Mb+=l.lc*l.tb,I=l.Mb/l.Ma|0,I>F&&(l.Ui=!0)):(l.X.Xr&&(l.cb&&(l.Ld=!0),l.g.va=l.g.height/2-e.y,l.g.Ca=l.g.width/2-e.x,l.g.T&&(l.g.Ca-=l.g.va/2),l.g.zoom=e.zoom,l.wb&&(l.g.zoom=l.g.zoom/l.We),l.Cc&&(l.Cc.current=l.cl([l.g.zoom,l.g.zoom],!1,l)),l.g.T||l.g.P||l.g.Ga||(l.g.angle=e.angle,l.Xd&&(l.Xd.current=[l.g.angle,l.g.angle]),l.g.Na=e.Na,l.Xe&&(l.Xe.current=[l.g.Na,l.g.Na]),
l.g.$=e.$,l.ue&&(l.ue.current=[l.g.$,l.g.$]),l.g.Pe=e.depth/y.Zn+y.nw,l.md&&(l.md.current=[Math.sqrt(l.g.Pe),l.g.Pe*y.Zn]))),l.lc=e.Hc,l.tb=e.step,l.dg.current=l.hk([l.Rl(),1],!0,l),e.nc>l.g.counter?(l.Ui=!0,l.Mb=e.nc*l.Ma,I=l.Mb/l.Ma|0):l.Ui=!1,e.hg!==l.Bs&&(""===e.hg?l.j.notification.clear(!1,!1):l.j.notification.notify(ScriptParser.Yq(l,e.hg),15,21600,15,!1),l.Bs=e.hg),e.Nc!==l.IA&&(l.nn(e.Nc,l.g.fm,l),l.IA=e.Nc)),l.Ui||(l.elapsedTime+=c)):l.Ec&&l.cb&&(l.Ld=!0);l.Ld&&(l.Dh=-1);e=0;if(l.Ui){if(l.g.Y){J=
performance.now();var M=I-F;for(G=0;!D&&l.g.counter<I;){e=performance.now()-J;if(l.g.counter===l.ec-1&&!l.yf||e>y.aI&&!E)l.g.counter!==l.ec-1||l.yf?D=l.dm:D=!0;l.g.ud&&l.nb("reverse playback");K.set(L);l.Ch&&(l.g.counter===I-1||D)?l.g.we(!0,l.de,l.Ac,l.Gb,l):l.g.we(!1,l.de,l.Ac,l.Gb,l);G+=1;(l.g.dj||l.jJ()||l.g.counter===I||D)&&!(0===l.g.Y&&2<l.g.i)&&(l.g.re(),l.hi(),l.Ij||l.g.counter<=l.Jk)&&(l.g.Y=1);l.g.dj||0!==l.g.ga||(l.g.Y=0);0===l.g.Y&&L.set(K);if(-1!==l.jb&&l.g.counter>=l.jb&&!l.Xc){for(I=
1;I<=G;I+=1)l.rt(F+I,c,G);l.elapsedTime=0;l.reset(l);I=F=0;l.Bf&&l.Og&&(l.Ub.current=l.Gd(y.Re,!0,l),l.j.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));B&&(l.Ld=!0)}l.g.Y||(D=!0)}for(I=1;I<=G;I+=1)l.rt(F+I,c,M);l.g.Y||(l.Cv=l.K+(0<l.g.i?l.g.i:0),-1===l.og&&(l.og=l.g.counter,l.g.V?l.g.Y=1:l.g.L||l.g.fa?l.g.rr(!1):l.g.rr(!0),!l.wl||-1!==l.jb&&!l.Xc||l.rm||l.j.notification.notify("Life ended at generation "+l.og,15,600,15,!0),l.rm=!1));l.Mb-=(M-G)*l.Ma;0>l.Mb&&(l.Mb=0);G<M&&(l.g.counter!==
l.ec||l.yf)&&l.Qj?l.PO(G):l.az()}else{l.az();l.Cv&&(--l.Cv,D=l.g.counter,l.g.counter=l.og,l.g.re(),l.g.counter=D);for(I=0;I<l.tb;I+=1)l.g.counter+=1,l.rt(l.g.counter,c,l.tb);-1!==l.jb&&l.g.counter>=l.jb&&!l.Xc&&(l.elapsedTime=0,l.reset(l),B&&(l.Ld=!0))}l.g.counter!==l.ec||l.yf||(l.Ub.current=l.Gd(y.Re,!0,l),l.wl&&l.j.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else l.az();l.Ui&&!l.cb&&l.nb("");l.Xd.locked=l.Ld&&l.Wc||l.g.T||l.g.P||l.g.Ga;l.Xe.locked=l.Ld&&l.Wc||l.g.T||l.g.P||
l.g.Ga;l.rj.locked=l.Ld&&l.Wc;l.sm.locked=l.Ld||l.Ec&&l.cb;l.dg.locked=l.Ld&&l.Wc;l.yt.locked=l.Ld&&l.Wc;l.cj.locked=l.Ld&&l.Wc;l.Cc.locked=l.Ld;l.ue.locked=l.Ld&&l.Wc||l.g.T||l.g.P||l.g.Ga;l.md.locked=l.Ld&&l.Wc||l.g.T||l.g.P||l.g.Ga;l.wheelDelta&&(l.XM(l.wheelDelta),l.wheelDelta=0);l.lC(l,A,e,E);l.Ui=!1;l.JC=!1;if(l.cb||l.Ec&&l.Ln>l.sJ||-1!==l.Dh)v=!0;l.j.cg(v)};h.prototype.lC=function(c,l,e,v){c.Ec&&(c.cb||c.Wc)&&c.Sg(!1,!1,y.Dk);c.g.jN(c.Mr,c.Zi);c.Zi&&c.vK();c.Mr&&c.j.cg(!0);c.g.Lr();!c.g.sc&&
c.g.T&&4<=c.g.zoom?c.g.tK():!c.g.sc&&c.g.P&&4<=c.g.zoom&&c.g.xK();c.So&&(2===c.So&&c.g.yv(c.vh,1,!0,c.wb,c),c.vJ(c),2===c.So&&c.g.Lr(),c.So=0);c.g.uK(c);c.g.counter&&c.g.Y&&(c.fi.l=c.g.M.l,c.fi.s=c.g.M.s,c.fi.u=c.g.M.u,c.fi.v=c.g.M.v,c.Qu(c,c.fi));c.Yi&&c.X.Gz(c);!c.sd||c.se||c.bh||c.g.yv(c.vh,c.Dd,!1,c.wb,c);c.ha?Help.xv(c):c.Ed.length&&Help.Iz(c);c.FO(c);c.eo.Za=c.qJ(c.elapsedTime);c.dn.Za=c.vt(c.g.ga);c.Dv()?c.wk.Za=(100*c.g.ga/(c.g.wa*c.g.Aa)|0)+"%":(c.wk.Za=c.vt(c.g.Vb),c.nm.Za=c.vt(c.g.Fb));
c.dn.F="alive "+c.g.ga;c.Dv()?c.wk.F="density "+(100*c.g.ga/(c.g.wa*c.g.Aa)|0)+"%":(c.wk.F="births "+c.g.Vb,c.nm.F="deaths "+c.g.Fb);c.Qj?c.EO(e,l,v,c):c.dg.Kd=c.sm.Kd;c.hO();-1!==c.Dh&&c.KD();c.GO();c.RO();c.HO();c.bI(c.ha||c.Ed.length);!c.Kc.current[0]||c.Mi&&c.cb||(c.Jc.globalAlpha=.5,c.Jc.fillStyle="black",c.Jc.fillRect(0,0,c.Sc.width,c.Sc.height),c.Jc.globalAlpha=1)};h.prototype.EO=function(c,l,e,v){(l||c>y.aI)&&!e?v.Mk<y.BM&&(v.Mk+=y.UG):v.Mk>y.CM&&(v.Mk-=y.UG);c=v.Hx>>16;l=v.Hx>>8&255;e=v.Hx&
255;128<=c?64<=l||64<=e?(l-=v.Mk,e-=v.Mk,0>l&&(l=0),0>e&&(e=0)):(l+=v.Mk,255<l&&(l=255)):(c+=v.Mk,255<c&&(c=255));v.dg.Kd="rgb("+c+","+l+","+e+")"};h.prototype.LD=function(){var c=this.Mb/this.Ma;if(this.Be&&!this.Mf){this.g.dc=c*(this.Fn+this.mp)/2;this.g.Zb=c*(this.lp+this.Gn)/2;var l=this.g.xI(0,this.lp,this.Fn,this.Gn,this.mp,this.J,this.H-80,y.Xa,y.Hb,y.Rx);c=this.g.xI(c,this.lp,this.Fn,this.Gn,this.mp,this.J,this.H-80,y.Xa,y.Hb,y.Rx);this.g.Bc=c/l}else this.g.dc=0,this.g.Zb=0,this.g.Bc=1;this.Cc.current=
this.cl([this.g.zoom,this.g.zoom],!1,this)};h.prototype.bI=function(c){var l=!(this.ha&&this.Fk===y.ri),e,v=0,A=[],B=[],D=this.Kc.current[0];this.Ub.Zf[1]=this.de||0===this.g.counter&&(!this.g.la&&!this.g.L||null===this.g.Yc)?!0:!1;var E=c||!this.Vk;for(e=0;e<=this.g.tf;e+=1)this.G[e].m=E;this.Km.m=E;this.Fm.m=E;this.Rm.m=E;this.Hm.m=E;for(e=0;e<y.Ht.length;e+=1)y.Ht[e]===this.g.tf&&(this.G[e].locked=!this.$h);E=c||!this.Wi||"Empty"===this.Nb||"none"===this.Nb;this.xi.m=c||!this.Wi;this.es.m=E;this.jf.m=
E;this.lj.m=E;this.kj.m=E;this.mj.m=E||"Spaceship"!==this.Nb||this.g.T||this.g.P;this.jk.m=E||"Still Life"===this.Nb;this.oj.m=E||"Still Life"===this.Nb||this.tg||this.g.T||this.g.P;this.jj.m=E||"Oscillator"!==this.Nb||this.tg;this.kk.m=E||"Spaceship"!==this.Nb||this.g.T||this.g.P;this.lk.m=E||"Spaceship"!==this.Nb;this.nj.m=E||"Still Life"===this.Nb||this.g.la||this.g.oc;this.mk.m=E||"Oscillator"!==this.Nb||this.tg;this.nk.m=E||"Oscillator"!==this.Nb||this.tg;this.ks.m=E;this.fs.m=E;this.Tv.m=E;
this.Uv.m=E||"Spaceship"!==this.Nb||this.g.T||this.g.P;this.Wv.m=E||"Still Life"===this.Nb;this.Vv.m=E||"Still Life"===this.Nb||this.tg||this.g.T||this.g.P;this.ds.m=E||"Oscillator"!==this.Nb||this.tg;this.Yv.m=E||"Spaceship"!==this.Nb||this.g.T||this.g.P;this.hs.m=E||"Spaceship"!==this.Nb;this.gs.m=E||"Still Life"===this.Nb||this.g.la||this.g.oc;this.js.m=E||"Oscillator"!==this.Nb||this.tg;this.jA.m=E||"Oscillator"!==this.Nb||this.tg;this.Mo.locked=this.zc===this.Bo;this.gk.locked=1>=this.zc||"undo [Ctrl Z]"===
this.gk.F;this.rj.m=c;this.Cc.m=c;this.sm.m=c;this.Ki.m=c;this.Nn.m=c;this.An.m=c;this.Hh.m=c;this.Jm.m=c;this.pd.m=c;E=(this.Fp.m=c)||!this.sd||this.se||this.bh||D;this.rq.m=E;this.ij.m=E;this.iq.m=E;this.Td.m=!(this.Gb||-1!==this.Ve);this.Td.locked=!1;this.io.m=c;this.rg.m=c;this.Jd.m=c;this.eo.m=c;this.jd.m=c;E=(this.dn.m=c)||this.lu();this.vk.m=E;E=(this.wk.m=E)||this.Dv();this.ad.m=E;this.nm.m=E;this.kn.m=c;this.sm.m=c;this.eh.m=c||!this.Vl;this.da.m=!(this.Od||this.Ed.length);this.Nl||this.Ol||
this.Pl||this.Ql||this.Vk?(this.sj.Za="Back",this.sj.F="back to previous menu [Backspace]"):(this.sj.Za="Close",this.sj.F="close menu [Backspace]");E=(this.sj.m=c)||this.Vk;this.md.m=E;this.Xd.m=E;this.Xe.m=E;this.ue.m=E;E=c||this.Vk||this.Nl||this.Ol||this.Ql||this.Pl;this.Ws.m=E;this.cj.m=E;this.ms.m=E;this.Jr.m=E;this.Dw.m=E;this.vm.m=E;E=c||!this.Pl;this.dl.m=E;this.gl.m=E;this.fl.m=E;this.el.m=E;this.Iq.m=E;this.Oh.m=E;this.Zp.m=E;this.ti.m=E;this.pi.m=E;this.ll.m=E;this.il.m=E;this.vi.m=E;E=
c||!this.Ol;this.Rp.m=E;this.It.m=E;this.$p.m=E;this.Lq.m=E;this.Lq.locked=!this.vl;this.lt.m=E;E=c||!this.Nl;this.Hj.m=E;this.Ap.m=E;this.Ik.m=E;this.Uq.m=E;this.Gm.m=E;this.yp.m=E;this.Kn.m=E;this.Gq.m=E;E=c||!this.Ql;this.Yp.m=E;this.Cn.m=E;this.pn.m=E;this.qo.m=E;this.zp.m=E;E=this.g.Ga||!this.Fa;this.Iq.locked=E;this.Oh.locked=E;this.Zp.locked=E||this.Oa;this.ti.locked=E||this.Oa;this.pi.locked=E;this.vi.locked=!this.Fa||this.Oa;this.Gq.locked=2<this.g.i||this.g.pa||this.g.L||this.g.ta||this.g.V||
this.g.fa||this.g.la;this.Qh.m=c||!(this.Nl||this.Ol||this.Ql||this.Pl);this.Qh.Za=this.Nl?"Display":this.Ol?"Advanced":this.Ql?"Playback":this.Pl?"Pattern":"";this.qo.locked=-1!==this.g.ke||this.g.Bw||this.g.pa&&!(1===this.g.za.gh&&this.g.za.type===this.C.ce&&2===this.g.za.Ro)||this.g.P||this.g.Oe;this.cj.locked=this.Bd||this.g.Ga||this.g.fa||this.g.V;this.Ik.locked=this.g.T&&!this.g.sc||this.g.P&&!this.g.sc||0===this.g.lf;this.Hj.locked=!(this.g.T||this.g.P);E=c||0===this.X.yc.length||D;this.Js.m=
E;this.it.m=E;E=c||!this.nd||this.se||this.bh||this.sd;this.qf.m=E;this.hc.m=E;this.rf.m=E;this.uc.m=E;this.nf.m=E;this.gb.m=E;this.pk.m=E;this.Kh.m=E;this.Mh.m=E;this.Nh.m=E;this.Lh.m=E;this.zb.m=E;this.Kb.m=E;this.fc.m=E;this.Eb.m=E;this.Ed.length?(this.da.F="close errors [Esc]",this.da.Za="Esc",this.da.eb("16px Arial"),this.da.Kd=this.rj.Kd):(this.da.F="close window [Esc]",this.da.Za="X",this.da.eb("24px Arial"),this.da.Kd="red");this.yi.m=!(this.ha&&this.Fk!==y.ri);this.na.m=!(this.ha&&this.Fk!==
y.ri)||!this.wt;this.cf.m=l;this.gf.m=l;this.Ke.m=l;this.hf.m=l;this.Je.m=l;this.De.m=l;this.hd.m=l;this.Ie.m=l||0===this.X.Ao();this.Ph.m=!(this.ha&&this.Fk!==y.ri)||this.wt;if(this.rl){this.rl=!1;v=this.na.y;for(e=0;e<this.ma.length&&v<this.H-66*this.o.Jh;)A[e]=this.ma[e][1],B[e]="Top"==A[e]?"go to top of topic [Home]":"",v+=26*this.o.Jh,e+=1;this.na.lower=A;this.na.F=B;this.na.YN(26*A.length);this.na.current=0}E=c||!this.bh||D;this.Gg.m=E;this.Mn.m=E;this.Sd.m=E;this.Cl.m=E;this.ur.m=E;this.Jo.m=
E;this.Io.m=E;this.oe.m=E;this.Fe.m=E;this.yg.m=E;E=c||!this.bh||D;this.Ud.m=E;this.Hf.m=E;this.wg.m=E;this.xg.m=E;this.Gf.m=E;this.Ge.m=E;this.He.m=E;this.Bg.m=E;this.Ag.m=E;this.ab.m=E;this.Wd.m=E;this.Vd.m=E;this.em.m=E||!(this.g.ta||this.g.V);this.U.m=E;this.Qk.m=E;E=c||!this.bh||D||2>=this.g.i||this.g.Ga;this.Dc.m=E||this.g.L;E=this.Oa;this.Jo.locked=E;this.Io.locked=E;E=!this.ub;this.oe.locked=E;this.Sd.locked=E;E=!(this.ub||this.od)||this.Oa;this.Ud.ng(E);this.U.ng(E);this.Dc.ng(E);this.Qk.ng(E);
this.Hf.ng(E);this.wg.ng(E);this.xg.ng(E);this.Gf.ng(E);this.Ge.ng(E);this.He.ng(E);this.Bg.ng(E);this.Ag.ng(E);this.ab.ng(E);this.Wd.ng(E);this.Vd.ng(E);this.em.ng(E);E=!this.ub||this.Oa;this.Fe.locked=E;E=!this.qr||this.od||null===this.$f[this.Qg]||this.Oa;this.yg.locked=E;this.qo.locked=-1!==this.g.i;E=c||!this.se||!this.qn||D;this.Pd.m=E;this.B.m=E;if(2>=this.g.i&&!this.g.fa)for(e=0;e<this.B.lower.length;e+=1)2>=e?0===e?v=e:v=1===e?LifeConstants.Qa:LifeConstants.pl:v=128+y.bb[e],this.B.On[e]=
"rgb("+this.g.Ua[v]+","+this.g.Ta[v]+","+this.g.Ra[v]+")";else for(e=0;e<this.B.lower.length;e+=1)v=0===e+this.eg?0:this.g.Ga||this.g.L||this.g.fa||this.g.V?e+this.eg+this.K:this.K+this.g.i-(e+this.eg),this.B.On[e]="rgb("+this.g.Ua[v]+","+this.g.Ta[v]+","+this.g.Ra[v]+")";E=c||!this.se||D;this.ii.m=E;this.Zs.m=E;this.Tq.m=E;this.Xq.m=E;this.Fh.m=c||!this.se||!this.qn||this.g.i<=this.Wg||D;this.Gh.m=c||!this.se||!this.qn||this.g.i<=this.Wg||D;this.g.i>this.Wg&&this.ND();if(0<this.ha){e=0;for(v=-1;e<
this.ma.length&&-1===v;)this.ma[e][0]>this.ha?v=this.ma[e][0]:e+=1;e===this.ma.length&&(v=e);-1!==v&&(this.na.current=e-1)}this.Mi&&(this.o.m=this.cb?!0:!1);E=this.H<y.Lm;this.Kc.locked=E};h.prototype.HO=function(){var c=-(this.g.width/2-this.g.Ca-this.g.dc|0),l=-(this.g.height/2-this.g.va-this.g.Zb|0),e=String(c),v=String(l);this.qf.m=!this.nd;this.hc.m=!this.nd;this.rf.m=!this.nd;this.uc.m=!this.nd;this.nf.m=!this.nd;this.gb.m=!this.nd;this.pk.m=!this.nd;this.Kh.m=!this.nd;this.Mh.m=!this.nd;this.Nh.m=
!this.nd;this.Lh.m=!this.nd;this.zb.m=!this.nd;this.Kb.m=!this.nd;this.Eb.m=!this.nd;this.fc.m=!this.nd;if(-99999>c||99999<c)e=(c/1E3|0)+"K";if(-99999>l||99999<l)v=(l/1E3|0)+"K";this.hc.Za=e;this.uc.Za=v;this.gb.Za=this.g.angle.toFixed(0)+"\u00b0";this.zb.Za=this.Zu.toFixed(3);this.Kb.Za=this.av.toFixed(3);this.fc.Za=this.bv.toFixed(3);this.Eb.Za=this.$u.toFixed(3)};h.prototype.RO=function(){0===this.g.counter?this.bv=this.Zu=this.av=this.$u=0:(this.av=(this.g.M.v-this.g.Yf.v)/this.g.counter,this.$u=
(this.g.M.s-this.g.Yf.s)/this.g.counter,this.Zu=(this.g.M.u-this.g.Yf.u)/this.g.counter,this.bv=(this.g.M.l-this.g.Yf.l)/this.g.counter)};h.prototype.GO=function(){this.rj.current=[this.Ec];this.Nn.current=[!this.Og&&this.Bf];this.Nn.locked=!this.Bf;this.Be?(this.Hh.lower[0]="TRACK",this.Hh.current=[!this.Mf&&this.Be],this.Hh.locked=!this.Be,this.Hh.F=["toggle track mode [W]"]):(this.Hh.lower[0]="WAYPT",this.Hh.current=[!this.Ye&&this.Wc],this.Hh.locked=!this.Wc,this.Hh.F=["toggle waypoint mode [W]"]);
this.Jm.current=[!this.Xc&&-1!==this.jb];this.Jm.locked=-1===this.jb;this.Jm.F=["loop at "+this.jb+" [Shift P]"];this.An.current=[!this.yf&&-1!==this.ec];this.An.locked=-1===this.ec;this.An.F=["stop at "+this.ec+" [Alt P]"]};h.prototype.rt=function(c,l,e){if(c>=this.Ka.length){var v=this.g.A.R(Float32,this.Ka.length+y.pG,"View.elapsedTimes");v.set(this.Ka);this.Ka=v}this.elapsedTime+=l/e;this.Ka[c]=this.elapsedTime};h.prototype.WO=function(c){var l=c.xO,e=c.bp-c.Zk;if(c.Zk<c.bp)if(0<c.hz)--c.hz;else if(c.$v)c.Tl.innerHTML=
c.Ft,c.Zk=c.bp;else{e<l&&(l=e);var v=document.createElement("textarea");c.eA(v);if(l!==e)for(;"\n"!==c.Ft[c.Zk+l];)--l;v.innerHTML=c.Ft.substr(c.Zk,l);c.Zk+=l;c.Tl.appendChild(v)}else c.Vu||(c.j.notification.notify("Press Enter to complete copy",15,1E4,15,!0),c.Vu=!0);c.LO(c);c.g.Lr();c.Yi&&c.X.Gz(c);c.sd&&c.g.yv(c.vh,c.Dd,!1,c.wb,c);c.ha?Help.xv(c):c.Ed.length&&Help.Iz(c);c.j.cg(!0)};h.prototype.At=function(c,l,e){c.o.locked=!1;l?e&&c.j.notification.notify("Cancelled",15,80,15,!0):c.wl&&(e||-1!==
c.vn)&&(c.j.notification.notify("Arrived at generation "+c.g.counter,15,150,15,!0),-1!==c.vn&&(e=(performance.now()-c.vn)/1E3,l=c.OC/e|0,c.j.notification.notify("Calculated "+c.OC+" gens in "+e.toFixed(1)+"s = "+l+"gps",15,600,15,!1)));-1===c.vn&&c.j.notification.clear(!1,!1);c.nb("");c.Ve=-1;c.vn=-1};h.prototype.aP=function(c){var l=performance.now();for(c.o.locked=!0;0!==c.g.ga&&c.g.counter<c.Ve&&(-1!==c.vn||13>performance.now()-l);){c.g.we(!1,c.de,c.Ac,c.Gb,c);0===c.g.Y&&2<c.g.i||(c.g.dj||c.g.counter==
c.Ve)&&c.g.re();0===c.g.Y&&2>=c.g.i&&(c.g.Y=1,c.g.we(!1,!1,c.Ac,c.Gb,c),--c.g.counter);c.hi();if(c.Ij||c.g.counter<=c.Jk)c.g.Y=1;c.rt(c.g.counter,0,1);0===c.g.ga&&(c.Ve=c.g.counter,-1===c.og&&(c.og=c.g.counter))}c.lC(c,!1,0,!1);c.NO(c);c.Mb=c.g.counter*c.Ma;c.j.cg(!0);c.g.counter>=c.Ve&&(c.At(c,!c.g.Y,!1),0===c.g.ga&&c.j.notification.notify("Life ended at generation "+c.og,15,240,15,!1))};h.prototype.YO=function(c){var l=performance.now();for(c.o.locked=!0;c.Gb&&13>performance.now()-l&&c.g.Y;){c.g.we(!1,
c.de,c.Ac,c.Gb,c);c.g.re();c.g.counter&&c.g.Y&&(c.fi.l=c.g.M.l,c.fi.s=c.g.M.s,c.fi.u=c.g.M.u,c.fi.v=c.g.M.v,c.Qu(c,c.fi));c.hi();c.rt(c.g.counter,0,1);if(c.Ij||c.g.counter<=c.Jk)c.g.Y=1;if(c.g.Y){var e=c.g.vM(c.lo,c);0<e.length&&(e[0]===LifeConstants.xE?(e[0]="Nothing Identified",c.HA="none",c.Nb="none",c.ys="",c.hq="",c.xs="",c.cw="",c.cq="",c.zs="",c.gq="",c.eq="",c.As="",c.fq="",c.bw="",c.dw=""):(c.HA=e[0],c.Nb=e[1],"Empty"!==c.Nb&&(c.ys=e[2],c.hq=e[3],c.xs=e[4],c.cw=e[5],c.cq=e[6],c.zs=e[7],c.gq=
e[8],c.eq=e[9],c.As=e[10],c.fq=e[11],c.bw=e[12],c.dw=e[13],c.ks.Za=c.Nb,c.fs.Za=c.cq,c.fs.F=-1===c.cq.indexOf("|")?"":"min | max | average",c.Tv.Za=c.xs,c.Uv.Za=c.ys,c.Wv.Za=c.gq,c.Yv.Za=c.zs,c.hs.Za=c.hq,c.hs.F=-1===c.hq.indexOf("|")?"":"simplified | unsimplified",c.gs.Za=c.eq,c.gs.F=-1===c.eq.indexOf("|")?"":"min | max | average",c.jA.Za=c.As,c.Vv.Za=c.fq,c.ds.Za=c.bw,c.ds.F="rotor | stator | total",c.js.Za=c.dw,c.js.F="active | rotor"),c.Wi=!0,c.tg=c.lo,c.bO()),c.Gb=!1,c.cb&&(c.Ub.current=c.Gd(y.Re,
!0,c)),c.nb(""),c.es.Za=e[0],"Empty"===c.Nb||"none"===c.Nb?(c.j.notification.notify(e[0],15,240,15,!1),c.Wi=!1):(c.j.notification.clear(!0,!1),c.j.notification.clear(!1,!1),c.Sg(!0,!1,y.Dk)),c.g.ns(c.Gb),c.lo=!1,c.o.locked=!1)}else c.Gb=!1,c.cb&&(c.Ub.current=c.Gd(y.Re,!0,c)),c.nb(""),c.Wi=!1,c.Sg(!0,!1,y.Dk),c.g.ns(c.Gb),c.lo=!1,c.o.locked=!1,c.og=c.g.counter,c.Cv=c.K+(0<c.g.i?c.g.i:0),c.j.notification.notify("Life ended at generation "+c.og,15,240,15,!1),c.j.notification.clear(!0,!1)}c.lC(c,!1,
0,!1);c.Mb=c.g.counter*c.Ma;c.j.cg(!0)};h.prototype.XO=function(c){for(var l=c.fz,e=performance.now(),v,A=c.g.dh.YL*LifeConstants.xt;c.g.counter<l-1&&13>performance.now()-e;)if(v=l-1-c.g.counter<=A?!1:!0,c.g.we(!1,v,c.Ac,c.Gb,c),c.g.re(),c.hi(),c.Ij||c.g.counter<=c.Jk)c.g.Y=1;if(c.g.counter===l-1){c.g.we(c.Ch,!1,c.Ac,c.Gb,c);c.g.re();c.hi();if(c.Ij||c.g.counter<=c.Jk)c.g.Y=1;c.Un=!1;c.ez&&c.j.notification.clear(!0,!1);c.o.locked=!1}else c.o.locked=!0;c.MO(c,l);c.g.Lr();c.Yi&&c.X.Gz(c);c.sd&&c.g.yv(c.vh,
c.Dd,!1,c.wb,c);c.ha?Help.xv(c):c.Ed.length&&Help.Iz(c);c.j.cg(!0)};h.prototype.ZO=function(c){var l=c.g.be?4278190080:255;c.wo===y.PA&&(c.o.locked=!0,c.ik.enabled=!1,c.ln.enabled=!1,c.bI(0),c.j.cg(!0),c.g.yd&&c.g.yd.fill(l));c.wo===y.OA&&(c.Sz=performance.now());--c.wo;0===c.wo&&(c.to=performance.now(),c.Ma=Math.round(1E3/((c.to-c.Sz)/(y.OA-1))),60>c.Ma&&(c.Ma=60),c.j.Ma=c.Ma,c.MC&&(c.tb=1),c.LC&&(c.lc=c.Ma),c.dg.current=c.hk([c.Rl(),1],!0,c),c.o.locked=!1);l=c.g.Na;c.g.Na=0;c.g.Lr();c.g.Na=l};h.prototype.zy=
function(c,l){l.Un?l.XO(l):l.Gb?l.YO(l):l.tr?l.WO(l):-1!==l.Ve?l.aP(l):0<l.wo?l.ZO(l):l.$O(c,l)};h.prototype.XD=function(c){c.g.counter=0;c.g.bf=0;c.g.Kj=0;c.Mb=0;c.elapsedTime=0;c.g.Ca=c.g.width>>1;c.g.va=c.g.height>>1;c.g.Ca&=c.g.width-1;c.g.va&=c.g.height-1;c.g.Y=1;c.sA=!0;c.og=-1;c.wo=y.PA};h.prototype.sI=function(c,l,e){l&&(e.Zi=c[0]);return[e.Zi]};h.prototype.kI=function(c,l,e){l&&(e.Ni=c[0]);return[e.Ni]};h.prototype.nI=function(c,l,e){l&&(e.g.zl=c[0]);return[e.g.zl]};h.prototype.lI=function(c,
l,e){l&&(e.nd=c[0]);return[e.nd]};h.prototype.TD=function(c,l,e){l&&(e.sd=c[0],e.sd&&e.pd.current!==y.Nm&&(e.pd.current=e.bl(y.Nm,!0,e)));return[e.sd]};h.prototype.Tx=function(c,l,e){l&&(e.g.wj=c[0]);return[e.g.wj]};h.prototype.mI=function(c,l,e){l&&(e.Yi=c[0]);return[e.Yi]};h.prototype.hI=function(c,l,e){l&&(e.g.kd=c[0]);return[e.g.kd]};h.prototype.fI=function(c,l,e){l&&(e.Bi=c[0],e.Bi&&!e.g.qc&&(e.se||e.bh)&&(e.Ki.current=e.ar([!0],!0,e)));return[e.Bi]};h.prototype.pI=function(c,l,e){l&&(e.g.ee=
c[0],e.g.kz(),0===(e.g.counter&1)?e.g.ex(e.g.hb):e.g.ex(e.g.Yb));return[e.g.ee]};h.prototype.eI=function(c,l,e){l&&(e.g.$l=c[0]);return[e.g.$l]};h.prototype.gI=function(c,l,e){l&&(e.Mi=c[0]);return[e.Mi]};h.prototype.UD=function(c,l,e){l&&(e.g.sc=c[0],e.$H());return[e.g.sc]};h.prototype.ZD=function(c,l,e){l&&(e.j.on=c[0]);e.j.cg(!0);return[e.j.on]};h.prototype.Jn=function(c,l,e){l&&(e.j.Wk=c[0]);e.j.cg(!0);return[e.j.Wk]};h.prototype.nn=function(c,l,e){if(e.g.Uf!==c)for(e.g.eO(c,l,e),1<e.g.fm&&(e.j.In=
e.g.fm),l=0;l<=this.g.tf;l+=1)this.G[l].current=c!==y.Ht[l]?[!1]:[!0]};h.prototype.Rl=function(){var c=y.VE;this.lc>this.Ma&&(this.lc=this.Ma);var l=Math.sqrt((this.lc-y.Si)/(this.Ma-y.Si));var e=(this.tb-y.gi)/(y.vg-y.gi);return 0===e?l*(1-c):e*(1-c)+1+c};h.prototype.EH=function(c){var l=y.VE;this.lc>this.Ma&&(this.lc=this.Ma);c<=1-l?(c/=1-l,this.lc=Math.round(y.Si+c*c*(this.Ma-y.Si)),this.tb=1):(this.lc=this.Ma,this.tb=Math.round(y.gi+(c<1+l?0:(c-(1+l))/(1-l))*(y.vg-y.gi)))};h.prototype.hk=function(c,
l,e){var v=e.Rl();l&&(v=c[0],e.EH(v));e.lc>e.Ma&&(e.lc=e.Ma);return[v,Math.round(e.lc)<e.Ma?Math.round(e.lc)+"/s":Math.round(e.tb)+"x"]};h.prototype.wH=function(c){c.Qq=c.g.zoom;c.wb&&(c.Qq=c.Qq*c.We);c.yC=c.g.angle;c.SN=c.g.Na;c.uf=c.g.Ca;c.Yj=c.g.va};h.prototype.xN=function(c){c.xn=c.g.width/2-c.g.Ca;c.yn=c.g.height/2-c.g.va;c.Yo=c.g.zoom;c.un=c.g.angle;c.wn=c.g.Na;c.sl=c.g.width/2-c.uf;c.fo=c.g.height/2-c.Yj;c.Nr=c.yC;c.Np=c.SN;c.wb?c.ho=c.Qq/c.We:c.ho=c.Qq;c.Dh=0};h.prototype.tN=function(c,l){c.g.zoom=
c.bF;c.wb&&(c.g.zoom=c.g.zoom/c.We);c.Cc&&(c.Cc.current=c.cl([c.g.zoom,c.g.zoom],!1,c));c.g.angle=c.Jp;c.Xd&&(c.Xd.current=[c.Jp,c.Jp]);c.g.Na=c.Lp;c.Xe&&(c.Xe.current=[c.Lp,c.Lp]);c.g.Ca=c.ef;c.g.va=c.zj;l&&(c.nn(c.rv,1,c),c.Bd&&(c.g.Sn=0),c.lc=c.YE,c.tb=c.$E,c.dg.current=c.hk([c.Rl(),1],!0,c),c.g.$=c.Kp,c.ue.current=[c.Kp,c.Kp],l=Math.sqrt(c.zz),c.md.current=c.Xl([l,l],!0,c))};h.prototype.lE=function(c){c?(this.g.Ca+=this.g.dc,this.g.va+=this.g.Zb,this.g.zoom*=this.g.Bc):(this.LD(),this.g.Ca-=this.g.dc,
this.g.va-=this.g.Zb,this.g.zoom/=this.g.Bc,this.LD());this.g.zoom<y.Xa?this.g.zoom=y.Xa:this.g.zoom>y.Hb&&(this.g.zoom=y.Hb)};h.prototype.kH=function(c){c.elapsedTime=0;c.Bd||(c.g.pt(c,c.de),c.g.Y=1,c.g.fx())};h.prototype.reset=function(c){var l=!1,e=!1;this.Mr&&this.g.BF();0===c.g.counter&&c.j.mH();if(0===c.elapsedTime||c.Mv)l=!0;c.Xc||-1===c.jb||c.g.counter>=c.jb&&(e=!0);c.g.bf=0;c.g.Kj=0;e||l||(c.Wc&&(c.Ye=!0),c.Be&&(c.Mf=!0),-1!==c.jb&&(c.Xc=!0),-1!==c.ec&&(c.yf=!0),c.Ju&&(c.Ec=!1));c.elapsedTime=
0;c.g.dc=0;c.g.Zb=0;c.g.Bc=1;if(l){(this.g.la||this.g.L)&&null!==this.g.Yc&&c.gx&&(c.g.ud=!0);c.Wc&&(c.Ye=!1);c.Be&&(c.Mf=!1);c.Ju&&(c.Ec=!0);if(!e||c.Wc&&c.X.Xr||c.Ec)c.tN(c,l),c.Ec&&c.Sg(!0,!1,y.Dk);c.Xc=!1;e||(c.yf=!1)}c.Bd||(c.g.pt(c,c.de),c.g.Y=1);c.Ac||c.g.lH();c.g.fx();c.Bs="";c.IA=-1;c.ug=!1;c.X.vN();c.Gb&&(c.Gb=!1,c.j.notification.clear(!0,!1));c.g.ns(c.Gb);c.j.notification.clear(!1,!1);c.og=-1;c.g.Ms=0;c.nx(c.g.counter);c.Wi=!1;c.wG()};h.prototype.mx=function(c){var l=this.g.td;if(c){var e=
"pause";c="pause [Enter]"}else c="play [Enter]",this.g.la||this.g.L?(this.g.ud&&(l=!l),e=l?"reverse":"play"):e="play";if(this.g.la||this.g.L)if(l=this.g.td,this.g.ud&&(l=!l),l){var v="stepback";l="stepforward";var A="step back [Shift Tab]";var B="step forward [Tab]"}else v="stepforward",l="stepback",A="step forward [Tab]",B="step back [Shift Tab]";else v="stepforward",l="stepback",A="step forward [Tab]",B="step back [Shift Tab]";this.Ub.icon[y.Re]=this.Z.icon(v);this.Ub.F[y.Re]=A;this.Ub.icon[y.nq]=
this.Z.icon(l);this.Ub.F[y.nq]=B;this.Ub.icon[y.Kk]=this.Z.icon(e);this.Ub.F[y.Kk]=c};h.prototype.zh=function(c,l){l.Fk=c;l.ha=1;l.wt=!0;l.Ov=[];l.Pv=[];this.rl=!0};h.prototype.pu=function(c){c.zh(y.uA,c)};h.prototype.NA=function(c){c.zh(y.AC,c)};h.prototype.nu=function(c){c.zh(y.Zv,c)};h.prototype.XC=function(c){c.zh(y.dD,c)};h.prototype.fr=function(c){c.zh(y.dz,c)};h.prototype.Lo=function(c){c.zh(y.Dy,c)};h.prototype.ru=function(c){c.zh(y.QA,c)};h.prototype.Qo=function(c){c.zh(y.Gy,c)};h.prototype.By=
function(c,l,e){l&&(e.ha=e.ma[c][0],e.wt=!1);return c};h.prototype.RD=function(c,l,e){l&&(e.sk=c[0],e.sk&&e.lr(e));return[e.sk]};h.prototype.LB=function(c){c.lr(c)};h.prototype.SD=function(c,l,e){l&&(e.Xh=c[0],e.Xh&&(e.xx=!0));return[e.Xh]};h.prototype.bl=function(c,l,e){var v=c;if(l){switch(c){case y.Mm:e.Bq=!1;e.Oa||e.g.Ga?v=e.pd.current:(e.se=!0,e.ii.current=e.al([!1],!0,e),e.bh=!1);e.Ou(e);e.Bi&&(e.Ki.current=e.ar([!0],!0,e));break;case y.Om:e.se=!1;e.ii.current=e.al([!1],!0,e);e.bh=!0;e.Bi&&
(e.Ki.current=e.ar([!0],!0,e));break;case y.Nm:e.se=!1,e.bh=!1,e.ii.current=e.al([!1],!0,e),e.Ou(e),e.Bi&&(e.Ki.current=e.ar([!1],!0,e))}e.Ov=[];e.Pv=[];e.Kc.current[0]&&(e.Kc.current=e.hp([!1],!0,e),e.j.ig=!0)}e.FC(v);return v};h.prototype.FC=function(c){if(this.ha||this.pc)this.o.vu("grab");else switch(c){case y.Mm:this.o.vu("auto");break;case y.Nm:this.o.vu("grab");break;case y.Om:this.o.vu("crosshair")}};h.prototype.iI=function(c,l,e){l&&(e.Qg=c,e.Yu(),e.Cl.current=[!1],e.j.ig=!0,e.od?e.JB(e,
c):e.j.notification.notify("Clipboard "+c+" active",15,80,15,!0));return e.Qg};h.prototype.VD=function(c,l,e){l&&(e.Xm=c,e.cd=y.YH[c]);return e.Xm};h.prototype.bK=function(c){c.Oa||(c.Xm+=1,3<c.Xm&&(c.Xm=0),c.Io.current=c.VD(c.Xm,!0,c))};h.prototype.UK=function(c){var l=-1,e,v=0,A=0,B=0,D=0;'"'===c.charAt(0)&&(c=c.substr(1,c.length-2));if(this.g.fa)for(e=0;e<this.mi.length&&-1===l;)void 0!==this.mi[e]&&this.mi[e]===c&&(l=e),e+=1;else if(2>=this.g.i)if(this.g.ta)for(e=0;e<y.mi.length&&-1===l;)y.mi[e]===
c&&(l=e),e+=1;else"alive"===c?l=1:"dead"===c&&(l=0);else if("dead"===c)l=0;else if(this.g.L){for(e=0;e<c.length&&-1===l;){switch(c.charAt(e)){case "N":v+=1;break;case "S":A+=1;break;case "E":B+=1;break;case "W":D+=1;break;default:l=-2}e+=1}if(1<v||1<A||1<B||1<D)l=-2;-2!==l&&(l=v|B<<1|A<<2|D<<3)}else if(this.g.V)for(e=0;e<LifeConstants.uw.length&&-1===l;)LifeConstants.uw[e]===c&&(l=e),e+=1;else"alive"===c?l=1:"dying "===c.substr(0,6)&&(l=Number(c.substr(6))+1,l>=this.g.i&&(l=-1));return l};h.prototype.Sp=
function(c){var l="";if(this.g.fa)void 0===this.mi[c]?l="state "+String(c):l=this.mi[c];else if(2>=this.g.i)if(this.g.ta)l=y.mi[c];else switch(c){case 0:l="dead";break;case 1:l="alive";break;default:l="state "+String(c)}else 0===c?l="dead":this.g.L?(0!==(c&1)&&(l+="N"),0!==(c&2)&&(l+="E"),0!==(c&4)&&(l+="S"),0!==(c&8)&&(l+="W")):this.g.V?l=LifeConstants.uw[c]:l=this.g.Ga?"state "+String(c):1===c?"alive":"dying "+String(c-1);return l};h.prototype.YD=function(c,l,e){var v=c;l&&(2>=e.g.i?e.ff=c:(c+=
e.eg,0===c?e.ff=0:e.g.Ga||e.g.L||e.g.fa||e.g.V?e.ff=c:e.ff=e.g.i-c),e.ii.current=e.al([!1],!0,e),e.j.notification.notify("Drawing with state "+c+" ("+e.Sp(c)+")",15,120,15,!0));return v};h.prototype.dk=function(c){var l=this.g.i,e=this.Wg;-1===l&&(e=l=2);this.g.ta&&(e=l=7);c<l&&(c>=e?(this.eg=c-e+1,c=e-1):c>=this.eg?c-=this.eg:(this.eg=c,c=0),this.Pd.current=this.YD(c,!0,this),this.Fh.current=this.ul([this.eg/(this.g.i-this.Wg),0],!0,this))};h.prototype.Cy=function(c,l,e){var v=0;if(l)for(;v<c.length;)c[v]&&
(c[v]=!1,e.Pd.current=e.YD(v,!0,e)),v+=1;return c};h.prototype.rN=function(c){var l=0,e=this.ff,v=this.g.ae;var A=this.Ob;var B=v.l,D=v.u;var E=v.s;v=v.v;var G=(this.g.width>>1)-(this.kb>>1)+(this.Pb<<1);var F=(this.g.height>>1)-(this.qb>>1)+(this.Qb<<1);2<this.g.i&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V)&&0<c&&(c=this.g.i-c);this.ub&&(B=A.l+G,D=A.u+G,B>D&&(G=D,D=B,B=G),E=A.s+F,v=A.v+F,E>v&&(G=v,v=E,E=G));if(e!==c){for(;E<=v;E+=1)for(A=B;A<=D;A+=1)F=this.g.getState(A,E,!1),2<this.g.i&&!this.g.L&&
!this.g.fa&&0<F&&(F=this.g.i-F),F===c&&(this.ed(A,E,e),l+=1);0<l&&(!this.g.ta||6!==c&&6!==e||this.g.Lf(),this.nb("replace states"))}else this.j.notification.notify("Cell and drawing state are the same",15,120,15,!0)};h.prototype.$y=function(c,l,e){var v=c.ff,A=c.g.ae,B=0,D=0;if(0<v)if(2<c.g.i&&!(c.g.Ga||c.g.L||c.g.fa||c.g.V)&&(v=c.g.i-v),c.g.ta&&1<v&&(D=v&1),c.g.ta&&l)if(e){for(e=A.s;e<=A.v;e+=1)for(l=A.l;l<=A.u;l+=1){var E=c.g.getState(l,e,!1);3<=E&&5>=E&&(c.ed(l,e,E&1),B+=1)}0<B&&(c.V?c.nb("clear [R]Super marked cells"):
c.nb("clear [R]History marked cells"))}else{for(e=A.s;e<=A.v;e+=1)for(l=A.l;l<=A.u;l+=1)E=c.g.getState(l,e,!1),1<E&&(c.ed(l,e,E&1),B+=1);0<B&&(c.V?c.nb("clear Super cells"):(this.g.Lf(),c.nb("clear History cells")))}else{for(e=A.s;e<=A.v;e+=1)for(l=A.l;l<=A.u;l+=1)E=c.g.getState(l,e,!1),E===v&&(c.ed(l,e,D),B+=1);0<B&&(c.g.ta&&6===v&&this.g.Lf(),c.nb("clear state "+v+" cells"))}return B};h.prototype.Gd=function(c,l,e){var v=c,A=e.yf,B=e.Xc,D=e.Ye,E=e.Og,G=e.Ec,F=e.Mf,I=40,L=0,K=0,J=0,M=0,H=0,U=0,qa=
0;if(l){e.Bq=!1;switch(c){case y.YA:e.Og=e.Mv||e.Bf&&0===e.g.counter&&0===e.elapsedTime?!1:!0;e.Bf&&!e.Og?(c=y.Kk,e.cb=!0,e.rm=0===e.g.ga?!0:!1):(c=y.Re,e.cb=!1);e.nb("");e.reset(e);e.ld=0;l="Reset";!e.Xc&&B&&-1!==e.jb&&(K=1);e.Xc&&!B&&-1!==e.jb&&(K=-1);!e.yf&&A&&-1!==e.ec&&(J=1);e.yf&&!A&&-1!==e.ec&&(J=-1);!G&&e.Ec&&(qa=1);G&&!e.Ec&&(qa=-1);!e.Ye&&D&&(M=1);e.Ye&&!D&&(M=-1);!e.Mf&&F&&(H=1);e.Mf&&!F&&(H=-1);!e.Og&&E&&e.Bf&&(U=1);e.Og&&!E&&e.Bf&&(U=-1);if(0!==K||0!==J||0!==M||0!==H||0!==U||0!==qa)l=
"",0!==K&&(L+=1,l+="Loop"),0!==J&&(0<L&&(l=0<Math.abs(M)+Math.abs(H)+Math.abs(U)+Math.abs(qa)?l+", ":l+" and "),L+=1,l+="Stop"),0!==M&&(0<L&&(l=0<Math.abs(H)+Math.abs(U)+Math.abs(qa)?l+", ":l+" and "),L+=1,l+="Waypoints"),0!==H&&(0<L&&(l=0<Math.abs(U)+Math.abs(qa)?l+", ":l+" and "),L+=1,l+="Track"),0!==U&&(0<L&&(l=0!==qa?l+", ":l+" and "),L+=1,l+="AutoStart"),0!==qa&&(0<L&&(l+=" and "),l+="AutoFit"),l=0<J||0<K||0<M||0<H||0<U||0<qa?l+" On":l+" Off",I=120;e.j.notification.notify(l,15,I,15,!0);break;
case y.Kk:e.cb?(e.cb=!1,e.nb(""),(e.g.counter!==e.ec||e.yf||e.wl)&&e.j.notification.notify("Pause",15,40,15,!0),e.uo=performance.now()-e.uo,e.px&&e.j.notification.notify("Playback time "+(e.uo/1E3).toFixed(2),15,300,15,!1)):(e.Wc&&!e.Ye&&(e.g.la||e.g.L)&&(e.g.td||!e.g.td&&e.g.ud)&&e.Ez(e),e.cb=!0,e.nb(""),e.rm=0===e.g.ga?!0:!1,e.Bv&&C.MH(e),e.j.notification.notify("Play",15,40,15,!0),e.uo=performance.now());break;case y.nq:if(e.cb)e.cb=!1,e.nb(""),e.j.notification.notify("Pause",15,40,15,!0);else if((e.g.la||
e.g.L)&&null!==e.g.Yc){e.g.ud=!e.g.ud;e.g.ud&&e.nb("reverse playback");e.nb("");for(A=0;A<e.tb;A+=1)e.g.we(!0,e.de,e.Ac,e.Gb,e),e.g.re(),e.Mb=e.g.counter*e.Ma;e.g.ud=!0}else 0<e.g.counter&&(e.nx(e.g.counter-e.tb),e.qt(e.g.counter-e.tb));break;case y.Re:e.cb?(e.cb=!1,e.nb(""),(e.g.counter!==e.ec||e.yf||e.wl)&&e.j.notification.notify("Pause",15,40,15,!0),e.uo=performance.now()-e.uo,e.px&&e.j.notification.notify("Playback time "+(e.uo/1E3).toFixed(2),15,300,15,!1)):(e.Ui=!0,e.nb(""),e.rm=0===e.g.ga?
!0:!1)}v=c;e.mx(e.cb)}return v};h.prototype.Rt=function(c,l,e){l&&(e.ug=!0,e.g.angle=c[0]);return[e.g.angle,e.g.angle]};h.prototype.Ut=function(c,l,e){l&&(e.ug=!0,e.g.Na=c[0]);return[e.g.Na,e.g.Na]};h.prototype.St=function(c,l,e){l?(e.ug=!0,e.g.$=c[0]+.5|0,c=c[0]):c=e.g.$;return[c,e.g.$]};h.prototype.Xl=function(c,l,e){return l?(e.ug=!0,e.g.Pe=c[0]*c[0],[c[0],e.g.Pe*y.Zn]):[Math.sqrt(e.g.Pe),e.g.Pe*y.Zn]};h.prototype.sK=function(c,l,e,v){var A=this.ff;-1===e&&-1===v?(this.$s=this.hH(),2<this.g.i&&
!(this.g.Ga||this.g.L||this.g.fa||this.g.V)&&(A=this.g.i-A),this.$s=this.Wo&&this.$s===A?0:this.ff):(this.Ix(e,v),e=this.xk,v=this.yk,this.Ix(c,l),c=this.xk,l=this.yk,this.fu(e,v,c,l,this.$s)&&this.g.Lf());0<this.g.ga&&(this.og=-1,this.g.Y=1)};h.prototype.Ry=function(c,l,e,v){v.Mi&&!e&&(v.Ub.current=v.Gd(y.Re,!0,v))};h.prototype.Ay=function(c,l,e,v){v.jI(c,l,e,v,!1)};h.prototype.pK=function(c,l){l=(c.Pi-l)/c.Yr;-1!==c.Pi&&(0<l?c.kx(c,l):0>l&&c.lx(c,-l))};h.prototype.oK=function(c,l){l=(c.Pi-l)/c.Yr;
-1!==c.Pi&&(0<l?c.ix(c,l):0>l&&c.jx(c,-l))};h.prototype.qK=function(c,l,e){l=(c.so-l)/c.g.oa;e=(c.Pi-e)/c.g.oa/(c.g.P?y.ie:1);if(-1!==c.Pi){var v=c.g.T||c.g.P?0:-c.g.angle;if(c.Ld)c.Wc&&!c.Ye&&(c.Ub.current=c.Gd(y.Re,!0,c));else{var A=Math.sin(v/180*Math.PI);v=Math.cos(v/180*Math.PI);c.ug=!0;c.g.Ca+=l*v+e*-A;c.g.va+=l*A+e*v}}};h.prototype.kK=function(c,l,e){var v=c.cb,A=c.ld;c.Nk||(c.cb&&c.Aq&&(c.cb=!1,c.Bq=!0),v&&(c.ld=0,c.nb(""),c.ld=A),c.sK(l,e,c.so,c.Pi),v&&c.nb(""))};h.prototype.rK=function(c,
l,e){c.od||c.jK(c,l,e)};h.prototype.jK=function(c,l,e){var v=c.Ob,A=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),B=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),D=c.g.la?-1:0,E=Math.round((c.g.width-c.g.Aa)/2)+D;D=Math.round((c.g.height-c.g.wa)/2)+D;var G=E+c.g.Aa-1,F=D+c.g.wa-1;-1!==c.xa&&(0===c.g.Aa&&(E=0,G=c.g.width-1),0===c.g.wa&&(D=0,F=c.g.height-1));if(-1!==l&&-1!==e)if(this.Ix(l,e),-1===c.Pi)c.AH=l,c.BH=e,c.ub=!1,c.Rh=!1;else{if(c.Bk)v.u=c.xk-A,v.v=c.yk-B;else if(l!==c.AH||e!==c.BH)l=!1,-1!==c.g.xa&&(c.xk<E||
c.xk>G||c.yk<D||c.yk>F)&&(l=!0),l||(c.Bk=!0,v.l=c.xk-A,v.u=v.l,v.s=c.yk-B,v.v=v.s);c.Bk&&(c.CE(c),A=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),B=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1));c.Bk&&-1!==c.g.xa&&(E-=A,G-=A,D-=B,F-=B,v.l<v.u?(v.l<E&&(v.l=E),v.u>G&&(v.u=G)):(v.u<E&&(v.u=E),v.l>G&&(v.l=G)),v.s<v.v?(v.s<D&&(v.s=D),v.v>F&&(v.v=F)):(v.v<D&&(v.v=D),v.s>F&&(v.s=F)))}};h.prototype.bx=function(c){c.ub=!1;c.Rh=!1;c.nb("cancel selection");c.Bk=!1};h.prototype.nK=function(c){c.od?c.MB(c,c.xk,c.yk,!0):c.iK(c)};h.prototype.lr=
function(c){var l=c.Ob,e=c.g.M,v=l.l,A=l.s,B=l.u,D=l.v,E,G=0,F=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),I=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);if(v>B){var L=v;v=B;B=L}A>D&&(L=A,A=D,D=L);v<e.l-F&&(v=e.l-F);A<e.s-I&&(A=e.s-I);B>e.u-F&&(B=e.u-F);D>e.v-I&&(D=e.v-I);e=B+1;L=v-1;var K=D+1;var J=A-1;for(E=A;E<=D;E+=1)for(A=v;A<=B;A+=1){var M=c.g.getState(A+F,E+I,!1);0<M&&(E<K&&(K=E),E>J&&(J=E),A<e&&(e=A),A>L&&(L=A),G+=1)}0<G&&(l.l=e,l.s=K,l.u=L,l.v=J)};h.prototype.iK=function(c){var l=c.Ob;if(c.Bk)if(c.ub=!0,c.Bk=
!1,c.Rh=!1,c.sk&&c.lr(c),c.ub){var e=l.u<l.l?l.l-l.u+1:l.u-l.l+1;l=l.v<l.s?l.s-l.v+1:l.v-l.s+1;c.nb("selection ("+e+" x "+l+")")}else c.bx(c)};h.prototype.mK=function(c,l,e){-1!==l&&-1!==e&&(c.rA=!0,l=c.hH(),c.dt?(c.rN(l),c.dt=!1,c.ii.current=c.al([!1],!0,c)):(c.$s=l,c.dk(l)))};h.prototype.lK=function(c){c.Bq&&(c.cb=!0,c.Bq=!1,c.j.cg(!0));0<c.ld&&(c.g.nh(),c.nb(""))};h.prototype.jI=function(c,l,e,v,A){-1!==c&&-1!==l&&v.j.hasFocus&&(e?(v.Kc.current[0]||(v.ha?v.pK(v,l):v.pc?v.oK(v,l):!v.se&&!v.bh||
A?v.qK(v,c,l):v.se?v.kK(v,c,l):v.bh&&v.rK(v,c,l)),v.so=c,v.Pi=l):-1!==v.so?(v.ha||v.Kc.current[0]||(v.se?v.Nk?v.mK(v,c,l):v.lK(v):v.bh&&v.nK(v)),v.so=-1,v.Pi=-1):v.ha||v.Kc.current[0]||(v.Nk?v.j.notification.notify("Now click on a cell",15,180,15,!0):v.od&&v.j.notification.notify("Now click to paste",15,180,15,!0)))};h.prototype.Qm=function(c,l){8>this.g.zoom&&(0>c?c=-8:0<c&&(c=8),0>l?l=-8:0<l&&(l=8));this.Pi=this.so=0;this.jI(c,l,!0,this,!0);this.Pi=this.so=-1};h.prototype.cu=function(c){var l=y.cs;
null===l&&(l=new Image,l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABuAAAAAoCAIAAACAQassAAAABnRSTlMAAAAAAABupgeRAAAT0klEQVR4nO2dSZLcug5FlS+8E2/Ky/DYc8+9Y/2BfjFYBBsQBMBG9wwysigKABuwgajK6wIAAAAAAAAAAAAAAAAAANDi9+/fpulvxrpuUecv5Gl02vTW6UmeSga7qwAAAAAAAABwXdeP2QYAoM9930nK5/NxkDxL7yzu+/Yxw00RAFP49+/f79+///3755Yui4+PXI15PNrnk2kS2B3MRwAAC2Quj4ECAKDLe9Y5CFCCY7FwrXo4cq5ef2gIQGVEs5B5AKgHoAgNYj7hRZqudTWA6CSwAPMRAEBMl6dzxgEMFAAAXSauc0LwwWJko8L/U9cBwAo8PmwnvzQizNI7i7eVF4AjyZ67NLrqFp1c51kO8AHzEbiu6/7ObHPAHiSuHQ8m1OsxDgAApjB9naOuPSsQAUpwLHY+XPfeWXpn8bbyAnAqz5vgRlfD9+SEo9EnRo93gvmoNyq3XQjvbnFd1+cLZn4AErr8PduR0LUAABZMX+coai+Jwive4GQstqkcgbP0zuJt5QXgJDyPT14u0cMkBgpmkT2CFK9Hu9KZrYn56OrcZohLJ96lDFZm6XZakBCjrNwyYgk4FU7PifP4dKTtBiIAgAX+65xklFPRngybGNzA4SQ93i7S3/WnnV7KlF+U1jqMsPihhlm/4r1yncQs2HwLmpSwwq94J5nHr9Z7cmiR7Dmm0vmmZnqiRUD5oFVGrxZTlDpg1Lh81WLLxXKmNxa/24x3MNmNg1VUub10SXDL4mw9LKxPvcM0u1mcR7el1Bt91hA9cWoA4Bj81zn3d0qXetOp9qF/AGxBqYJ6H352GR8LGSm1eqVpGSZWHZSq1DNHTqJXC5WmEQhx0NsVQ1QheVszuar+REVFZkUXU/jcer7MxmRdsROHrCxJX1rBJEp8zNDtO/2SNUn96kPc60IbKR6yu3knKGkG5hLNbqLnK+313GzVWTssc0LXqvbp85HRAqYXZrNmXa9XkeDewUmncnulI/EPXZqitSYM3/n/LMzCFzgsrpffItn5YnBY7rVn5GrplueL5yH3iXpVUPfiOtMnFLAUi6xzaM4u/5XvzkoRTWvuAlr5m0IGzZbd3rTKuS2oRpV65sjxL+yRTDlBuR3jzuVZzxZOoT7u0Sqd6M4qQ5Y1s05Nzrp6ffVk9R5CuyInP2eaM+1IMqUCM+pyFEskwK22HVjE2mbtqdRtXXjvXYNKV5DGUTdefL536DpR00+NnHeW3qwl9Hs2MUnpskdmvPguxTZaX6+KunGNK3TmdzKlPs9rysH+ybm9/SM5J1WoBYr1wxdl2iiLNPciZoCDSZ7wvLDLhV8UEdx7VxflSfqUBUFX+izoGcPn12bs0uOrFauMrl7kX+eE37IYJJZzd/5TMOr+nxz1W3qZohS8hNL5hVIK8ERc/9kb0ZqDZMfVOxdYDNNKnB77Gp13BKusrskrWCubRi3m35X1itHd7DvcAigTtySHIXv3KJu55L/cH8m513hvZSl0+zfHbZJL4gmJY8YKWBQQgCsa0AQLwZM41cXe3KZMQgxR6z9ONq+GUOnNe/96hC75zNVSuJSE5sfj+wKlAo3gbcSzW6mjGvngkdNKQMUBBUNHfXdwdp2bQteBIQqZBPpDOKy5dBxsEXpvfcrQav14duZ/qqheFky4Z+AQQnkVH9Fv5vCXvn2/4o0w5YP6aDXyNFWxORYchd82gvBdd316u5N/YePl5oKdf3Fkk1NXTgHNdtzapxQJ5xxLRyztrjrsasR7J05+cc9XVOpJ0AvfOQOjFSw9s4kOU6d36AiZS8f3PKnrtRusLPTS+SIbHwyDcPZQZLhdcGSyaV5Wna6WC9FJgsOcO8uP3kbp7PlhHThZrcWjBP1+DQ8gvYvhrhBHX4AyVnBYozI5eLBYtmjnjSDvgd9wnt0vjGDhlQ23l0SWQiWwIngRSUV1RTjgoPIzOHXJJVY7QRnf1SW/367/I4svzIpRBr2CtZ/WcnGXZWfp4NWIzMFzWJVDlNb1WT/xV7qk1VsE+dfvYMCCSjgyCVnSGHElpqlC/eyz7jQqiE6eukHDYvIkXnX2PC5O/btKJ+fHKHsPYLX/B2WJsLd/CablFbuHll8t3pSLmwe2g6410cccMK1kjvDDFiIjiCOMyW+Cd119SHY1Wt4Xy4lPu3RJ4GcWR6DEp5/8xyjTgTEreXcP/XyRTZQxblL4HjeoblwjG/r0L2xi0hTVXUb6KwUlaHNkGyh+qv3JzQKKY2YzevIZfmqVnTe7PqmcXr1a9quA7QAATSpriaz7lKKTFXeTByiboo9hYhl9Fk9btOAWRoL16X2GcyoWjw2TunX22WZxOOW9q+jmeSjF+OzSE/x/LecWRQ+7+EhPdnRZld2d8uV3mTdxBryjf4WhKLN06bVjsh1uVRrGt7MXbILoJ13Jo5+vzOfrhFHoz+F7afIKt4QvrhZrIIhO7ljMEnR59lrUq2Ju3WYDKQ7RFX+6iqNY9nqM8hbtu4uZBD1JpaglvSXhvfmbQgRbDrHekg0VObJm5utNiIPc9QyD6pqKZOq2Q9C+zQCEOvX3NwNdAQJZNKGXsL6kiTQ9YXo961aRojTmOJmsZa3Do1Q7U0hl7I03HpUle68xyalDt+9NA3SvxtzfT17QOhEQy7nJ+Y5S/oSRGY1z74gLDBqcVV2xJ9mNyxqIOeRWUmKOXwCYotKgVCZdM9dV1LVzJqZmnlKGcdXjqFQ+fxjRnXNfqJdO7jRDoj0exEZs4N8+oqg0b/I/qZxevSOoOxSTwZZlyjFdM3P06gZ2ps/g0+vTWa8d9aXdQ3Y3VFpn9umW0VdEtl6t/E0hdbEWxR8vr0Aps5jNnFoaBSaBCqVomlY6h67GcmjZUhfq7VfWdVtKZxrJyTZY27TGmm5r7cixzBFdlcyx/NJnxYa6PU+jZ09BmqYnGUp5VK4G4kq79B6tJ3LU+1hdL1OdUf+34M7NyypimR5qN1zYsbLBwTBFCzkDZsmMXoH8PHaqx1F3Iq2cr9XbZSGz/yTZZJVgVAR6L7W895PK6dWrZb/sdgHjNvv7ER9FvbOKsJQxbnp7fXBEUfb2Xq+p1MnoK95dyrbA2f6srkosufJYWEX1+mxq9kX8VpznDGaVrv7AZ3fu70tGOxXWWrq4vz+C8zkFUzlKIOB5G5oeNrROTxj59Zvm1fA9qS6tt2xiOaFRxsW+k8H+XBHLz7zdQYP76134lfvedMO0/H0v1bENcw0wJbt2FS9odaWVoKe2K+uo4Nr0auXlCf5ByMGiCSRk503BCcpe57KY97s4fpMVuPtJbh9RrWgJGESxPkt+1xu/qvivfoDyAR1rcbZuna2NBw9LLdOXMkaFio/ceqEHsScqVvj9PTppqiuWmV2sqytyw/M/UTpU13jI+M2Umgb1WWfl+qFtekenKe1W7Nntrs9QOVH1a9GdiP2n9StaICWBy9Bz4qu0O8VTT29nC483RoowIkEQndzRoTAO9CKrLlSyP3XfT64arVh6A5clrAKUAACQEE9XzlNXNozVjG3txR2d33kWjg6VLFBhHZ2ME40at7RYt9B1Hg7Vte/e6Wy6Gn3T5nsG3qVGg7gmY8PolDHDOnAUWrtTC2mUOEx/RdHJkstcJF6ZNS9ehGzkVoLo5FIDHQAgYeK+exCrAKXW4W1gxNats7XxbyZuOM9GPCwQmYWuFLN7zvEFJb191pw3Kzp5nXiC0vTl7uzPPeEE5V7IKpM+JklmgfhpSmUlvcuZlxDym21InnhgpHZaeGVWi0/9TFT9cnTP6Zie+kl8oSKcRvZpYnJ18FkF0x8VZzpBdHKLYTlh1jhAp7lS4mrIqguDrT+0I1X23Ua9LitWoEs/QLn7CsDZ/qyuSkNmL71q7NjUbBBoPn+2UMdP35HKCjVs/i+9Iq/gg3OPxJ56lMD0Re/wPakurdV5LGffvdNcwo46uxvXoilt04ZbbRBYausbT0POJtmpXqRuFyQ4gopH6EqjVHb1lUe8SaeKjQwpSw0IWbLzZtcnldOrV8v+Lvxbhxn+ttDbi5ZtVNSIJUCM+r675He98auK/2oGKE/qTJ5lGdE1aOd27bWdwTGcYfcNQ/PH+HRbRWkgDIgHVHJzV/z0Jd2t1Nx6mxudvAxOUD7HDLO/vm2aHl+t26Z41SF6+PEKGYtLsUtow8jOStPsUjNZ7ohsogCxGcla4hOFEiorkK3r3xNUVB3dRazpkjiWTJs13tvHTsQ0bKSfNP1Rd5orLWzqn1rap+C81crqWnkbMm7byqU7j8rMTq+qN00yGlDn6houdNaIioUs6S2p6M3fFEJv9KmKrJb6rDmirqk6ka9Szxw5HGOOgTozTWkKqZxaMqL5W8APXSsno2hCKRApCGZNr2daRb2l0K1k2cJ03IBsqQUNWhFe4vP13pZKnkAcxfP8njXA9M/ATc6h6HaMm5zvMKK+eBjP70xSY6Xxs0sg53bmYLJgjS1IqduH9LpfaE3cMu/j3NXMY6c6zvx8mdIn+cOI7oCz+PB1iSwMY1QyKyXOQucUz1mm7tGDwq/cvMn/pHJ69WrZryKKyYjGWf7LR7FWjQSOmPHgX5/+eu2gDVoJXzQv9dVJ5jFujr4CDejVyt8U0qtIq0KY8rXUMbXzM6ymaAtoGbVKXTkqpZLOoct+oybO1qRip/KsZ7tSiCl5awUVjZzEXciedjRNZxpgcfUhjHXhT5XmS+Q4dAlZx1Z0B11KQ6Wbartx41WUqiv2OMHtvZllrca5q5nHTnXIqYLASGqAVk5dvbOQWXh/X35nr3ISqUC+DRwL+QZ0Sb7JvNn7SeX06tWyX0ugnfPGWrqMGdQIrnn16aZXMO6JFSXjRr2MpQySOrF2zl69WvmbQmTmDVZLU6y6RqYNTQu1Sso04zBoMbUKjgBlEEvrU7FTTQxQZlP8KXl009PFujiJu+PQr8KlbB7m1V6lAesmC8OpqQpxr15zdkvs8bTQdNx4FfW64vhFV22rtxrnrmYeO9WXXnRypFfzhaioM5JmgdjCO1of0sQk5W75UelGMeoCK1p6P4/EznnFZvhoPBvn+vTvQl1itWxglqu3+D8EppxxPFUG5/W9TVn2n4m8ub/tzmo9KthzRqdaoRRd44b6v7N5VK9QD9sR/iVl9hVsu6vXdd32b8ZZy1cc2UztFBAXbSnDtuCwKaZJ/VVxT0sAGCH05PrL1OHzzr0PTqVVUnrNSxzKYoQRvN+92vylxcGbfXA28bYoWZBkL6moC1RGg2QQaw4dfQHKI4chAeojlzg4qNsiC8Yo0eX2BW33EpjjxmB/oCoQnRyhfkaSZhu/GuKVDrsa073T+Eaxd6EGtqAes1iHimusbPYiLLhOpmQt1I2eUxX+PceuIZqri/iS+r92bWo0AtHJBIQpwQiVycLIcepPSuioNUjvYrhr6csNUJ49BsnQHblCsyX/cphqvCx35kutvY7vdepPWQEHVLI6/uMGopODNM852l3d9wSl4p6cLtRGpFmguH4dF7Vg/VAWNw9oETvvmo3uvzHenWS+aIbvaZwue6kusNfC+E+jDaDg83gQpgRiskPxGY4jG5H4Mcr/OLLOqEojFOuHL8q0URZp7kXMAIeBfrUjyYsJyX4ACCj9vrb11Sv3fpzK0j+WE7aI42KDZPVVJu3DJUW7k5TojnhSaFV8IvwM1SAMULMNqfF4R7JPWN/sdVi/orIWrm/2FELPD06ReAcdqEM69Zpfv379+fMnETjO5zsqMi+b+XdlvWJ2nIzACtC1zSxLFBl5XlIaThNqAUp4Ix+LuprYp6e3u7oBWhPhLnrduAn+Mmn+m5xu2HSvC2LCFvqkdsz+EHY43miRHlPPYHT1zkUPmzGsZnr8Z3bfqIjug0kVOV1URsuth8oV5qOn9mbN2hXVNznSFcKU542rDqxfXUdujC34fH+DreQOyXoySQz8/Pnz79+/NOcg6iNbIryki5m+l14xGCeBgMpwIWD6OucuRCf5/suJUcLNwIEkC/Fbb6dalzxF78gPbcuovLl5TXqbj45u6muI6fWs2J3AUsRHDj2/c+wZuVrJeX8/Qfl8SYa48L0rPd5harlMaTWmiIOKt+E/H93kDdBB1TJKqp1Nkqnj3NXMY6d6R7Qc4VXc3+OVF6MCk2zxHLRy17KYf1fWC8BJTFnnxH+q+C+9BMCZxJ1e/QlbRfgsvZRSNE0rnXJ/vRfDzO8jygLruq2cO2NYB7bkafTsKUjT9Pgq/a57NeDj4PCXNzNrPmoeHxAgszlZMPi7g115m3k8qxq8lrjPlDqPbqdCRwUABG73dY76jIkpGLyL5qLBSP4svRTnAKVuwa2rcRAEKIEFs/pVcjWbTeVqjHVnVly3ge141XxU4dRFvzj+WGJ2gcBOlJb9nMwAAKCC/zrHaN4siW3/SA4Am3KbvVVR/w9Ts/TO4m3lnYj6xsxovgGbYvrLOeH7Hf0PSqPPxd+qA3ZgPgps/e9EK3y0mV0gsARM747f+27ei94FAFBn+jpHUXtJ1A8tBQAshfXutOTDs/TOwqe8WORdWOkCSzx/LSf5z1zWn7IKATuC+QgAIIP6dd3Zb/y0FADAnenrHHXt2cgGApTgWOLuruVOnODgLL3+0CFMpbxUJvaEAOgy+Ca44GoA0UlgAeYjAIAi4bAk9feQcuM3iAAAXkxc51hHRZMUBCjBgdh5UV3yLL2zcLNqzeIDsC/0dewnvFh6TXv8auBxZ59P8B4wHwEA1Jm17AcAgASscwAAAAAAAAAAAAAAAMCc/wGQhFXdVOILKwAAAABJRU5ErkJggg==",
y.cs=l);this.Z=new IconManager(l,c);this.Z.add("play",40,40);this.Z.add("pause",40,40);this.Z.add("tostart",40,40);this.Z.add("menu",40,40);this.Z.add("stepback",40,40);this.Z.add("stepforward",40,40);this.Z.add("autofit",40,40);this.Z.add("fit",40,40);this.Z.add("grid",40,40);this.Z.add("shrink",40,40);this.Z.add("draw",40,40);this.Z.add("hexgrid",40,40);this.Z.add("lines",40,40);this.Z.add("pan",40,40);this.Z.add("pick",40,40);this.Z.add("states",40,40);this.Z.add("hexagongrid",40,40);this.Z.add("trianglegrid",
40,40);this.Z.add("inside",40,40);this.Z.add("undo",40,40);this.Z.add("redo",40,40);this.Z.add("drawpause",40,40);this.Z.add("invertselection",40,40);this.Z.add("autoshrink",40,40);this.Z.add("selectlibrary",40,40);this.Z.add("cut",40,40);this.Z.add("copy",40,40);this.Z.add("paste",40,40);this.Z.add("flipx",40,40);this.Z.add("flipy",40,40);this.Z.add("rotatecw",40,40);this.Z.add("rotateccw",40,40);this.Z.add("random",40,40);this.Z.add("smart",40,40);this.Z.add("outside",40,40);this.Z.add("select",
40,40);this.Z.add("reverse",40,40);this.Z.add("uturn",40,40);this.Z.add("nudgeright",40,40);this.Z.add("nudgeleft",40,40);this.Z.add("nudgeup",40,40);this.Z.add("nudgedown",40,40);this.Z.add("shrinksel",40,40);this.Z.add("cancelsel",40,40)};h.prototype.uH=function(c){var l=!1,e=null;""===c&&(c="Life");try{e=this.C.create("","x = 1, y = 1, rule = "+(c+"\nb!"),this.g.A,null,null,[],this)}catch(v){e=null}e&&e.Qe&&(l=!0);return l};h.prototype.AE=function(c){var l=window.prompt("Change rule",(""===c.rd?
c.Jb:c.rd)+c.an);if(null!==l)if(c.uH(l)){""===l&&(l="Life");var e=l.indexOf(":");-1!==e?(c.Jb=l.substr(0,e),c.an=l.substr(e)):(c.Jb=l,c.an="");c.rd="";e=c.g.Iu(c,c.g,!0,c.g.i,c.g.i,[],!0);c.Od&&(c.J=c.Um,c.H=c.Tm);c.li(e,!1)}else c.j.notification.notify("Invalid rule",15,180,15,!0)};h.prototype.gz=function(c,l,e,v,A){var B=this.Jb;""!==c&&(B=B.substr(0,B.length-c.length));this.rd=this.Jb=B+=l;c=this.g.Iu(this,this.g,!0,e,v,A,!0);this.Od&&(this.J=this.Um,this.H=this.Tm);this.li(c,!1)};h.prototype.IJ=
function(c){c.gz(c.g.ta?"History":"","Super",c.g.ta?7:2,26,c.g.ta?y.AL:y.pO)};h.prototype.GJ=function(c){c.gz(c.g.V?"Super":"","History",c.g.V?26:2,7,c.g.V?y.uO:y.oO)};h.prototype.HJ=function(c){c.gz(c.g.ta?"History":"Super","",c.g.ta?7:26,2,c.g.ta?y.zL:y.vO)};h.prototype.ME=function(){var c=this.g.za.hh;var l="",e,v;var A="R"+c+",C"+(this.g.za.Ro+",");c=this.C.Gs(c,this.g.za.type,this.g.za.Fi);switch(this.g.za.type){case this.C.jh:l="FC"+this.g.za.Vf+"E"+this.g.za.Wf;break;case this.C.ce:l="";break;
case this.C.Nf:l="N";break;case this.C.zk:l="C";break;case this.C.Gk:l="2";break;case this.C.xj:l="+";break;case this.C.Xj:l="X";break;case this.C.ak:l="*";break;case this.C.Li:l="H";break;case this.C.vj:l="B";break;case this.C.pj:l="D";break;case this.C.Gj:l="#";break;case this.C.km:l="@"+this.g.za.Ne;this.g.T?l+="H":this.g.P&&(l+="L");break;case this.C.oi:l="3";break;case this.C.Uh:l="A";break;case this.C.fj:l="L";break;case this.C.Ii:l="G";break;case this.C.up:l="W"+this.g.za.Ne,this.g.T?l+="H":
this.g.P&&(l+="L")}var B=this.$b.random()*c/c;A+="S";var D=-1;for(e=v=0;v<c;)this.$b.random()<B?-1===D&&(0<e&&(A+=","),A+=String(v),D=v,e+=1):-1!==D&&(D!==v-1&&(A+="-"+String(v-1)),D=-1),v+=1;-1!==D&&D!==v-1&&(A+="-"+String(v-1));0===e&&(D=this.$b.random()*c|0,A+=String(D));A+=",B";B=this.$b.random()*(c-1)/(c-1);D=-1;v=1;for(e=0;v<c;)this.$b.random()<B?-1===D&&(0<e&&(A+=","),A+=String(v),D=v,e+=1):-1!==D&&(D!==v-1&&(A+="-"+String(v-1)),D=-1),v+=1;-1!==D&&D!==v-1&&(A+="-"+String(v-1));0===e&&(D=this.$b.random()*
(c-1)|1,A+=String(D));""!==l&&(A+=",N"+l);return A};h.prototype.NE=function(){var c=this.g.za.hh;var l="";var e="R"+c+",C"+(this.g.za.Ro+",");e+="M1,";c=this.C.Gs(c,this.g.za.type,this.g.za.Fi);c+=1;switch(this.g.za.type){case this.C.jh:l="FC"+this.g.za.Vf+"E"+this.g.za.Wf;break;case this.C.ce:l="M";break;case this.C.Nf:l="N";break;case this.C.zk:l="C";break;case this.C.Gk:l="2";break;case this.C.xj:l="+";break;case this.C.Xj:l="X";break;case this.C.ak:l="*";break;case this.C.Li:l="H";break;case this.C.vj:l=
"B";break;case this.C.pj:l="D";break;case this.C.Gj:l="#";break;case this.C.km:l="@"+this.g.za.Ne;this.g.T?l+="H":this.g.P&&(l+="L");break;case this.C.oi:l="3";break;case this.C.Uh:l="A";break;case this.C.fj:l="L";break;case this.C.Ii:l="G";break;case this.C.up:l="W"+this.g.za.Ne,this.g.T?l+="H":this.g.P&&(l+="L")}var v=this.$b.random()*c|0;e+="S"+String(v);v=(this.$b.random()*(c-v)|0)+v;e+=".."+String(v);v=(this.$b.random()*(c-1)|0)+1;e+=",B"+String(v);v=(this.$b.random()*(c-v)|0)+v;e+=".."+String(v);
return e+(",N"+l)};h.prototype.QE=function(){var c="W";var l=2*(127*this.$b.random()|0);return c+=String(l)};h.prototype.OE=function(c){var l="B",e,v,A=8,B="";if(this.g.T)switch(this.g.Vg){case this.C.Xp:A=6;B=this.C.Rv;break;case this.C.$r:A=3,B=this.C.bA}else if(this.g.P)switch(this.g.je){case this.C.pp:A=3;B=this.C.Ot;break;case this.C.br:A=6;B=this.C.Fx;break;case this.C.cr:A=6;B=this.C.Gx;break;case this.C.qp:A=9;B=this.C.Qt;break;case this.C.Hn:A=12,B=this.C.Pt}else this.g.Oe&&(A=4,B=this.C.Ox);
var D=new Uint8Array(A+1);var E=new Uint8Array(A+1);var G=v=50;-1!==this.Fl&&(G=v=this.Fl);-1!==this.Gl&&(v=this.Gl);-1!==this.jn&&(G=this.jn);for(e=0;e<=A;e+=1)D[e]=v,E[e]=G;-1===this.Fl&&-1===this.Gl&&(D[0]=25);for(e=0;e<this.ji.length;e+=2)this.ji[e]<=A&&(D[this.ji[e]]=this.ji[e+1]);for(e=0;e<this.Sj.length;e+=2)this.Sj[e]<=A&&(E[this.Sj[e]]=this.Sj[e+1]);for(e=2<this.g.i||c?1:0;e<=A;)100*this.$b.random()<=D[e]&&(l+=String(e)),e+=1;l+="/S";for(e=0;e<=A;e+=1)100*this.$b.random()<=E[e]&&(l+=String(e));
2<this.g.i&&!this.g.V&&(l+="/"+this.g.i);return l+=B.toUpperCase()};h.prototype.PE=function(c){var l=c?this.C.zM.toUpperCase()+",":"M",e,v=!1;var A=0;var B=[];var D=this.g.kg;if(this.Vw){v=new Uint8Array(16);c=new Uint8Array(16);for(e=0;16>e;e+=1)v[e]=e,c[e]=D[e];for(e=0;16>e;e+=1){var E=D[e];for(A=c=0;16>A;A+=1)E===D[A]&&(c+=1);var G=new Uint8Array(c);for(A=c=0;16>A;A+=1)E===D[A]&&(G[c]=A,c+=1);B[e]=G}for(e=1;16>e;e+=1).5>=this.$b.random()&&(G=B[e],c=this.$b.random()*G.length|0,c=G[c],D=v[e],v[e]=
v[c],v[c]=D);for(e=0;15>e;e+=1)l+=v[e]+",";l+=v[e]}else if(this.Sw){e=16;c?(c=0,A|=1):(c=16*this.$b.random()|0,15==c?(v=!0,A|=32769,--e):(c=0,A|=1));l+=String(c);for(--e;65535!==A;){c=this.$b.random()*e|0;for(E=0;0<=c;)0===(A&1<<E)&&--c,E+=1;l+=","+String(E-1);A|=1<<E-1;--e}v&&(l+=",0")}else{c?c=0:(c=16*this.$b.random()|0,15===c?v=!0:c=0);l+=String(c)+",";for(e=1;15>e;e+=1)c=16*this.$b.random()|0,l+=String(c)+",";c=v?0:16*this.$b.random()|0;l+=String(c)}return l};h.prototype.mt=function(c,l){var e=
"",v,A,B=0,D,E=[],G=c.Rw,F=c.Ww,I=c.Pw/100,L=!1;-1!==c.Jb.indexOf("|")&&(L=!0);if(2>=c.g.i){E[0]="b";E[1]="o";var K=2}else for(K=c.g.i,E[0]=".",A=0;A<K-1;A+=1)E[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);-1!==c.g.ke&&(G=1);for(v=0;v<G;v+=1){var J=this.$b.random()<=I?(this.$b.random()*(K-1)|0)+1:0;for(A=D=1;A<F;A+=1)B=this.$b.random()<=I?(this.$b.random()*(K-1)|0)+1:0,B!==J&&(1<D&&(e+=D),e+=E[J],D=0,J=B),D+=1;0!==B&&(1<D&&(e+=D),e+=E[B]);v<
G-1&&(e+="$\n")}e+="!\n";c.nt||l||(c.g.fa||(c.g.la||c.g.L?(c.Jb=c.PE(c.g.L),L&&(c.Jb+="|"+c.PE(c.g.L))):c.g.pa?c.bE?(c.Jb=c.NE(),L&&(c.Jb+="|"+c.NE())):(c.Jb=c.ME(),L&&(c.Jb+="|"+c.ME())):-1!==c.g.ke?(c.Jb=c.QE(),L&&(c.Jb+="|"+c.QE())):(c.Jb=c.OE(L),L&&(c.Jb+="|"+c.OE(L)))),c.g.ta&&(c.Jb+="History"),c.g.V&&(c.Jb+="Super"),l=AliasManager.Sr(c.Jb),null!==l?c.rd=l:c.rd="");l=c.g.Fc;l+="x = "+y.Hq+", y = "+y.Hq+", rule = ";l+=(""===c.rd?c.Jb:c.rd)+c.an+"\n";l=l+e+c.g.Lg;if(c.gk.locked||c.Qw||window.confirm("Create new random pattern?"))c.Od&&
(c.J=c.Um,c.H=c.Tm),c.li(l,!1),c.xC(c)};h.prototype.mG=function(c){var l=window.prompt("Create new pattern with rule",(""===c.rd?c.Jb:c.rd)+c.an);null!==l&&(c.uH(l)?(""===l&&(l="Life"),c.Od&&(c.J=c.Um,c.H=c.Tm),c.li("x = 1, y = 1, rule = "+(l+"\nb!"),!1)):c.j.notification.notify("Invalid rule",15,180,15,!0))};h.prototype.$H=function(){this.Ki.icon=this.g.T?this.g.sc?[this.Z.icon("hexgrid")]:[this.Z.icon("hexagongrid")]:this.g.P&&!this.g.sc?[this.Z.icon("trianglegrid")]:[this.Z.icon("grid")]};h.prototype.Wy=
function(c,l){c.j.hasFocus&&(c.Un||(c.wheelDelta=-l.deltaY,1===l.deltaMode&&(c.wheelDelta*=45),c.j.cg(!0)),l.preventDefault())};h.prototype.KD=function(){var c=this.X.tE(0===this.Et?0:this.Dh/this.Et),l=this.un,e=this.Nr,v=this.wn,A=this.Np;this.g.Ca=this.g.width/2-(this.xn+c*(this.sl-this.xn));this.g.va=this.g.height/2-(this.yn+c*(this.fo-this.yn));this.g.zoom=this.Yo*Math.pow(this.ho/this.Yo,c);180<e-l?l+=360:-180>e-l&&(e+=360);this.g.angle=(l+c*(e-l))%360;this.g.Na=v+c*(A-v);this.uv&&(this.g.Pe=
this.NC+c*(this.Lz-this.NC),this.md.current=this.Xl([this.g.Pe,this.g.Pe],!1,this));this.gw&&(this.g.$=this.PC+c*(this.Mz-this.PC),this.ue.current=this.St([this.g.$,this.g.$],!1,this));this.Dh+=1;this.Dh>this.Et&&(this.Dh=-1,this.g.zoom=this.ho,this.g.angle=e%360,this.g.Na=this.Np,this.g.Ca=this.g.width/2-this.sl,this.g.va=this.g.height/2-this.fo,this.uv&&(this.g.Pe=this.Lz,this.md.current=this.Xl([this.g.Pe,this.g.Pe],!1,this)),this.gw&&(this.g.$=this.Mz,this.ue.current=this.St([this.g.$,this.g.$],
!1,this)));this.Cc&&(this.Cc.current=this.cl([this.g.zoom,this.g.zoom],!1,this));this.Xd&&(this.Xd.current=this.Rt([this.g.angle,this.g.angle],!1,this));this.Xe&&(this.Xe.current=this.Ut([this.g.Na,this.g.Na],!1,this))};h.prototype.YJ=function(){var c=this.X,l=c.sf.length,e,v=this.kb,A=this.qb,B=c.Gp();for(e=0;e<l;e+=1){var D=c.sf[e];B.di=!0;B.x=-D.x+v/2;B.jg=!0;B.y=-D.y+A/2;B.Qf=!0;B.zoom=D.zoom;B.le=!0;c.add(B);e<l-1&&(B=c.Gp())}};h.prototype.EC=function(c,l){var e=c.X.yc[l];c.xn=c.g.width/2-c.g.Ca;
c.yn=c.g.height/2-c.g.va;c.Yo=c.g.zoom;c.un=c.g.angle;c.wn=c.g.Na;e.jg?c.sl=e.x:c.sl=c.xn;e.Qf?c.fo=e.y:c.fo=c.yn;c.ho=e.le?e.zoom:c.Yo;c.Nr=e.Th?e.angle:c.un;c.Np=e.ni?e.Na:c.wn;c.g.T&&(c.sl+=c.g.va/2);c.uv=e.Hi;c.uv&&(c.NC=c.g.Pe,c.Lz=e.depth/y.Zn);c.gw=e.Qi;c.gw&&(c.PC=c.g.$,c.Mz=e.$);c.Dh=0;c.Et=e.Ok;c.KD();e.Oo&&c.kH(c);e.rh===WaypointConstants.play?c.Ub.current=c.Gd(y.Kk,!0,c):e.rh===WaypointConstants.stop&&c.cb&&(c.Ub.current=c.Gd(y.Re,!0,c));e.Jg&&c.nn(e.Nc,c.g.fm,c);c.j.notification.notify("POI "+
(l+1),15,60,15,!0);""!==e.hg?c.j.notification.notify(e.hg,15,180,15,!1):c.j.notification.clear(!1,!0);e.zn&&(c.ec=e.ec);e.Im&&(c.jb=e.jb);e.Xf&&(c.lc=Math.sqrt((e.Hc-y.Si)/(c.Ma-y.Si)));e.xf&&(c.tb=e.step);if(e.Xf||e.xf)c.dg.current=c.hk([c.Rl(),1],!0,c);e.Dt&&(c.g.counter>e.nc&&c.kH(c),c.g.counter<e.nc&&(c.Un=!0,c.fz=e.nc,c.ez=!1));e.yl&&(c.g.qc=e.zd);e.ux&&(this.Zi=e.tn)};h.prototype.Di=function(c,l,e){var v=l/c.g.Bc;e&&(l=1<=l?Math.round(l):1/Math.round(1/l),v=l/c.g.Bc);c.Ld||(c.xn=c.g.width/2-
c.g.Ca,c.yn=c.g.height/2-c.g.va,c.Yo=c.g.zoom,c.un=c.g.angle,c.wn=c.g.Na,c.sl=c.xn,c.fo=c.yn,c.ho=v,c.Nr=c.un,c.Np=c.wn,c.Dh=0)};h.prototype.ZB=function(c){c.dg.current=c.hk([1,1],!0,c)};h.prototype.yy=function(c){c.JD(c)};h.prototype.$z=function(c){c.kC(c)};h.prototype.sp=function(c){c.Gb&&c.Xv(c);-1!==c.Ve&&c.At(c,!0,!0)};h.prototype.nr=function(c){c.Nl||c.Ol||c.Pl||c.Ql||c.Vk?(c.Nl=!1,c.Ol=!1,c.Pl=!1,c.Ql=!1,c.Vk=!1):c.Kc.current=[!1]};h.prototype.Zt=function(c){c.Pl=!0};h.prototype.eu=function(c){c.Nl=
!0};h.prototype.zu=function(c){c.Ql=!0};h.prototype.mu=function(c){c.Ol=!0};h.prototype.su=function(c){c.mG(c)};h.prototype.Rz=function(c){c.mt(c,!1)};h.prototype.Kz=function(c){c.mt(c,!0)};h.prototype.KA=function(c){c.xC(c);c.j.notification.notify("Saved",15,120,15,!0)};h.prototype.qu=function(c){c.LF(c)};h.prototype.hA=function(c){c.AE(c)};h.prototype.zC=function(c){c.Vk=!0};h.prototype.ze=function(c,l,e){e&&(l[0]?(this.nn(y.Ht[c],1,this),this.Kc.current[0]&&(this.Kc.current=this.hp([!1],!0,this))):
(this.Kc.current[0]&&(this.Kc.current=this.hp([!1],!0,this)),l[0]=!0));return l};h.prototype.gE=function(c,l,e){return e.ze(0,c,l)};h.prototype.Ux=function(c,l,e){return e.ze(1,c,l)};h.prototype.ky=function(c,l,e){return e.ze(2,c,l)};h.prototype.my=function(c,l,e){return e.ze(3,c,l)};h.prototype.ny=function(c,l,e){return e.ze(4,c,l)};h.prototype.oy=function(c,l,e){return e.ze(5,c,l)};h.prototype.py=function(c,l,e){return e.ze(6,c,l)};h.prototype.qy=function(c,l,e){return e.ze(7,c,l)};h.prototype.ry=
function(c,l,e){return e.ze(8,c,l)};h.prototype.sy=function(c,l,e){return e.ze(9,c,l)};h.prototype.Wx=function(c,l,e){return e.ze(10,c,l)};h.prototype.Xx=function(c,l,e){return e.ze(11,c,l)};h.prototype.Yx=function(c,l,e){return e.ze(12,c,l)};h.prototype.Zx=function(c,l,e){return e.ze(13,c,l)};h.prototype.by=function(c,l,e){return e.ze(14,c,l)};h.prototype.cy=function(c,l,e){return e.ze(15,c,l)};h.prototype.dy=function(c,l,e){return e.ze(16,c,l)};h.prototype.hy=function(c,l,e){return e.ze(17,c,l)};
h.prototype.iy=function(c,l,e){return e.ze(18,c,l)};h.prototype.jy=function(c,l,e){return e.ze(19,c,l)};h.prototype.ly=function(c,l,e){return e.ze(20,c,l)};h.prototype.iA=function(c){c.Wi=!1};h.prototype.ku=function(c){c.sd=!1;c.vm.current=c.TD([c.sd],!0,c)};h.prototype.gu=function(c){c.Ed.length?(c.Ed=[],c.pc=0,c.FC(c.pd.current)):k()};h.prototype.cH=function(c){--c.kh;0>c.kh&&(c.kh=c.X.yc.length-1);c.EC(c,c.kh)};h.prototype.nG=function(c){c.kh+=1;c.kh>=c.X.yc.length&&(c.kh=0);c.EC(c,c.kh)};h.prototype.tu=
function(c){c.gd+=1;c.gd>=C.Se.length&&(c.gd=0);c.li(C.Se[c.gd].pattern,!1)};h.prototype.Mu=function(c){--c.gd;0>c.gd&&(c.gd=C.Se.length-1);c.li(C.Se[c.gd].pattern,!1)};h.prototype.jB=function(c){c.VC();c.ha&&(c.ha=0);c.Kc.current[0]=!1;c.j.ig=!0};h.prototype.ZA=function(c){c.wt=!0};h.prototype.xy=function(c){c.zh(y.ri,c)};h.prototype.zJ=function(c,l){var e=0;if((c.g.ta||c.g.V)&&l)for(;e<c.Db.length;)1<c.Db[e]&&(c.Db[e]&=1),e+=1;else for(;e<c.Db.length;)c.Db[e]=0,e+=1};h.prototype.EE=function(c){var l=
c.Ob,e=l.l,v=l.u,A=l.s;l=l.v;var B=c.g.M,D=B.l,E=B.u,G=B.s;B=B.v;var F=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1);var I=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),L=0;if(!c.Oa&&c.ub){if(e>v){var K=v;v=e;e=K}A>l&&(K=l,l=A,A=K);e+=F;v+=F;A+=I;l+=I;for(K=G;K<=B;K+=1)for(G=D;G<=E;G+=1)K>=A&&K<=l&&G>=e&&G<=v||(F=c.g.getState(G,K,!1),0!==F&&(L|=c.ed(G,K,0)));c.g.ta&&L&&this.g.Lf();c.g.Hg=!0;c.g.nh();c.nb("clear cells outside selection")}};h.prototype.AJ=function(c,l){var e=c.Ob,v=e.l,A=e.u,B=e.s;e=e.v;var D=(c.g.width>>
1)-(c.kb>>1)+(c.Pb<<1),E=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);if(!c.Oa&&c.ub){if(v>A){var G=A;A=v;v=G}B>e&&(G=e,e=B,B=G);if((c.g.ta||c.g.V)&&l){for(G=B;G<=e;G+=1)for(B=v;B<=A;B+=1){var F=c.g.getState(B+D,G+E,!1);1<F&&c.ed(B+D,G+E,F&1)}c.g.ta&&this.g.Lf()}else for(G=B;G<=e;G+=1)for(B=v;B<=A;B+=1)F=c.g.getState(B+D,G+E,!1),0!==F&&c.ed(B+D,G+E,0);c.g.Hg=!0;c.g.nh();c.Rh=!1;(c.g.ta||c.g.V)&&l?c.g.ta?c.nb("clear History cells in selection"):c.nb("clear Super cells in selection"):c.nb("clear cells in selection")}};
h.prototype.Fz=function(c,l){c.Oa||(c.od?c.zJ(c,l):c.AJ(c,l))};h.prototype.Xt=function(c){c.Fz(c,!1)};h.prototype.vp=function(c){c.EE(c)};h.prototype.Vt=function(c){c.Fz(c,!0)};h.prototype.zH=function(c){var l=c.Ob,e=c.g.M,v=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),A=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);0<c.g.ga?(c.g.Hg=!0,c.g.nh(),c.g.V||c.g.fa||!(c.g.L||c.g.pa&&2===c.g.i||2<c.g.i)?(l.l=e.l-v,l.s=e.s-A,l.u=e.u-v,l.v=e.v-A):(c.g.RK(l),l.l-=v,l.u-=v,l.s-=A,l.v-=A),c.ub=!0,c.Rh=!1,e=l.u<l.l?l.l-l.u+1:l.u-
l.l+1,l=l.v<l.s?l.s-l.v+1:l.v-l.s+1,c.nb("select all ("+e+" x "+l+")")):(c.j.notification.notify("Empty Pattern",15,120,15,!1),c.ub&&c.bx(c))};h.prototype.fH=function(c,l,e){c.Oa||(!c.El&&c.Xh&&(l?c.wr(c,!0):c.Oa?c.wr(c,!0):e?c.Wu(c,!0):c.Wu(c,!1)),c.wz(c,c.Qg,!1,!1))};h.prototype.UE=function(c){c.fH(c,!1,!1)};h.prototype.wz=function(c,l,e,v){var A=c.Ob,B=A.l,D=A.u,E=A.s;A=A.v;var G,F=0,I=c.g.i,L=2<I&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V),K=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),J=(c.g.height>>
1)-(c.qb>>1)+(c.Qb<<1),M=0;if(c.ub){if(B>D){var H=D;D=B;B=H}E>A&&(H=A,A=E,E=H);var U=D-B+1;var qa=A-E+1;var ka=c.g.A.R(Uint8,U*qa,"View.pasteBuffer"+l);H=0;for(G=E;G<=A;G+=1)for(E=B;E<=D;E+=1){var O=c.g.getState(E+K,G+J,!1);0<O&&L&&(O=I-O);ka[H]=O;0<O&&(F+=1);M|=c.ed(E+K,G+J,0);H+=1}c.g.ta&&M&&this.g.Lf();c.$f[l]={buffer:ka,width:U,height:qa,count:F};c.Db=ka;c.Kf=U;c.Jf=qa;c.Yu();c.g.Hg=!0;c.g.nh();c.qr=!0;c.Md=!1;c.Rh=!0;v||(e?c.nb("advance outside"):c.nb("cut"))}};h.prototype.eH=function(c,l,e){0!==
c.ha?(Help.iz=!0,Help.Vn="",Help.xv(c),c.gm(c,Help.Vn,!1),Help.iz=!1,Help.Vn=""):(c.El||!c.Xh&&c.ub||(l?c.wr(c,!0):c.Oa?c.wr(c,!0):e?c.Wu(c,!0):c.Wu(c,!1)),c.ub&&(c.OJ(c,c.Qg),c.xx||(c.xx=!0,c.j.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};h.prototype.bu=function(c){c.eH(c,!1,!1)};h.prototype.TJ=function(c){var l=c.Ob,e=l.l,v=l.s,A=l.u,B=l.v,D,E,G=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),F=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),I=!0;l=[];if(c.ub){if(e>A){var L=e;e=A;A=
L}v>B&&(L=v,v=B,B=L);L=A-e+1;if(L!==B-v+1)c.j.notification.notify("Weighted needs a square selection",15,180,15,!0),I=!1;else if(0===(L&1))c.j.notification.notify("Weighted size must be odd",15,180,15,!0),I=!1;else if(3>L||99<L)c.j.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),I=!1;if(I){I="";var K=0;for(E=v;E<=B;E+=1)for(D=e;D<=A;D+=1)v=c.g.getState(D+G,E+F,!1),l[l.length]=v,v>K&&(K=v);if(7>=K)for(e=0;e<l.length;e+=1)v=l[e],I+=c.C.Qv[v];else for(e=0;e<l.length;e+=1)v=l[e],
I+=c.C.Qv[v>>4],I+=c.C.Qv[v&15];c.g.T?I+="H":c.g.P&&(I+="L");c.gm(c,I,!1);c.j.notification.notify("Weighted R"+(L-1>>1)+" copied to clipboard",15,180,15,!0)}}else c.j.notification.notify("Weighted needs a selection",15,180,15,!0)};h.prototype.JJ=function(c){var l=c.Ob,e=l.l,v=l.s,A=l.u;l=l.v;var B=0,D,E=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),G=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);var F=!0;if(c.ub){if(e>A){var I=e;e=A;A=I}v>l&&(I=v,v=l,l=I);I=A-e+1;if(I!==l-v+1)c.j.notification.notify("CoordCA needs a square selection",
15,180,15,!0),F=!1;else if(0===(I&1))c.j.notification.notify("CoordCA size must be odd",15,180,15,!0),F=!1;else if(3>I||99<I)c.j.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),F=!1;if(F){var L="";var K=v+(l-v+1>>1);F=e+(A-e+1>>1);var J=3;for(D=v;D<=l;D+=1)for(v=e;v<=A;v+=1)if(D!==K||v!==F){var M=c.g.getState(v+E,D+G,!1);0<M&&(B|=1<<J);--J;0>J&&(L+=c.C.Qv[B],J=3,B=0)}c.g.T?L+="H":c.g.P&&(L+="L");c.gm(c,L,!1);c.j.notification.notify("CoordCA R"+(I-1>>1)+" copied to clipboard",
15,180,15,!0)}}else c.j.notification.notify("CoordCA needs a selection",15,180,15,!0)};h.prototype.MJ=function(c){2<c.g.i?c.TJ(c):c.JJ(c)};h.prototype.OJ=function(c,l){var e=c.Ob,v=e.l,A=e.s,B=e.u;e=e.v;var D,E=0,G=c.g.i,F=2<G&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V),I=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),L=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);if(c.ub){if(v>B){var K=v;v=B;B=K}A>e&&(K=A,A=e,e=K);var J=B-v+1;var M=e-A+1;var H=c.g.A.R(Uint8,J*M,"View.pasteBuffer"+l);K=0;for(D=A;D<=e;D+=1)for(A=v;A<=
B;A+=1){var U=c.g.getState(A+I,D+L,!1);0<U&&F&&(U=G-U);H[K]=U;0<U&&(E+=1);K+=1}c.$f[l]={buffer:H,width:J,height:M,count:E};c.Db=H;c.Kf=J;c.Jf=M;c.Yu();c.qr=!0;c.Md=!1;c.Rh=!0}};h.prototype.Ou=function(c){c.od=!1;c.j.notification.clear(!0,!1);c.Md&&c.JD(c);c.Md=!1};h.prototype.EK=function(c,l){var e=this.cd,v=this.Xh;l?c.ub?(c.wz(c,c.Qg,!0,!1),c.g.we(!0,c.de,c.Ac,c.Gb,c),c.g.re(),c.nb(""),this.cd=y.Aw,c.Lw(c,!0,!0),this.cd=e):c.j.notification.notify("Advance Outside needs a selection",15,180,15,!0):
c.Md?(c.cF(c),c.Md||c.j.notification.notify("Advance Selection all cells died",15,180,15,!0)):c.ub?(c.Rh||(this.Xh=!1,c.UE(c),this.Xh=v),c.qr&&(c.cF(c),c.Md||c.j.notification.notify("Advance Selection no live cells",15,180,15,!0))):c.j.notification.notify("Advance Selection needs a selection",15,180,15,!0)};h.prototype.cF=function(c){var l,e,v,A=c.Kf,B=c.Jf,D=c.Db,E=c.Ob,G=c.g.M,F=c.g.ae,I=c.Op,L=c.g.zd,K=c.g.uh,J=c.g.S,M=c.g.nl,H=c.g.Yd,U=c.g.ac,qa=c.g.Ja,ka=c.g.ja,O=c.g.ra,ca=c.g.La,Q=c.g.Da,W=
c.g.width,ia=c.g.height,ha=c.g.hb,X=c.g.Yb,ea=c.g.Cf,da=c.g.pr,ra=c.g.wd,na=c.g.wc,T=c.g.ya,R=c.g.ua,V=c.g.Ab,ja=c.g.Cb,ma=c.g.counter,aa=new BoundingBox(G.l,G.s,G.u,G.v),N=new BoundingBox(F.l,F.s,F.u,F.v),P=c.g.wf,oa=c.g.aj,Y=c.g.bk,S=c.g.Ig,pa=c.g.ic,ya=c.g.$c,wa=c.g.Eo,va=c.g.Lk,la=null,Z=null;c.g.pa&&(la=c.g.za.Lb,Z=c.g.za.Ru,c.g.za.resize(1024,1024));c.g.fJ();var fa=Math.round((c.g.width-c.kb)/2);var ba=Math.round((c.g.height-c.qb)/2);for(v=l=0;v<B;v+=1)for(e=0;e<A;e+=1){var ta=D[l];0<ta&&c.g.Zj(e+
fa,v+ba,ta,!0);l+=1}c.g.we(!1,!0,!0,c.Gb,c);c.g.re();if(c.g.Y){c.Kf=G.u-G.l+1;c.Jf=G.v-G.s+1;c.Db=c.g.A.R(Uint8,c.Kf*c.Jf,"View.pasteBuffer");l=0;for(v=G.s;v<=G.v;v+=1)for(e=G.l;e<=G.u;e+=1)ta=c.g.getState(e,v,!1),0<ta&&2<c.g.i&&!c.g.L&&!c.g.fa&&(ta=c.g.i-ta),c.Db[l]=ta,l+=1;c.Md?(I.l+=G.l-fa,I.s+=G.s-ba,I.u=I.l+c.Kf-1,I.v=I.s+c.Jf-1):(I.l=E.l<E.u?E.l+G.l-fa:E.u+G.l-fa,I.s=E.s<E.v?E.s+G.s-ba:E.v+G.s-ba,I.u=I.l+c.Kf-1,I.v=I.s+c.Jf-1);c.Md=!0}else c.Md=!1;c.g.zd=L;c.g.uh=K;c.g.S=J;c.g.nl=M;c.g.Yd=H;
c.g.ac=U;c.g.Ja=qa;c.g.ja=ka;c.g.ra=O;c.g.La=ca;c.g.Da=Q;c.g.width=W;c.g.height=ia;c.g.hb=ha;c.g.Yb=X;c.g.M.l=aa.l;c.g.Cf=ea;c.g.pr=da;c.g.wd=ra;c.g.wc=na;c.g.ya=T;c.g.ua=R;c.g.Ab=V;c.g.Cb=ja;c.g.counter=ma;c.g.wf=P;c.g.aj=oa;c.g.bk=Y;c.g.Ig=S;c.g.ic=pa;c.g.$c=ya;c.g.Eo=wa;c.g.Lk=va;G.l=aa.l;G.s=aa.s;G.u=aa.u;G.v=aa.v;F.l=N.l;F.s=N.s;F.u=N.u;F.v=N.v;c.g.pa&&(c.g.za.Lb=la,c.g.za.Ru=Z)};h.prototype.MB=function(c,l,e,v){var A=c.Kf,B=c.Jf,D=c.Db;var E=c.fi;var G=c.g.width;var F=c.g.height;var I=0;switch(c.Zg+
.5|0){case y.MG:l-=A>>1;break;case y.NG:l-=A-1;break;case y.SG:e-=B>>1;break;case y.LG:l-=A>>1;e-=B>>1;break;case y.KG:l-=A-1;e-=B>>1;break;case y.QG:e-=B-1;break;case y.OG:l-=A>>1;e-=B-1;break;case y.PG:l-=A-1,e-=B-1}E.l=l;E.s=e;E.u=l+A;E.v=e+B;for(c.Qu(c,E);G!==c.g.width;)l+=G>>1,G<<=1;for(;F!==c.g.height;)e+=F>>1,F<<=1;switch(c.cd){case y.Us:for(F=E=0;F<B;F+=1)for(G=0;G<A;G+=1){var L=D[E];0<L&&(I|=c.ed(l+G,e+F,L));E+=1}break;case y.Aw:for(F=E=0;F<B;F+=1)for(G=0;G<A;G+=1)L=D[E],I|=c.ed(l+G,e+F,
L),E+=1;break;case y.EB:for(F=E=0;F<B;F+=1)for(G=0;G<A;G+=1){L=D[E];var K=this.g.getState(l+G,e+F,!1);I|=c.ed(l+G,e+F,K^L);E+=1}break;case y.sB:for(F=E=0;F<B;F+=1)for(G=0;G<A;G+=1)L=D[E],K=this.g.getState(l+G,e+F,!1),I|=c.ed(l+G,e+F,K&L),E+=1}c.g.ta&&I&&this.g.Lf();c.od=!1;c.Md=!1;c.j.notification.clear(!0,!1);v&&c.nb("paste")};h.prototype.Ym=function(c,l,e){var v=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),A=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),B=c.Ob,D=B.l,E=B.s,G=B.u,F=B.v;var I=0;var L=c.g.width-1;var K=
0;var J=c.g.height-1,M=0;if(!c.Oa&&c.ub){if(D>G){var H=G;G=D;D=H}E>F&&(H=F,F=E,E=H);H=G-D+1;var U=F-E+1;-1!==c.g.xa&&(0!==c.g.Aa?(I=Math.round((c.g.width-c.g.Aa)/2)-1,L=I+c.g.Aa-1+2):(I=0,L=c.g.width-1),0!==c.g.wa?(K=Math.round((c.g.height-c.g.wa)/2)-1,J=K+c.g.wa-1+2):(K=0,J=c.g.height-1));if(D+v+l>I&&G+v+l<L&&E+A+e>K&&F+A+e<J){c.wz(c,c.Qg,!1,!0);v+=l;A+=e;I=0;G=c.$f[c.Qg].buffer;for(K=0;K<U;K+=1)for(L=0;L<H;L+=1)F=G[I],M|=c.ed(D+L+v,E+K+A,F),I+=1;c.g.ta&&M&&this.g.Lf();B.l+=l;B.u+=l;B.s+=e;B.v+=
e;c.nb("nudge "+(0===l?-1===e?"up":"down":-1===l?"left":"right"))}else c.j.notification.notify("No room to nudge selection",15,180,15,!0)}};h.prototype.Lw=function(c,l,e){var v=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),A=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),B=c.Ob,D=c.Op,E=B.l,G=B.s,F=B.u;B=B.v;var I;if(!c.Oa&&null!==c.$f[c.Qg])if(l)if(c.ub||c.Md)if(c.Md&&(E=D.l,G=D.s,F=D.u,B=D.v),E>F&&(l=E,E=F,F=l),G>B&&(l=G,G=B,B=l),F=F-E+1,B=B-G+1,c.Kf>F||c.Jf>B)c.j.notification.notify("Paste does not fit in selection",
15,180,15,!0);else{l=c.Zg;c.Zg=y.vq;for(I=G;I<=G+B-c.Jf;I+=c.Jf)for(D=E;D<=E+F-c.Kf;D+=c.Kf)c.MB(c,D+v,I+A,!1);c.Zg=l;c.sk&&c.lr(c);e?c.nb("advance outside"):c.nb("paste to selection");c.Md=!1}else c.j.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else c.JB(c,c.Qg),c.Md=!1,c.j.notification.notify("Now click to paste",15,180,15,!0)};h.prototype.xM=function(c){c.Md?(c.Lw(c,!0,!1),c.Rh=!1):c.MB(c,c.xk,c.yk,!0)};h.prototype.TG=function(c){c.Lw(c,!1,!1)};h.prototype.JB=function(c,
l){0<=l&&l<c.$f.length&&(null!==c.$f[l]?(c.od=!0,c.Md=!1,c.Db=c.$f[l].buffer,c.Kf=c.$f[l].width,c.Jf=c.$f[l].height,c.pd.current!==y.Om&&(c.pd.current=c.bl(y.Om,!0,c))):(c.od=!1,c.Md=!1,c.j.notification.notify("Clipboard empty",15,180,15,!0)))};h.prototype.$M=function(c,l){var e,v=0,A=c.g.i;-1===A&&(A=2);for(e=0;e<c.Db.length;e+=1)100*c.$b.random()<=c.Tj?2===A||l?v=c.ff:v=(c.$b.random()*(A-1)|0)+1:v=0,c.Db[e]=v};h.prototype.aN=function(c,l){var e=c.Ob,v=e.l,A=e.u,B=e.s;e=e.v;var D=0,E=(c.g.width>>
1)-(c.kb>>1)+(c.Pb<<1),G=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),F=c.g.i,I=0;if(c.ub){if(v>A){var L=A;A=v;v=L}B>e&&(L=e,e=B,B=L);-1===F&&(F=2);for(L=B;L<=e;L+=1)for(B=v;B<=A;B+=1)100*c.$b.random()<=c.Tj?2===F||l?D=c.ff:D=(c.$b.random()*(F-1)|0)+1:D=0,I=c.ed(B+E,L+G,D);c.g.ta&&I&&this.g.Lf();c.g.Hg=!0;c.g.nh();c.nb("random "+c.Tj+"%")}};h.prototype.Ow=function(c,l){c.Oa||(c.od?c.$M(c,l):c.aN(c,l))};h.prototype.qv=function(c){c.Oa||c.Ow(c,!1)};h.prototype.Pu=function(c){c.Ow(c,!0)};h.prototype.IK=function(c){var l=
c.Kf,e=c.Jf,v=l>>1,A,B,D;for(B=D=0;B<e;B+=1){if(c.g.L)for(A=0;A<v;A+=1){var E=c.Db[D+A];var G=c.Db[D+l-A-1];c.Db[D+A]=G&5|(G&2)<<2|(G&8)>>2;c.Db[D+l-A-1]=E&5|(E&2)<<2|(E&8)>>2}else for(A=0;A<v;A+=1)E=c.Db[D+A],c.Db[D+A]=c.Db[D+l-A-1],c.Db[D+l-A-1]=E;D+=l}};h.prototype.JK=function(c){var l=c.Ob,e=l.l,v=l.u,A=l.s;l=l.v;var B,D=c.g.i,E=2<D&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V),G=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),F=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),I=0;if(c.ub){if(e>v){var L=v;v=e;e=L}A>l&&
(L=l,l=A,A=L);L=c.g.A.R(Uint8,v-e+1,"View.flipRow");for(B=A;B<=l;B+=1){for(A=e;A<=v;A+=1){var K=c.g.getState(A+G,B+F,!1);E&&0<K&&(K=D-K);L[A-e]=K}if(c.g.L)for(A=e;A<=v;A+=1)K=L[v-A],c.ed(A+G,B+F,K&5|(K&2)<<2|(K&8)>>2);else for(A=e;A<=v;A+=1)I|=c.ed(A+G,B+F,L[v-A])}c.g.ta&&I&&this.g.Lf();c.g.Hg=!0;c.g.nh();c.nb("flip horizontally")}};h.prototype.KK=function(c){var l=c.Kf,e=c.Jf,v=e>>1,A,B,D;for(A=D=0;A<l;A+=1){if(c.g.L)for(B=0;B<v;B+=1){var E=c.Db[D+B*l];var G=c.Db[D+(e-B-1)*l];c.Db[D+B*l]=G&10|(G&
1)<<2|(G&4)>>2;c.Db[D+(e-B-1)*l]=E&10|(E&1)<<2|(E&4)>>2}else for(B=0;B<v;B+=1)E=c.Db[D+B*l],c.Db[D+B*l]=c.Db[D+(e-B-1)*l],c.Db[D+(e-B-1)*l]=E;D+=1}};h.prototype.LK=function(c){var l=c.Ob,e=l.l,v=l.u,A=l.s;l=l.v;var B,D=c.g.i,E=2<D&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V),G=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),F=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),I=0;if(c.ub){if(e>v){var L=v;v=e;e=L}A>l&&(L=l,l=A,A=L);for(L=c.g.A.R(Uint8,l-A+1,"View.flipColumn");e<=v;e+=1){for(B=A;B<=l;B+=1){var K=c.g.getState(e+
G,B+F,!1);E&&0<K&&(K=D-K);L[B-A]=K}if(c.g.L)for(B=A;B<=l;B+=1)K=L[l-B],c.ed(e+G,B+F,K&10|(K&1)<<2|(K&4)>>2);else for(B=A;B<=l;B+=1)I|=c.ed(e+G,B+F,L[l-B])}c.g.ta&&I&&this.g.Lf();c.g.Hg=!0;c.g.nh();c.nb("flip vertically")}};h.prototype.sH=function(c,l){var e=c.Kf,v=c.Jf,A,B,D=c.g.A.R(Uint8,e*v,"View.pasteBuffer");for(B=0;B<v;B+=1)for(A=0;A<e;A+=1)if(c.g.L)if(l){var E=c.Db[B*e+A];D[A*v+(v-B-1)]=E<<1&15|(E&8)>>3}else E=c.Db[B*e+A],D[(e-A-1)*v+B]=E>>1&15|(E&1)<<3;else l?D[A*v+(v-B-1)]=c.Db[B*e+A]:D[(e-
A-1)*v+B]=c.Db[B*e+A];c.Db=D;c.Kf=v;c.Jf=e};h.prototype.tH=function(c,l,e){var v=c.Ob,A=v.l,B=v.u,D=v.s,E=v.v,G=0,F=c.g.i;var I=!0;var L=2<F&&!(this.g.Ga||this.g.L||this.g.fa||this.g.V),K=c.g.la?-1:0;var J=Math.round((c.g.width-c.g.Aa)/2)+K;var M=Math.round((c.g.height-c.g.wa)/2)+K;var H=J+c.g.Aa-1;var U=M+c.g.wa-1;K=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1);var qa=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1),ka=0;if(c.ub){if(A>B){var O=B;B=A;A=O}D>E&&(O=E,E=D,D=O);O=A+(B-A+1-1>>1);var ca=D+(E-D+1-1>>1);var Q=O+
D-ca;var W=ca+A-O;var ia=O+E-ca;ca=ca+B-O;var ha=v.l;var X=v.s;var ea=v.u;var da=v.v;v.l=Q;v.s=W;v.u=ia;v.v=ca;v.l>v.u&&(O=v.l,v.l=v.u,v.u=O);v.s>v.v&&(O=v.s,v.s=v.v,v.v=O);if(-1!==c.g.xa){if(v.l+K<J||v.u+K>H||v.s+qa<M||v.v+qa>U)c.j.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),I=!1}else c.CE(c)?(c.j.notification.notify("Rotation does not fit on grid",15,180,15,!0),I=!1):(K=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),qa=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1));if(I){l?(I=W,U=ia,H=1,
M=-1):(I=ca,U=Q,H=-1,M=1);J=c.g.A.R(Int16,3*(B-A+1)*(E-D+1),"View.rotateCells");for(ia=D;ia<=E;ia+=1){O=I;for(Q=A;Q<=B;Q+=1)W=c.g.getState(Q+K,ia+qa,!1),L?0<W&&(W=F-W):c.g.L&&(W=l?W<<1&15|(W&8)>>3:W>>1&15|(W&1)<<3),J[G]=U,J[G+1]=O,J[G+2]=W,G+=3,O+=H;U+=M}K=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1);qa=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<1);for(G=0;G<J.length;)Q=J[G],ia=J[G+1],W=J[G+2],ka|=c.ed(Q+K,ia+qa,W),G+=3;for(Q=A;Q<v.l;Q+=1)for(ia=D;ia<=E;ia+=1)ka|=c.ed(Q+K,ia+qa,0);for(Q=v.u+1;Q<=B;Q+=1)for(ia=D;ia<=
E;ia+=1)ka|=c.ed(Q+K,ia+qa,0);for(ia=D;ia<v.s;ia+=1)for(Q=A;Q<=B;Q+=1)ka|=c.ed(Q+K,ia+qa,0);for(ia=v.v+1;ia<=E;ia+=1)for(Q=A;Q<=B;Q+=1)ka|=c.ed(Q+K,ia+qa,0);c.g.ta&&ka&&this.g.Lf();c.g.Hg=!0;c.g.nh();c.nb(e)}else v.l=ha,v.s=X,v.u=ea,v.v=da}};h.prototype.tp=function(c){c.bx(c)};h.prototype.wu=function(c){c.Oa||c.Ym(c,-1,0)};h.prototype.xu=function(c){c.Oa||c.Ym(c,1,0)};h.prototype.yu=function(c){c.Oa||c.Ym(c,0,-1)};h.prototype.uu=function(c){c.Oa||c.Ym(c,0,1)};h.prototype.iF=function(c){c.Oa||(c.od?
c.IK(c):c.JK(c))};h.prototype.jF=function(c){c.Oa||(c.od?c.KK(c):c.LK(c))};h.prototype.rH=function(c){c.Oa||(c.od?c.sH(c,!0):c.tH(c,!0,"rotate clockwise"))};h.prototype.qH=function(c){c.Oa||(c.od?c.sH(c,!1):c.tH(c,!1,"rotate counter-clockwise"))};h.prototype.GL=function(c){var l=0,e=c.g.i;if(!c.Oa)for(-1===e&&(e=2);l<c.Db.length;){var v=c.Db[l];c.Db[l]=e-v-1;l+=1}};h.prototype.HL=function(c){var l=c.Ob,e=l.l,v=l.u,A=l.s;l=l.v;var B=(c.g.width>>1)-(c.kb>>1)+(c.Pb<<1),D=(c.g.height>>1)-(c.qb>>1)+(c.Qb<<
1),E=c.g.i,G=0;if(!c.Oa&&c.ub){if(e>v){var F=v;v=e;e=F}A>l&&(F=l,l=A,A=F);-1===E&&(E=2);for(F=A;F<=l;F+=1)for(A=e;A<=v;A+=1){var I=c.g.getState(A+B,F+D,!1);!c.g.L&&!c.g.fa&&2<E&&0<I&&(I=E-I);G|=c.ed(A+B,F+D,E-I-1)}c.g.ta&&G&&this.g.Lf();c.g.Hg=!0;c.g.nh();c.nb("invert cells in selection")}};h.prototype.EF=function(c){c.Oa||(c.od?c.GL(c):c.HL(c))};h.prototype.Ez=function(c){c.g.ud=c.g.ud?!1:!0;c.mx(c.cb);var l=c.g.td;c.g.ud&&(l=!l);c.j.notification.notify("Playback "+(l?"Reverse":"Forward"),15,40,
15,!0)};h.prototype.hu=function(c){c.Sg(!0,!0,y.Dk);c.cb||(c.ug=!0)};h.prototype.IE=function(c){var l=c.Jb;c.g.fa&&(l=RuleTreeCache.SK(l),""===l&&(l=c.C.hx));c.gm(c,l,!1)};h.prototype.AF=function(c){c.g.Zy=!1;c.g.Yy=0;0===c.g.ga?(c.j.notification.notify("Empty Pattern",15,120,15,!1),c.Gb=!1,c.Wi=!1):(c.Gb?(c.Gb=!1,c.j.notification.notify("Identify Cancelled",15,120,15,!1)):(c.Gb=!0,c.Wi=!1,c.lo?c.j.notification.notify("Identifying (fast)...",15,216E3,15,!1):c.j.notification.notify("Identifying...",
15,216E3,15,!1)),c.nb(""));c.g.ns(c.Gb);c.ha=0;c.nr(c);c.nr(c);c.j.ig=!0;c.o.locked=!1};h.prototype.tA=function(c){c.So=1};h.prototype.qA=function(c){c.So=2};h.prototype.mF=function(c){var l=window.prompt("Enter generation",c.g.counter),e=0,v=!1;c.vn=-1;null!==l&&("b"==l.substr(l.length-1).toLowerCase()&&(l=l.substr(0,l.length-1),v=!0),"+"==l.charAt(0)?e=c.g.counter+Number(l.substr(1)):e="-"==l.charAt(0)?c.g.counter-Number(l.substr(1)):Number(l),0<=e&&e<=y.cG?e!==c.g.counter&&(c.Ve=e,c.Kc.current=
c.hp([!1],!0,c),c.j.ig=!0,c.wl&&c.j.notification.notify("Going to generation "+e,15,1E4,15,!1),c.j.notification.clear(!0,!1),e<c.g.counter&&(c.g.pt(c,!1),c.nx(c.g.counter)),v&&(c.vn=performance.now()),c.OC=e-c.g.counter):c.j.notification.notify("Invalid generation specified",15,240,15,!0))};h.prototype.Xv=function(c){c.lo=!1;c.AF(c)};h.prototype.dF=function(c){c.lo=!0;c.AF(c)};h.prototype.ar=function(c,l,e){l&&(e.g.qc=c[0]);return[e.g.qc]};h.prototype.QH=function(c,l,e){l&&(e.vh=c[0]);return[e.vh]};
h.prototype.SH=function(c,l,e){l&&(e.Aq=c[0]);return[e.Aq]};h.prototype.mD=function(c,l,e){l&&(e.Qj=c[0]);return[e.Qj]};h.prototype.pD=function(c,l,e){l&&(e.dm=c[0]);return[e.dm]};h.prototype.hp=function(c,l,e){l&&(0!==e.ha&&c[0]&&(e.ha=0,e.Ek.current=e.gp([e.ha],!0,e)),c[0]||e.nr(e));return c};h.prototype.nD=function(c,l,e){l&&(e.Wo=c[0]);return[e.Wo]};h.prototype.oD=function(c,l,e){l&&(e.qn=c[0]);return[e.qn]};h.prototype.al=function(c,l,e){l&&(e.Nk=c[0],e.Nk?e.dt?e.j.notification.notify("Replace: Now click on a cell",
15,180,15,!0):e.j.notification.notify("Pick: Now click on a cell",15,180,15,!0):(e.rA||e.j.notification.clear(!0,!1),e.rA=!1,e.dt=!1));return[e.Nk]};h.prototype.PH=function(c,l,e){l&&(e.Ec=c[0],e.Ec&&!e.cb&&e.Sg(!0,!0,y.Dk));return[e.Ec]};h.prototype.QD=function(c,l,e){l&&-1!==e.jb&&(e.Xc=!c[0],e.Wc?(e.Ye=e.Xc,e.j.notification.notify("Loop and Waypoints "+(e.Xc?"Off":"On"),15,40,15,!0)):e.Be?(e.Mf=e.Xc,e.j.notification.notify("Loop and Track "+(e.Xc?"Off":"On"),15,40,15,!0),e.lE(e.Mf)):e.j.notification.notify("Loop "+
(e.Xc?"Off":"On"),15,40,15,!0));return[e.Xc]};h.prototype.ID=function(c,l,e){l&&e.Bf&&(e.Og=!c[0]);return[e.Og]};h.prototype.cE=function(c,l,e){l&&-1!==e.ec&&(e.yf=!c[0]);return[e.yf]};h.prototype.qD=function(c,l,e){l&&(e.Be?(e.Mf=!c[0],e.lE(e.Mf),-1!==e.jb?(e.Xc=e.Mf,e.j.notification.notify("Loop and Track "+(e.Xc?"Off":"On"),15,40,15,!0)):e.j.notification.notify("Track "+(e.Mf?"Off":"On"),15,40,15,!0)):e.Wc&&(e.Ye=!c[0],e.Ye?(e.j.notification.clear(!1,!1),e.Bs=""):(e.ug=!0,e.elapsedTime=e.X.GK(e.g.counter)),
-1!==e.jb?(e.Xc=e.Ye,e.j.notification.notify("Loop and Waypoints "+(e.Xc?"Off":"On"),15,40,15,!0)):e.j.notification.notify("Waypoints "+(e.Ye?"Off":"On"),15,40,15,!0)));return e.Be?[e.Mf]:[e.Ye]};h.prototype.gp=function(c,l,e){l&&(e.ha=c[0],e.ha?e.Kc.current[0]&&(e.Kc.current=e.hp([!1],!0,e)):(e.zh(y.ri,e),e.ha=0));e.FC(e.pd.current);return[e.ha]};h.prototype.rI=function(c,l,e){l&&(e.xl=c[0]);return[e.xl]};h.prototype.oI=function(c,l,e){l&&(e.g.xh=c[0],e.g.mA());return[e.g.xh]};h.prototype.Nx=function(c,
l,e){l&&(e.Ch=c[0],e.Ch&&(e.g.Y?0<e.g.counter&&-1===e.g.i&&!e.g.la&&!e.g.L&&(--e.g.counter,e.g.we(!0,e.de,e.Ac,e.Gb,e),e.hi()):(e.g.ga=0,e.g.Vb=0,e.g.Fb=0)));e.j.cg(!0);return[e.Ch]};h.prototype.jx=function(c,l){1<c.pc&&(c.pc-=l,1>c.pc&&(c.pc=1))};h.prototype.ix=function(c,l){c.pc<c.Ed.length-c.qd+1&&(c.pc+=l,c.pc>c.Ed.length-c.qd+1&&(c.pc=c.Ed.length-c.qd+1))};h.prototype.lx=function(c,l){1<c.ha&&(c.ha-=l,1>c.ha&&(c.ha=1))};h.prototype.kx=function(c,l){c.ha<c.pq-c.qd&&(c.ha+=l,c.ha>c.pq-c.qd&&(c.ha=
c.pq-c.qd))};h.prototype.PM=function(c){for(var l=c.ma.length-1,e=!1;0<=l&&!e;)c.ha<=c.ma[l][0]?--l:e=!0;e&&(c.ha=c.ma[l][0])};h.prototype.pM=function(c){for(var l=0,e=!1;l<c.ma.length&&!e;)c.ha>=c.ma[l][0]?l+=1:e=!0;e&&(c.ha=c.ma[l][0])};h.prototype.MN=function(c){for(;this.g.counter<c-1;)this.g.Y?(this.g.we(!1,!1,this.Ac,this.Gb,this),0===this.g.Y&&2<this.g.i||this.g.re(),0===this.g.Y&&2>=this.g.i&&(this.g.Y=1,this.g.we(!1,!1,this.Ac,this.Gb,this),--this.g.counter)):(this.g.counter+=1,this.g.re()),
this.hi();this.g.counter<c&&(this.g.Y?(this.g.we(this.Ch,!1,this.Ac,this.Gb,this),0===this.g.Y&&2<this.g.i||this.g.re(),0===this.g.Y&&2>=this.g.i&&(this.g.Y=1,this.g.we(!1,!1,this.Ac,this.Gb,this),--this.g.counter)):(this.g.counter+=1,this.g.re()),this.hi());this.elapsedTime=this.Ka[c];this.Mb=c*this.Ma};h.prototype.qt=function(c){var l=this.K+(0<this.g.i?this.g.i:0);!this.de&&this.j.YB&&(this.j.YB=!1,0>c&&(c=0),this.elapsedTime=this.Ka[c],this.Mb=c*this.Ma,-1!==this.og&&c>this.og+l?this.g.counter=
c:this.g.qt(c,this.Ch,this.Ac,this),this.X.rO(this.elapsedTime),this.ug=!0,c!==this.g.counter&&(this.Un=!0,this.fz=c,this.g.pt(this,!1),this.j.notification.notify("Computing previous generations",15,1E4,15,!0),this.ez=!0))};h.prototype.eA=function(c){c.style.width="2em";c.style.height="2em";c.style.padding=0;c.style.jP="none";c.style.outline="none";c.style.boxShadow="none";c.style.background="transparent";c.style.position="fixed";c.style.left="-100px";c.style.top="0px"};h.prototype.gm=function(c,
l,e){var v="textarea";c.yH=document.documentElement.scrollTop||document.body.scrollTop;c.Ft=l;c.Zk=0;c.bp=l.length;if(e){var A=performance.now()-c.Xu;A<y.RJ&&c.bp<y.PJ?e=!1:c.$v||(v="div")}c.ap=document.createElement("div");c.ap.contentEditable=!0;c.eA(c.ap);c.Tl=document.createElement(v);c.eA(c.Tl);c.Tl.contentEditable=!0;c.ap.appendChild(c.Tl);document.body.appendChild(c.ap);e?(c.hz=y.SJ,c.j.notification.notify("Copying...",15,1E4,15,!0),c.tr=!0,c.Vu=!1,c.o.locked=!0):(c.Tl.innerHTML=l,c.GE(c,e))};
h.prototype.GE=function(c,l){var e=null;if(c.$v)var v=c.Tl;else l?v=c.ap:(v=c.Tl,v.contentEditable="true",v.readOnly="false");v.focus();var A=document.createRange();A.selectNodeContents(v);try{l?document.execCommand("selectAll"):(e=window.getSelection(),e.removeAllRanges(),e.addRange(A),v.setSelectionRange(0,999999)),document.execCommand("copy")}catch(B){}document.body.removeChild(c.ap);c.Ft="";c.j.Ck||c.Jc.canvas.focus();c.j.notification.notify("Copied to external clipboard",15,180,15,!0);l&&(c.tr=
!1,c.o.locked=!1);document.documentElement.scrollTop=document.body.scrollTop=c.yH;c.Xu=-1};h.prototype.qj=function(c){var l=ColourManager.Pg,e=Object.keys(l),v=c.red,A=c.green;c=c.blue;for(var B="",D=!1,E=null,G=0;G<e.length&&!D;)E=l[e[G]],E[1]===v&&E[2]===A&&E[3]===c?(D=!0,G=e.length):G+=1;D?B=E[0]:B=v+" "+A+" "+c;return B};h.prototype.xp=function(c,l){return c.red===l.red&&c.green===l.green&&c.blue===l.blue};h.prototype.HE=function(c,l){var e="#C "+Keywords.To+" ",v=String(-(c.g.width/2-c.g.Ca-
c.g.dc|0)),A=String(-(c.g.height/2-c.g.va-c.g.Zb|0)),B=c.g.zoom,D=c.g.angle|0,E=c.g.Na|0,G=c.g.mb[c.g.Uf];0!==c.g.counter&&(e+=Keywords.Ct+" "+c.g.counter+" ");e+=Keywords.Pf+" "+v+" "+Keywords.Rf+" "+A+" ";e+=Keywords.me+" "+(B===(B|0)?String(B):String(B.toFixed(2)))+" ";e+=Keywords.bm+" "+D+" ";0!==c.g.Na&&(e+=Keywords.Dn+" "+E+" ");e+=Keywords.Rq+"\n";if(l){e+="#C "+Keywords.To+" ";if(c.$h){if(2<c.g.i){if(e+=Keywords.Sa+" "+Keywords.zx+" "+c.qj(G.gj),e+=" "+Keywords.Sa+" "+Keywords.yx+" "+c.qj(G.Mg),
c.xp(G.Rc.ca,G.gj)||(e+=" "+Keywords.Sa+" "+Keywords.Bx+" "+c.qj(G.Rc.ca)),c.xp(G.Rc.aa,G.Rc.ca)||(e+=" "+Keywords.Sa+" "+Keywords.Ax+" "+c.qj(G.Rc.aa)),G.qm||(e+=" "+Keywords.Sa+" "+Keywords.bD+" "+c.qj(G.cc.ca)),G.qm||!c.xp(G.cc.aa,G.cc.ca))e+=" "+Keywords.Sa+" "+Keywords.aD+" "+c.qj(G.cc.aa)}else e+=Keywords.Sa+" "+Keywords.zx+" "+c.qj(G.rb),e+=" "+Keywords.Sa+" "+Keywords.yx+" "+c.qj(G.Bb.aa),c.xp(G.Bb.aa,G.Bb.ca)||(e+=" "+Keywords.Sa+" "+Keywords.$C+" "+c.qj(G.Bb.ca)),c.xp(G.ob.ca,G.rb)||(e+=
" "+Keywords.Sa+" "+Keywords.Bx+" "+c.qj(G.ob.ca)),c.xp(G.ob.aa,G.ob.ca)||(e+=" "+Keywords.Sa+" "+Keywords.Ax+" "+c.qj(G.ob.aa));e+=" "+Keywords.Rq+"\n#C "+Keywords.To+" "}e+=Keywords.Ul+" "+G.name+" ";c.K!==c.Es&&(e+=Keywords.bs+" "+c.K+" ");c.Ai!==c.UF&&(e+=Keywords.hr+" "+c.Ai+" ");e+=Keywords.er+" "+c.J+" ";e+=Keywords.Up+" "+c.H+" ";e+=Keywords.Rq+"\n"}c.gm(c,e,!1)};h.prototype.xC=function(c){c.element.innerHTML=c.g.Iu(c,c.g,!0,c.g.i,c.g.i,[],!1);c.element.value=c.element.innerHTML};h.prototype.VL=
function(c,l){if(c.gk.locked||c.Qw||window.confirm("Open clipboard?"))c.element.innerHTML=l,c.element.value=c.element.innerHTML,d(c.element)};h.prototype.wr=function(c,l){c.Xu=performance.now();z.Ya?c.gm(c,C.Se[c.gd].pattern,l):c.gm(c,b(c.element),l)};h.prototype.Wu=function(c,l){c.Xu=performance.now();c.gm(c,c.g.Iu(c,c.g,l,c.g.i,c.g.i,[]),!1)};h.prototype.ou=function(c,l){var e=l.charCode||l.keyCode;if(c.Un?KeyProcessor.VM(c,e,l):c.Gb?KeyProcessor.WM(c,e,l):c.tr?KeyProcessor.TM(c,e,l):-1!==c.Ve?
KeyProcessor.UM(c,e,l):KeyProcessor.SM(c,e,l))c.j.cg(!0),l.preventDefault()};h.prototype.OO=function(){this.g.ta||this.g.V?(this.ab.setPosition(Menu.fb,-85,-130),this.g.ta?(this.U.setPosition(Menu.fb,-130,-130),this.U.F="random fill [Shift 5]",this.Qk.setPosition(Menu.fb,-235,-130)):(this.U.setPosition(Menu.fb,-175,-130),this.U.F="random multi-state fill [Shift 5]",this.Dc.setPosition(Menu.fb,-130,-130),this.Qk.setPosition(Menu.fb,-280,-130))):2>=this.g.i?(this.ab.setPosition(Menu.fb,-40,-130),this.U.setPosition(Menu.fb,
-85,-130),this.U.F="random fill [Shift 5]",this.Qk.setPosition(Menu.fb,-190,-130)):(this.ab.setPosition(Menu.fb,-40,-130),this.g.L?(this.U.setPosition(Menu.fb,-85,-130),this.U.F="random multi-state fill [Shift 5]",this.Qk.setPosition(Menu.fb,-190,-130)):(this.U.setPosition(Menu.fb,-130,-130),this.U.F="random multi-state fill [Shift 5]",this.Dc.setPosition(Menu.fb,-85,-130),this.Qk.setPosition(Menu.fb,-235,-130)))};h.prototype.QO=function(){if(this.H<y.Lm)this.cf.setPosition(Menu.bd,10,50),this.gf.setPosition(Menu.qa,
0,50),this.Ke.setPosition(Menu.xc,-160,50),this.hf.setPosition(Menu.bd,10,100),this.Je.setPosition(Menu.qa,0,100),this.De.setPosition(Menu.xc,-160,100),0<this.X.Ao()?(this.hd.setPosition(Menu.bd,10,150),this.Ie.setPosition(Menu.xc,-160,150)):this.hd.setPosition(Menu.qa,0,150);else{var c=0<this.X.Ao()?-175:-150;this.cf.setPosition(Menu.pb,0,c);this.gf.setPosition(Menu.pb,0,c+50);this.Ke.setPosition(Menu.pb,0,c+100);this.hf.setPosition(Menu.pb,0,c+150);this.Je.setPosition(Menu.pb,0,c+200);this.De.setPosition(Menu.pb,
0,c+250);this.hd.setPosition(Menu.pb,0,c+300);this.Ie.setPosition(Menu.pb,0,c+350)}};h.prototype.DH=function(){var c="white",l="black",e="rgb(0,240,32)",v="blue",A="grey",B="white";var D=this.sa[y.Fr];-1!==D?(c="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")",this.Z.Yw=!0,this.Z.jC=this.g.be?-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16:D>>16<<24|(D>>8&255)<<16|(D&255)<<8|255):(this.Z.Yw=!0,D=16777215,this.Z.jC=this.g.be?-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16:D>>16<<24|(D>>8&255)<<16|(D&255)<<8|255);
D=this.sa[y.Dr];-1!==D?l="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")":D=0;this.Hx=D;D=this.sa[y.Gr];-1!==D&&(e="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")");D=this.sa[y.Ir];-1!==D&&(v="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")");D=this.sa[y.Hr];-1!==D?A="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")":D=8421504;this.Z.tF=this.g.be?-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16:D>>16<<24|(D>>8&255)<<16|(D&255)<<8|255;D=this.sa[y.Er];-1!==D&&(B="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")");this.j.ut(c,
l,e,v,A,B)};h.prototype.du=function(){var c,l=0;this.wo=10;this.o=this.j.zI(this.zy,this.XD,this);this.o.bo=this.Ay;this.o.$D=this.Ry;this.es=this.o.Ia(Menu.qa,0,52,480,48,"Banner");this.es.eb("32px Arial");this.jf=this.o.Ia(Menu.qa,-160,100,160,32,"Type");this.lj=this.o.Ia(Menu.qa,-160,140,160,32,"Cells");this.kj=this.o.Ia(Menu.qa,-160,180,160,32,"Bounding Box");this.mj=this.o.Ia(Menu.qa,-160,240,160,32,"Direction");this.jk=this.o.Ia(Menu.qa,-160,280,160,32,"Period");this.kk=this.o.Ia(Menu.qa,-160,
320,160,32,"Slope");this.lk=this.o.Ia(Menu.qa,-160,360,160,32,"Speed");this.nj=this.o.Ia(Menu.qa,-160,400,160,32,"Heat");this.nk=this.o.Ia(Menu.qa,-160,440,160,32,"Volatility");this.oj=this.o.Ia(Menu.qa,-160,460,160,32,"Mod");this.jj=this.o.Ia(Menu.qa,-160,500,160,32,"Active Cells");this.mk=this.o.Ia(Menu.qa,-160,540,160,32,"Temperature");this.ks=this.o.Ia(Menu.qa,80,100,320,32,"");this.fs=this.o.Ia(Menu.qa,80,140,320,32,"");this.Tv=this.o.Ia(Menu.qa,80,180,320,32,"");this.Uv=this.o.Ia(Menu.qa,80,
220,320,32,"");this.Wv=this.o.Ia(Menu.qa,80,260,320,32,"");this.Yv=this.o.Ia(Menu.qa,80,300,320,32,"");this.hs=this.o.Ia(Menu.qa,80,340,320,32,"");this.gs=this.o.Ia(Menu.qa,80,380,320,32,"");this.jA=this.o.Ia(Menu.qa,80,420,320,32,"");this.Vv=this.o.Ia(Menu.qa,80,460,320,32,"");this.ds=this.o.Ia(Menu.qa,80,500,320,32,"");this.js=this.o.Ia(Menu.qa,80,540,320,32,"");this.qf=this.o.Ia(Menu.bd,0,40,16,20,"X");this.qf.eb(y.Ah);this.qf.Gt=Menu.pf;this.rf=this.o.Ia(Menu.bd,70,40,16,20,"Y");this.rf.eb(y.Ah);
this.rf.Gt=Menu.pf;this.nf=this.o.Ia(Menu.bd,140,40,16,20,"A");this.nf.eb(y.Ah);this.nf.Gt=Menu.pf;this.hc=this.o.Ia(Menu.bd,16,40,54,20,"");this.hc.eb(y.Ah);this.hc.textAlign=Menu.right;this.hc.F="camera X position";this.uc=this.o.Ia(Menu.bd,86,40,54,20,"");this.uc.eb(y.Ah);this.uc.textAlign=Menu.right;this.uc.F="camera Y position";this.gb=this.o.Ia(Menu.bd,156,40,40,20,"");this.gb.eb(y.Ah);this.gb.textAlign=Menu.right;this.gb.F="camera angle";this.pk=this.o.Ia(Menu.bd,196,40,4,20,"");this.Kh=this.o.Ia(Menu.xc,
-280,40,20,20,"E");this.Kh.eb(y.Ah);this.Mh=this.o.Ia(Menu.xc,-210,40,20,20,"S");this.Mh.eb(y.Ah);this.Nh=this.o.Ia(Menu.xc,-140,40,20,20,"W");this.Nh.eb(y.Ah);this.Lh=this.o.Ia(Menu.xc,-70,40,20,20,"N");this.Lh.eb(y.Ah);this.zb=this.o.Ia(Menu.xc,-260,40,50,20,"");this.zb.eb(y.Ah);this.zb.textAlign=Menu.right;this.zb.F="bounding box east edge velocity";this.Kb=this.o.Ia(Menu.xc,-190,40,50,20,"");this.Kb.eb(y.Ah);this.Kb.textAlign=Menu.right;this.Kb.F="bounding box south edge velocity";this.fc=this.o.Ia(Menu.xc,
-120,40,50,20,"");this.fc.eb(y.Ah);this.fc.textAlign=Menu.right;this.fc.F="bounding box west edge velocity";this.Eb=this.o.Ia(Menu.xc,-50,40,50,20,"");this.Eb.eb(y.Ah);this.Eb.textAlign=Menu.right;this.Eb.F="bounding box north edge velocity";this.Nn=this.o.sb(this.ID,Menu.xc,-210,0,38,20,["START"],[!1],Menu.Ya);this.Nn.eb(y.rx);this.Nn.F=["autostart [Alt O]"];this.An=this.o.sb(this.cE,Menu.xc,-210,20,38,20,["STOP"],[!1],Menu.Ya);this.An.eb(y.rx);this.An.F=["stop [Alt P]"];this.Hh=this.o.sb(this.qD,
Menu.xc,-172,0,38,20,["WAYPT"],[!1],Menu.Ya);this.Hh.eb(y.rx);this.Hh.F=["toggle waypoint mode [W]"];this.Jm=this.o.sb(this.QD,Menu.xc,-172,20,38,20,["LOOP"],[!1],Menu.Ya);this.Jm.eb(y.rx);this.Jm.F=["toggle loop mode [Shift P]"];this.pd=this.o.sb(this.bl,Menu.bd,90,0,120,40,["","",""],y.Nm,Menu.rn);this.pd.icon=[this.Z.icon("draw"),this.Z.icon("select"),this.Z.icon("pan")];this.pd.F=["draw [F2]","select [F4]","pan [F5]"];this.na=this.o.sb(this.By,Menu.xc,-80,100,80,60,["1","2"],0,Menu.rn);this.na.orientation=
Menu.vertical;this.na.F=["",""];this.na.eb("14px Arial");this.Ek=this.o.sb(this.gp,Menu.xc,-40,0,40,40,["Help"],[!1],Menu.Ya);this.Ek.F=["toggle help display [H]"];this.Ek.eb("16px Arial");this.yi=this.o.Ea(this.xy,Menu.xc,-40,50,40,["^"]);this.yi.F="show help topics [Backspace]";this.Ph=this.o.Ea(this.ZA,Menu.xc,-40,100,40,["<"]);this.Ph.F="show help sections";this.cf=this.o.Ea(this.pu,Menu.qa,0,50,150,["Keys"]);this.cf.F="show keyboard shortcuts [K]";this.gf=this.o.Ea(this.NA,Menu.qa,0,100,150,
["Scripts"]);this.gf.F="show script commands [S]";this.Ke=this.o.Ea(this.nu,Menu.qa,0,150,150,["Info"]);this.Ke.F="show pattern and engine information [I]";this.hf=this.o.Ea(this.XC,Menu.qa,0,200,150,["Themes"]);this.hf.F="show colour Themes [T]";this.Je=this.o.Ea(this.fr,Menu.qa,0,250,150,["Colours"]);this.Je.F="show colour names [C]";this.De=this.o.Ea(this.Lo,Menu.qa,0,300,150,["Aliases"]);this.De.F="show rule aliases [A]";this.hd=this.o.Ea(this.ru,Menu.qa,0,350,150,["Memory"]);this.hd.F="show memory usage [Y]";
this.Ie=this.o.Ea(this.Qo,Menu.qa,0,350,150,["Annotations"]);this.Ie.F="show annotations [N]";this.rj=this.o.sb(this.PH,Menu.bd,0,0,40,40,["Auto"],[!1],Menu.Ya);this.rj.icon=[this.Z.icon("autofit")];this.rj.F=["toggle autofit [Shift F]"];this.rj.eb("16px Arial");this.sm=this.o.Ea(this.hu,Menu.bd,45,0,40,"");this.sm.icon=this.Z.icon("fit");this.sm.F="fit pattern to display [F]";this.Ki=this.o.sb(this.ar,Menu.xc,-85,0,40,40,["Grid"],[!1],Menu.Ya);this.Ki.icon=[this.Z.icon("grid")];this.Ki.F=["toggle gridlines [X]"];
this.Ki.eb("16px Arial");this.zg=this.o.$I();this.zg.locked=!0;this.io=this.o.Ia(Menu.$j,0,-130,42,30,"Gen");this.io.textAlign=Menu.left;this.io.eb(y.Bh);this.io.F="generation";this.rg=this.o.Ia(Menu.$j,42,-130,98,30,"");this.rg.textAlign=Menu.right;this.rg.eb(y.Bh);this.rg.F="generation";this.Jd=this.o.Ia(Menu.$j,0,-100,70,30,"Time");this.Jd.textAlign=Menu.left;this.Jd.eb(y.Bh);this.Jd.F="elapsed time";this.eo=this.o.Ia(Menu.$j,70,-100,70,30,"");this.eo.textAlign=Menu.right;this.eo.eb(y.Bh);this.eo.F=
"elapsed time";this.ln=this.o.Ia(Menu.$j,210,-70,130,30,"");this.ln.textAlign=Menu.left;this.ln.eb(y.Bh);this.ln.F="selection size";this.ik=this.o.Ia(Menu.$j,0,-70,210,30,"");this.ik.textAlign=Menu.left;this.ik.eb(y.Bh);this.ik.F="cell state at cursor position";this.kf=this.o.sb(this.Nx,Menu.$j,0,-40,100,40,["T 0"],[this.Ch],Menu.Ya);this.kf.F=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Tg)];this.Hl=this.o.Ia(Menu.$j,0,-40,this.J-40,40,"");this.Hl.textAlign=Menu.left;this.Hl.m=
!0;this.jd=this.o.Ia(Menu.fb,-70,-130,70,30,"Alive");this.jd.textAlign=Menu.left;this.jd.eb(y.Bh);this.jd.F="current population";this.dn=this.o.Ia(Menu.fb,-140,-130,70,30,"");this.dn.textAlign=Menu.right;this.dn.eb(y.Bh);this.dn.F="alive";this.vk=this.o.Ia(Menu.fb,-70,-100,70,30,"Births");this.vk.textAlign=Menu.left;this.vk.eb(y.Bh);this.vk.F="cells born this generation";this.wk=this.o.Ia(Menu.fb,-140,-100,70,30,"");this.wk.textAlign=Menu.right;this.wk.eb(y.Bh);this.wk.F="births";this.ad=this.o.Ia(Menu.fb,
-70,-70,70,30,"Deaths");this.ad.textAlign=Menu.left;this.ad.eb(y.Bh);this.ad.F="cells died this generation";this.nm=this.o.Ia(Menu.fb,-140,-70,70,30,"");this.nm.textAlign=Menu.right;this.nm.eb(y.Bh);this.nm.F="deaths";this.kn=this.o.Ia(Menu.$j,0,-160,140,30,this.Jb);this.kn.eb(y.Bh);this.Cc=this.o.rk(this.cl,Menu.qa,0,0,y.Yt,40,0,1,.1,"Zoom ","",1);this.Cc.F="camera zoom [[ / ]]";this.ue=this.o.rk(this.St,Menu.zv,-84,0,40,292,y.iw,y.ow,1,"Layers ","",0);this.ue.F="number of layers [Q / A]";this.md=
this.o.rk(this.Xl,Menu.zv,-40,0,40,292,1,0,.1,"Depth ","",2);this.md.F="depth between layers [P / L]";this.Xe=this.o.rk(this.Ut,Menu.dE,0,0,40,292,y.lw,y.rw,0,"Tilt ","",1);this.Xe.F="camera tilt [' / /]";this.Xd=this.o.rk(this.Rt,Menu.qa,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Xd.F="camera angle [< / >]";this.eh=this.o.Ea(this.jB,Menu.fb,-40,-90,40,"");this.eh.icon=this.Z.icon("shrink");this.eh.F="shrink to thumbnail [N]";this.Qh=this.o.Ia(Menu.qa,0,100,120,40,"");this.Hj=this.o.sb(this.UD,
Menu.pb,-100,-75,180,40,["Use Rectangles"],[this.g.sc],Menu.Ya);this.Hj.F=["toggle hexagonal cells [?]"];this.Ap=this.o.sb(this.hI,Menu.pb,100,-75,180,40,["Cell Borders"],[this.g.kd],Menu.Ya);this.Ap.F=["toggle cell borders [Alt B]"];this.Ik=this.o.sb(this.nI,Menu.pb,-100,-25,180,40,["Major GridLines"],[this.g.zl],Menu.Ya);this.Ik.F=["toggle major gridlines [Shift X]"];this.Uq=this.o.sb(this.sI,Menu.pb,100,-25,180,40,["Starfield"],[this.Zi],Menu.Ya);this.Uq.F=["toggle starfield display [S]"];this.Gm=
this.o.sb(this.mI,Menu.pb,-100,25,180,40,["Annotations"],[this.Yi],Menu.Ya);this.Gm.F=["toggle annotations [Alt L]"];this.Gq=this.o.sb(this.pI,Menu.pb,100,25,180,40,["Rainbow"],[this.g.ee],Menu.Ya);this.Gq.F=["toggle rainbow mode [Alt W]"];this.yp=this.o.sb(this.fI,Menu.pb,-100,75,180,40,["Auto GridLines"],[this.Bi],Menu.Ya);this.yp.F=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];this.Kn=this.o.sb(this.eI,Menu.pb,100,75,180,40,["Alt GridLines"],[this.g.$l],Menu.Ya);
this.Kn.F=["toggle alternating gridlines [Alt D]"];this.Yp=this.o.sb(this.kI,Menu.pb,-100,-50,180,40,["AutoFit History"],[this.Ni],Menu.Ya);this.Yp.F=["toggle AutoFit History [Shift H]"];this.Cn=this.o.sb(this.pD,Menu.pb,100,-50,180,40,["Throttle"],[this.dm],Menu.Ya);this.Cn.F=["toggle playback throttling [Alt T]"];this.pn=this.o.sb(this.mD,Menu.pb,-100,0,180,40,["Perf. Warning"],[this.Qj],Menu.Ya);this.pn.F=["toggle performance warning display [Shift W]"];this.qo=this.o.sb(this.Tx,Menu.pb,100,0,
180,40,["Kill Gliders"],[this.g.wj],Menu.Ya);this.qo.F=["toggle kill escaping gliders [Ctrl L]"];this.zp=this.o.sb(this.gI,Menu.pb,0,50,180,40,["AutoHide UI"],[this.Mi],Menu.Ya);this.zp.F=["toggle hide UI on playback [Alt U]"];this.dl=this.o.Ea(this.hA,Menu.pb,-100,-125,180,"Change Rule");this.dl.F="change rule [Alt R]";this.fl=this.o.Ea(this.su,Menu.pb,100,-125,180,"New Pattern");this.fl.F="new pattern [Alt N]";this.el=this.o.Ea(this.qu,Menu.pb,-100,-75,180,"Load Pattern");this.el.F="load last saved pattern [Ctrl O]";
this.gl=this.o.Ea(this.KA,Menu.pb,100,-75,180,"Save Pattern");this.gl.F="save pattern [Ctrl S]";this.Iq=this.o.Ea(this.Rz,Menu.pb,-100,-25,180,"Rand All");this.Iq.F="randomize pattern and rule [Alt Z]";this.Oh=this.o.Ea(this.Kz,Menu.pb,100,-25,180,"Rand Pattern");this.Oh.F="randomize pattern and keep rule [Ctrl Alt Z]";this.Zp=this.o.Ea(this.Xv,Menu.pb,-100,25,180,"Identify");this.Zp.F="identify oscillator or spaceship period [F6]";this.ti=this.o.Ea(this.dF,Menu.pb,100,25,180,"Fast Identify");this.ti.F=
"quickly identify oscillator or spaceship period [Ctrl F6]";this.ll=this.o.Ea(this.tA,Menu.pb,-100,75,180,"Save Image");this.ll.F="save image [O]";this.il=this.o.Ea(this.qA,Menu.pb,100,75,180,"Save Graph");this.il.F="save population graph image [Shift O]";this.vi=this.o.Ea(this.mF,Menu.pb,100,125,180,"Go To Gen");this.vi.F="go to specified generation [Shift N]";this.pi=this.o.Ea(this.IE,Menu.pb,-100,125,180,"Copy Rule");this.pi.F="copy rule definition [Ctrl J]";this.Rp=this.o.sb(this.Jn,Menu.pb,0,
-100,180,40,["Frame Times"],[this.j.Wk],Menu.Ya);this.Rp.F=["toggle timing display [T]"];this.It=this.o.sb(this.ZD,Menu.pb,0,-50,180,40,["Timing Details"],[this.j.on],Menu.Ya);this.It.F=["toggle timing details [Shift T]"];this.$p=this.o.sb(this.lI,Menu.pb,0,0,180,40,["Display Info Bar"],[this.nd],Menu.Ya);this.$p.F=["toggle Information Bar [Shift I]"];this.Lq=this.o.sb(this.rI,Menu.pb,0,50,180,40,["Relative Gen"],[this.xl],Menu.Ya);this.Lq.F=["toggle absolute/relative generation display [Shift G]"];
this.lt=this.o.sb(this.oI,Menu.pb,0,100,180,40,["Render Quality"],[this.g.xh],Menu.Ya);this.lt.F=["toggle anti-aliased cell display [Ctrl Q]"];this.jt=this.o.Ea(this.Mu,Menu.Xo,-135,-100,120,"Prev");this.jt.F="go to previous universe [Page Up]";this.Ks=this.o.Ea(this.tu,Menu.Xo,135,-100,120,"Next");this.Ks.F="go to next universe [Page Down]";this.da=this.o.Ea(this.gu,Menu.fb,-40,-85,40,"Esc");this.da.F="close errors";this.da.eb("16px Arial");this.it=this.o.Ea(this.cH,Menu.dE,10,0,40,"<");this.it.F=
"go to previous POI [Shift J]";this.Js=this.o.Ea(this.nG,Menu.zv,-50,0,40,">");this.Js.F="go to next POI [J]";this.rq=this.o.rk(this.Mx,Menu.qa,0,45,172,40,0,1,this.Dd,"Opacity ","%",0);this.rq.F="graph opacity [7 / 9]";this.iq=this.o.sb(this.QH,Menu.xc,-85,45,40,40,[""],[!1],Menu.Ya);this.iq.icon=[this.Z.icon("lines")];this.iq.F=["toggle graph lines/points [Shift Y]"];this.xi=this.o.Ea(this.iA,Menu.xc,-40,45,40,"X");this.xi.F="close results [Esc]";this.ij=this.o.Ea(this.ku,Menu.xc,-40,45,40,"X");
this.ij.F="close graph [Y]";this.ii=this.o.sb(this.al,Menu.bd,0,45,40,40,[""],[this.Nk],Menu.Ya);this.ii.icon=[this.Z.icon("pick")];this.ii.F=["pick state [F3]"];this.Xq=this.o.sb(this.oD,Menu.bd,45,45,40,40,[""],[this.qn],Menu.Ya);this.Xq.icon=[this.Z.icon("states")];this.Xq.F=["toggle states display [Ctrl D]"];this.Zs=this.o.sb(this.SH,Menu.bd,90,45,40,40,[""],[this.Aq],Menu.Ya);this.Zs.icon=[this.Z.icon("drawpause")];this.Zs.F=["toggle pause playback while drawing [Ctrl P]"];this.Tq=this.o.sb(this.nD,
Menu.bd,135,45,40,40,[""],[this.Wo],Menu.Ya);this.Tq.icon=[this.Z.icon("smart")];this.Tq.F=["toggle smart drawing [Shift F2]"];this.Kc=this.o.sb(this.hp,Menu.fb,-40,-40,40,40,[""],[!1],Menu.Ya);this.Kc.icon=[this.Z.icon("menu")];this.Kc.F=["toggle settings menu [M]"];this.Ws=this.o.Ea(this.Zt,Menu.pb,0,-125,150,"Pattern");this.Ws.F="pattern settings";this.sj=this.o.Ea(this.nr,Menu.Xo,0,-100,120,"Back");this.sj.F="back to previous menu [Backspace]";this.Td=this.o.Ea(this.sp,Menu.Xo,0,-100,120,"Cancel");
this.Td.F="cancel operation [Esc]";this.Td.Go=!0;this.cj=this.o.Ea(this.zC,Menu.pb,0,-75,150,"Theme");this.cj.F="choose colour theme";this.vm=this.o.sb(this.TD,Menu.pb,0,-25,150,40,["Graph"],[this.sd],Menu.Ya);this.vm.F=["toggle population graph display [Y]"];this.ms=this.o.Ea(this.mu,Menu.pb,0,25,150,"Advanced");this.ms.F="advanced settings";this.Jr=this.o.Ea(this.eu,Menu.pb,0,75,150,"Display");this.Jr.F="display settings";this.Dw=this.o.Ea(this.zu,Menu.pb,0,125,150,"Playback");this.Dw.F="playback settings";
var e=-1;for(c=0;c<=this.g.tf;c+=1){var v=y.Ht[c];var A=y.AO[c];A!==e?(l=120,e=A):l+=60;this.G[c]=this.o.sb(null,Menu.qa,140*A-210,l,120,40,[this.Cx(v)],[!1],Menu.Ya);this.G[c].F=["select "+this.Cx(v)+" theme"];this.G[c].eb("20px Arial")}this.G[0].Sb=this.gE;this.G[1].Sb=this.Ux;this.G[2].Sb=this.ky;this.G[3].Sb=this.my;this.G[4].Sb=this.ny;this.G[5].Sb=this.oy;this.G[6].Sb=this.py;this.G[7].Sb=this.qy;this.G[8].Sb=this.ry;this.G[9].Sb=this.sy;this.G[10].Sb=this.Wx;this.G[11].Sb=this.Xx;this.G[12].Sb=
this.Yx;this.G[13].Sb=this.Zx;this.G[14].Sb=this.by;this.G[15].Sb=this.cy;this.G[16].Sb=this.dy;this.G[17].Sb=this.hy;this.G[18].Sb=this.iy;this.G[19].Sb=this.jy;this.G[20].Sb=this.ly;this.Km=this.o.Ia(Menu.qa,-210,60,120,40,"Default");this.Fm=this.o.Ia(Menu.qa,-70,60,120,40,"Classic");this.Rm=this.o.Ia(Menu.qa,70,60,120,40,"Program");this.Hm=this.o.Ia(Menu.qa,210,60,120,40,"Basic");this.yt=this.o.Ea(this.ZB,Menu.fb,-405,-40,40,"1x");this.yt.F="set 1x playback speed [0]";this.dg=this.o.rk(this.hk,
Menu.fb,-360,-40,105,40,0,2,1,"","",-1);this.dg.F="playback speed [+ / -]";this.Hd=this.o.Ia(Menu.fb,-284,-30,27,20,0);this.Hd.eb(y.Bh);this.Hd.m=!0;this.gk=this.o.Ea(this.yy,Menu.fb,-495,-40,40,"");this.gk.icon=this.Z.icon("undo");this.gk.F="undo [Ctrl Z]";this.Mo=this.o.Ea(this.$z,Menu.fb,-450,-40,40,"");this.Mo.icon=this.Z.icon("redo");this.Mo.F="redo [Ctrl Y]";this.Fp=this.o.sb(this.SD,Menu.xc,-130,0,40,40,["Sync"],[this.Xh],Menu.Ya);this.Fp.F=["sync cut and copy with external clipboard [Alt S]"];
this.Fp.eb("15px Arial");this.Ub=this.o.sb(this.Gd,Menu.fb,-205,-40,160,40,["","","",""],y.Re,Menu.rn);this.Ub.icon=[this.Z.icon("tostart"),this.Z.icon("stepback"),this.Z.icon("stepforward"),this.Z.icon("play")];this.Ub.F=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Pd=this.o.sb(this.YD,Menu.xc,-280,45,280,20,"0123456".split(""),this.ff,Menu.rn);this.Pd.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Pd.eb("14px Arial");this.B=this.o.sb(this.Cy,
Menu.xc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ya);this.B.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.B.pe=1;this.Gh=this.o.Ea(null,Menu.bd,175,45,5,"");this.Gh.pe=0;this.Gh.locked=!0;this.Gh.border=0;this.Fh=this.o.rk(this.ul,Menu.bd,180,45,130,40,0,1,0,"","",-1);this.Fh.F="select drawing states range";this.Gg=this.o.Ea(this.zH,Menu.bd,0,45,40,"All");this.Gg.icon=this.Z.icon("select");this.Gg.F="select all cells [Ctrl A]";this.Gg.eb("16px Arial");this.Mn=
this.o.sb(this.RD,Menu.bd,45,45,40,40,["Auto"],[this.sk],Menu.Ya);this.Mn.icon=[this.Z.icon("autoshrink")];this.Mn.F=["toggle auto shrink selection [Alt A]"];this.Mn.eb("16px Arial");this.Sd=this.o.Ea(this.LB,Menu.bd,90,45,40,"");this.Sd.icon=this.Z.icon("shrinksel");this.Sd.F="shrink selection [Shift A]";this.Cl=this.o.sb(null,Menu.bd,135,45,40,40,[""],[!1],Menu.Ya);this.Cl.icon=[this.Z.icon("selectlibrary")];this.Cl.F=["toggle clipboard library [Shift B]"];this.ur=this.o.sb(this.iI,Menu.qa,0,90,
400,40,"0123456789".split(""),this.Qg,Menu.rn);this.Yu();this.Io=this.o.sb(this.VD,Menu.xc,-160,45,160,40,["AND","CPY","OR","XOR"],y.YH[this.Xm],Menu.rn);this.Io.F=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Io.eb("16px Arial");this.Fe=this.o.Ea(this.UE,Menu.bd,180,45,40,"");this.Fe.icon=this.Z.icon("cut");this.Fe.F="cut [Ctrl X]";this.oe=this.o.Ea(this.bu,Menu.bd,225,45,40,"");this.oe.icon=this.Z.icon("copy");this.oe.F="copy [Ctrl C]";this.yg=
this.o.Ea(this.TG,Menu.bd,270,45,40,"");this.yg.icon=this.Z.icon("paste");this.yg.F="paste [Ctrl V]";this.Ud=this.o.Ea(this.tp,Menu.fb,-220,-175,40,"");this.Ud.icon=this.Z.icon("cancelsel");this.Ud.F="cancel selection [Ctrl K]";this.Hf=this.o.Ea(this.wu,Menu.fb,-175,-175,40,"");this.Hf.icon=this.Z.icon("nudgeleft");this.Hf.F="nudge left [Alt Left]";this.wg=this.o.Ea(this.xu,Menu.fb,-130,-175,40,"");this.wg.icon=this.Z.icon("nudgeright");this.wg.F="nudge right [Alt Right]";this.xg=this.o.Ea(this.yu,
Menu.fb,-85,-175,40,"");this.xg.icon=this.Z.icon("nudgeup");this.xg.F="nudge up [Alt Up]";this.Gf=this.o.Ea(this.uu,Menu.fb,-40,-175,40,"");this.Gf.icon=this.Z.icon("nudgedown");this.Gf.F="nudge down [Alt Down]";this.Ge=this.o.Ea(this.iF,Menu.fb,-265,-85,40,"");this.Ge.icon=this.Z.icon("flipx");this.Ge.F="flip horizontally [Alt X]";this.He=this.o.Ea(this.jF,Menu.fb,-220,-85,40,"");this.He.icon=this.Z.icon("flipy");this.He.F="flip vertically [Alt Y]";this.Bg=this.o.Ea(this.rH,Menu.fb,-175,-85,40,"");
this.Bg.icon=this.Z.icon("rotatecw");this.Bg.F="rotate clockwise [>]";this.Ag=this.o.Ea(this.qH,Menu.fb,-130,-85,40,"");this.Ag.icon=this.Z.icon("rotateccw");this.Ag.F="rotate counter-clockwise [<]";this.Wd=this.o.Ea(this.Xt,Menu.fb,-85,-85,40,"");this.Wd.icon=this.Z.icon("inside");this.Wd.F="clear cells in selection [Del]";this.Vd=this.o.Ea(this.vp,Menu.fb,-40,-85,40,"");this.Vd.icon=this.Z.icon("outside");this.Vd.F="clear cells outside selection [Shift Del]";this.em=this.o.Ea(this.Vt,Menu.fb,-40,
-130,40,"R");this.em.icon=this.Z.icon("select");this.em.F="clear History cells [Ctrl Del]";this.em.eb("16px Arial");this.ab=this.o.Ea(this.EF,Menu.fb,-85,-130,40,"");this.ab.icon=this.Z.icon("invertselection");this.ab.F="invert cells in selection [Ctrl I]";this.U=this.o.Ea(this.qv,Menu.fb,-130,-130,40,"");this.U.icon=this.Z.icon("random");this.U.F="random fill [Shift 5]";this.Dc=this.o.Ea(this.Pu,Menu.fb,-175,-130,40,"2");this.Dc.icon=this.Z.icon("random");this.Dc.F="random 2-state fill [Ctrl Shift 5]";
this.Qk=this.o.rk(this.qI,Menu.fb,-275,-130,100,40,1,100,this.Tj,"","%",0);this.Qk.F="random fill density";this.Jo=this.o.rk(this.WD,Menu.xc,-265,45,100,40,0,y.qG-1,this.Zg,"","",-1);this.Jo.F="paste location [Shift L]";this.Jo.eb("16px Arial");this.Mp=this.o.Ea(this.Ez,Menu.fb,-250,-40,40,"");this.Mp.icon=this.Z.icon("uturn");this.Mp.F="reverse playback direction [U]";this.Cl.Bu([this.ur]);this.Kc.Bu([this.Qh,this.ue,this.md,this.Xd,this.Xe,this.sj,this.cj,this.Ws,this.ms,this.Jr,this.Dw,this.Cn,
this.pn,this.eh,this.da,this.zp,this.yp,this.Kn,this.Hj,this.Ap,this.Gm,this.qo,this.vm,this.Rp,this.It,this.$p,this.Uq,this.Yp,this.Ik,this.jt,this.Ks]);this.kf.Bu([this.jd,this.dn,this.vk,this.wk,this.ad,this.nm,this.io,this.rg,this.Jd,this.eo,this.kn]);this.Ek.Bu([this.na,this.yi,this.Ph])};h.prototype.rp=function(c){var l=this,e=0,v=0;this.Sc=c;this.Sc.getContext&&(e=this.Sc.width,v=this.Sc.height,e!==this.Ri&&z.Cs&&(e=this.Ri),e<y.Tc&&(e=y.Tc),v<y.Mj&&(v=y.Mj),e&=-8,this.Sc.width!==e&&(this.Sc.width=
e),this.Sc.height!==v&&(this.Sc.height=v),this.Jc=this.Sc.getContext("2d",{alpha:!1}),this.Jc.globalAlpha=1,this.Jc.fillStyle="black",this.Jc.imageSmoothingEnabled=!1,this.Jc.imageSmoothingQuality="low",this.Jc.fillRect(0,0,this.Sc.width,this.Sc.height),this.Jc.textAlign="left",this.Jc.textBaseline="middle",this.J=this.Sc.width,this.H=this.Sc.height,this.g=new Life(this.Jc,this.J,this.H,512,256,this.C),this.g.CL(this.Jc,this.J,this.H),this.Ka=this.g.A.R(Float32,y.pG,"View.elapsedTimes"),this.Sl=new Stars(y.yw,
this.g.A),this.cu(this.Jc),this.j=new MenuManager(this.Sc,this.Jc,"24px Arial",this.Z,this,this.ju),this.j.Wk=!1,this.g.VJ(),this.du(),registerEvent(this.Sc,"wheel",function(A){l.Wy(l,A)},!1),this.j.notification.enabled=!0,this.j.VI(this.o),registerEvent(this.Sc,"keydown",function(A){l.ou(l,A)},!1))};h.prototype.Cx=function(c){var l=this.g.mb,e="";c|=0;c<l.length&&(e=l[c].name);return e};h.prototype.yO=function(c){var l=!1,e=this.g.mb,v=0;for(c=c.toLowerCase();v<e.length-1&&!l;)e[v].name.toLowerCase()===
c?l=!0:v+=1;l||(v=-1);return v};h.prototype.UO=function(c){var l=this.X.Rr();l.jg||(l.x=this.g.width/2-this.g.Ca);l.Qf||(l.y=this.g.height/2-this.g.va);l.le||(l.zoom=this.g.zoom);l.Th||(l.angle=this.g.angle);l.ni||(l.Na=this.g.Na);l.Qi||(l.$=this.g.$);l.Hi||(l.depth=this.g.Pe);l.Xf||(l.Hc=this.lc);l.xf||(l.step=this.tb);l.Jg||(l.Nc=this.g.Uf);this.X.OM(c,this)};h.prototype.HK=function(c){var l=c,e=this.Jc,v=c.length;e.font=(18*this.o.Jh|0)+"px "+y.PD;var A=e.measureText(c).width;if(500<A){--v;for(A=
e.measureText(c.substr(0,v)+"...").width;500<A;)--v,A=e.measureText(c.substr(0,v)+"...").width;l=l.substr(0,v)+"..."}return l};h.prototype.dN=function(c,l){ScriptParser.wM(this,c,l)};h.prototype.yN=function(){this.px=!1;this.g.ee=!1;this.Ve=-1;this.ls=this.Bv=!1;this.g.ia=1<<y.eK;this.Yn=this.cD=-1;this.Xw=this.eC=this.El=this.eB=this.ww=this.Zc=!1;this.g.dc=0;this.g.Zb=0;this.g.Bc=1;this.nd=this.Ju=this.Ec=this.CF=!1;this.ol=this.Zh=this.kc=null;this.Aj=y.Aj;this.g.Dj=this.g.qL;this.g.Cj=this.g.pL;
this.g.Bj=this.g.oL;this.g.Ej=this.g.rL;this.g.Fj=this.g.sL;this.Og=this.Bf=this.Mv=!1;this.ec=-1;this.yf=!1;this.jb=-1;this.Ch=this.Mf=this.op=this.Be=this.kp=this.Wc=this.Ye=this.Xc=!1;this.K=this.Es=2<this.g.i?63<=256-this.g.i?63:256-this.g.i:63;this.Ai=this.UF;this.se=!1;this.g.wj=!1;this.g.Ms=0};h.prototype.UC=function(){this.ek?(m(this.element),this.j.hasFocus=!1):(this.J=this.cn,this.H=this.fD,this.Ec?(this.wb=!1,this.Sg(!0,!1,y.Dk)):this.g.zoom=this.hn,this.Cc&&(this.Cc.current=this.cl([this.g.zoom,
this.g.zoom],!1,this)),this.ha=this.Sm,this.wb=!1,this.j.wb=!1,this.o.m=!1,this.j.Ck||this.j.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};h.prototype.ju=function(c){c.wb?(c.UC(),c.hD&&!c.cb&&(c.Ub.current=c.Gd(y.Kk,!0,c))):c.Zc&&(c.El||c.wr(c,!1));c.Vu=!1};h.prototype.resize=function(){this.Hw&&(C.Iw.oC=this.qk-this.J,this.qk=this.J,this.Hw=!1);this.Sc.width=this.J;this.Sc.height=this.H;this.Jc.textBaseline="middle";this.g.nH(this.J,this.H)};h.prototype.VC=function(){this.cn=
this.J;this.fD=this.H;this.hn=this.g.zoom;this.Sm=this.ha;this.J=this.J/this.We|0;this.H=this.H/this.We|0;this.g.zoom=this.g.zoom/this.We;this.J&=-8;this.o.m=!0;this.j.wb=!0;this.j.We=this.We;this.j.hasFocus=!1;this.wb=!0;this.resize()};h.prototype.ND=function(){var c=this.g.i,l;c>this.Wg&&(c=this.Wg);this.Pd.lower=[];this.Pd.F=[];this.Pd.Xi(40*c);this.B.lower=[];this.B.F=[];this.B.current=[];this.B.Xi(40*c);this.B.pe=1;for(l=0;l<c;l+=1){var e=l+this.eg;this.Pd.lower[l]=String(e);var v=this.Sp(e);
10>e&&(v+=" [Ctrl "+e+"]");this.Pd.F[l]=v;this.B.lower[l]="";this.B.F[l]=v;this.B.current[l]=!1}e=this.ff;0<e&&(this.g.Ga||this.g.L||this.g.fa||this.g.V||(e=this.g.i-e));this.Pd.current=e-this.eg};h.prototype.GH=function(){var c=this.g.i,l=this.o.Ze;this.ff=1;this.eg=0;this.Xq.current=[this.oD([!0],!0,this)];this.Wg=7+((this.J/l-y.Tc)/(40*l)|0);this.Wg>c&&(this.Wg=c);this.g.ta?(this.Pd.lower="0123456".split(""),this.Pd.Xi(280),this.Pd.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),
this.Pd.current=this.ff,this.B.lower="      ".split(" "),this.B.Xi(280),this.B.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.B.pe=1,this.B.current=[!1,!1,!1,!1,!1,!1,!1]):2>=c?(this.Pd.lower=["0","1"],this.Pd.Xi(80),this.Pd.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Pd.current=this.ff,this.B.lower=["",""],this.B.Xi(80),this.B.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.B.pe=1,this.B.current=[!1,!1]):(this.ff=this.g.Ga||
this.g.L||this.g.fa||this.g.V?1:c-1,this.ND(),this.Pd.Xi(40*this.Wg),this.B.Xi(40*this.Wg),this.Fh.current=this.ul([0,0],!0,this));this.Pd.setPosition(Menu.xc,-this.Pd.Zw,45);this.B.setPosition(Menu.xc,-this.B.Zw,65)};h.prototype.WN=function(c){var l=this.g.tf;-1===c&&(this.$h?c=l:c=this.g.ta?10:2<this.g.i&&!this.g.L&&!this.g.fa?11:this.g.la?17:this.g.L||this.g.fa?18:1);this.dv&&c!==l&&this.g.mb[c].wm!==this.g.lf&&(this.g.mb[l].set(this.g.mb[c]),c=l,this.g.mb[l].wm=this.g.lf,this.$h=!0);this.nn(c,
1,this)};h.prototype.xH=function(){var c=window.innerWidth,l=window.innerHeight,e=this.J,v=this.H+80;e*=this.devicePixelRatio;v*=this.devicePixelRatio;var A=this.devicePixelRatio;this.Of=1;if(e>c||v>l)if(A=e/c,v/l>A&&(A=v/l),e/=A,v=this.H*this.devicePixelRatio/A,A=e/this.J,v/this.H<A&&(A=v/this.H),e<y.Tc||v<y.Mj)A=e/y.Tc,v/y.Mj<A&&(A=v/y.Mj),e/=A,v/=A,this.Of=A,A=1;this.J=e&-8;this.H=v|0;this.j.Of=this.Of;C.Iw.Of=this.Of;this.o.AN(A);this.Z.cO(A);this.Yr=18*A|0;this.Vp=this.Yr+"px "+y.hF;this.zm=
this.Yr+"px "+y.PD;this.J!==this.qk&&(this.Hw=!0)};h.prototype.FE=function(){this.vl=!1;this.Tg=0;this.wh=!1;this.fn=this.en=0;this.Xs=this.xq=this.an=this.rd=this.Jb="";this.Ys=this.bn=this.qb=this.kb=0;this.Pj="(none)";this.g.Ga=!1;this.g.la=!1;this.g.L=!1;this.g.ta=!1;this.g.V=!1;this.g.T=!1;this.g.Vg=this.C.Xp;this.g.P=!1;this.g.je=this.C.Hn;this.g.Oe=!1;this.g.ke=-1;this.g.Bw=!1;this.g.i=-1;this.g.xa=-1;this.Fa=this.Bd=this.g.pa=!1;this.g.fa=!1;this.g.Tk=null;this.g.Uk=null;this.g.ye=null;this.g.ge=
null;this.g.ah=[];this.g.he=null;this.g.$g=0;this.g.Wj=0;this.g.Jl=0};h.prototype.li=function(c,l){this.lc=60;this.tb=1;this.dg.current=this.hk([this.Rl(),1],!0,this);this.Um=this.J;this.Tm=this.H;c=this.C.create("",c,this.g.A,this.Ep,this.au,[l],this);this.JF=this.C.D;this.C.hw?(c=this.C.create("","x=1,y=1,rule=Life\n!",this.g.A,this.Ep,this.Ep,[l],this),this.Ep(c,[l],this),this.J=this.Um,this.H=this.Tm,this.j.notification.clear(!1,!0),this.j.notification.notify("Loading rule...",15,1E4,15,!0)):
this.Ep(c,[l],this)};h.prototype.au=function(c,l,e){e.C.D=e.JF;e.C.Fa=!0;e.Ep(null,l,e)};h.prototype.Ep=function(c,l,e){var v=!1;var A=l[0];var B;e.$v=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;e.g.xh=!1;e.g.Ak=null;e.rm=!1;e.og=-1;e.Cn.current=e.pD([!0],!0,e);e.Vk=!1;e.Ol=!1;e.Nl=!1;e.Ql=!1;e.Pl=!1;e.g.Uf=-1;e.j.mH();e.Xh=!0;e.sk=!1;e.ub=!1;e.Bk=!1;e.$f=[];for(l=0;10>l;l+=1)e.$f[l]=null;e.Qg=0;e.qr=!1;e.Db=null;e.od=!1;e.Kf=0;e.Jf=0;e.Md=!1;e.Rh=!1;e.Io.current=e.VD(2,!0,e);e.Bq=!1;e.Rk=
[];e.Jq=[];e.Ed=[];e.Uj=[];e.qg=[];e.Wn=[];e.ld=0;e.zc=0;e.Bo=0;e.g.Hg=!1;e.Yg=[];e.cd=y.Us;e.uq=0;e.Ss=-1;e.tq=[];e.Ts=0;e.Ij=!1;e.mB=0;e.nB=0;e.Jk=0;e.aw=!1;e.Wm=y.tk;e.Zm=-y.tk;e.Vm=y.tk;e.$m=-y.tk;e.j.notification.clear(!0,!0);e.j.notification.clear(!1,!0);e.g.td=!1;e.g.ud=!1;e.bE=!1;if(c){e.vl=e.C.vl;e.Tg=e.C.Tz;e.wh=e.C.wh;e.en=e.C.Jw;e.fn=e.C.Kw;e.Yk=e.C.Yk;e.Xk=e.C.Xk;e.kb=c.width;e.qb=c.height;e.xq=c.name;e.Xs=c.uG;e.Pj=c.Pj;""===e.Pj&&(e.Pj="(none)");e.bn=c.Cd;e.Ys=c.Os;e.Jb=c.I;e.rd=c.mg;
e.an=c.Bp;e.g.Fc=c.Fc;e.g.Lg=c.Lg;e.Fa=e.C.Fa;e.g.ta=c.Ic;e.g.V=c.V;e.em.F="clear History cells [Ctrl Del]";e.g.V&&(e.em.F="clear Super cells [Ctrl Del]");e.g.i=c.i;!e.Fa&&2<c.Cd&&(e.g.i=c.Cd);e.g.he=null;e.g.ah=null;e.mi=[];-1!==c.Ue?(e.g.Fg=c.Fg,e.g.Ue=c.Ue,e.g.i=c.Ue,e.g.ki=c.ki,e.g.Ll=c.Ll,e.g.Tk=c.Tk,e.g.Uk=c.Uk,e.g.ye=c.ye,e.g.ge=c.ge,e.mi=c.Nq,e.g.fa=!0):e.g.fa=!1;null!==c.he&&(e.g.ah=c.ah,e.g.he=c.he,e.g.$g=c.$g,e.g.Wj=c.Wj,e.g.Jl=c.Jl,e.g.i=c.Eg,e.g.ye=c.ye,e.g.ge=c.ge,e.mi=c.Nq,e.g.fa=!0);
e.g.RM(c.ge);if(e.g.pa=c.pa)e.g.za.Vb=c.$e,e.g.za.wx=c.fg,e.g.za.Ro=c.i,e.g.za.gO(c.vb,c.fe,c.Ne,c.Fi,c.P,c.zf,c.Ih,c.Vf,c.Wf),e.C.oc?(e.g.za.Eu=c.ir,e.g.za.Fu=c.jr,e.g.za.oc=!0):e.g.za.oc=!1,e.bE=c.te;e.g.Ga=c.Ga;e.g.la=c.la;e.g.$l=e.g.la;e.g.L=c.L;e.g.sc=!1;e.g.T=c.T;e.g.Bw=c.T;e.g.Vg=c.Vg;e.g.P=c.P;e.g.je=c.je;e.g.Oe=c.Oe;e.g.ke=c.ke;e.g.xa=c.tc;e.g.Aa=c.mf;e.g.wa=c.Ug;e.g.Pn=c.Tr;e.g.Qn=c.Tp;e.g.Nu=c.Yz;e.g.Uy=c.Lv;e.zq=new Uint32Array(e.bn);for(l=0;l<e.bn;l+=1)e.zq[l]=e.C.Zo[l]}else e.FE();e.g.jO();
e.Yi=!0;e.sd=!1;e.vh=!0;e.Dd=y.ZE;e.Ac=c?!1:!0;e.wl=!0;e.xl=!1;e.D=e.C.D;e.g.Y=1;e.g.ot=y.XE;e.Pb=0;e.Qb=0;e.kh=-1;e.Dh=-1;e.Un=!1;e.tr=!1;e.o.locked=!1;e.Ni=!1;e.$i=!1;e.g.NK();e.g.OK();e.g.ta&&e.g.LE();e.g.ta&&e.g.RE();e.hj="";e.Zi=!1;ColourManager.Ff();e.g.$d=y.Kv;e.g.sg=y.Jv;e.g.lf=10;e.g.gK=10;e.g.zl=!0;e.TE=-1;e.SE=-1;e.lc=60;e.tb=1;e.g.$=1;e.g.Pe=.1;e.g.angle=0;e.g.Na=0;e.g.zoom=6;e.g.uN(e.fK,e.dK);e.g.rr(!1);e.g.Ca=e.g.width/2;e.g.va=e.g.height/2;e.Cz=!1;e.Az=!1;e.Bz=!1;e.ef=0;e.zj=0;e.xe=
-1;e.Cg=-1;e.bg=-1;e.Vi=-1;e.sa[y.mh]=-1;e.sa[y.yj]=-1;e.sa[y.ev]=-1;e.sa[y.Gi]=-1;e.sa[y.yr]=-1;e.sa[y.zr]=-1;e.sa[y.Ar]=-1;e.sa[y.ov]=-1;e.sa[y.pv]=-1;e.sa[y.fv]=-1;e.sa[y.lv]=-1;e.sa[y.kv]=-1;e.sa[y.jv]=-1;e.sa[y.mv]=-1;e.sa[y.nv]=-1;e.sa[y.hv]=-1;e.sa[y.Br]=-1;e.sa[y.gv]=-1;e.sa[y.sz]=-1;e.sa[y.Fr]=-1;e.sa[y.Dr]=-1;e.sa[y.Gr]=-1;e.sa[y.Ir]=-1;e.sa[y.Hr]=-1;e.sa[y.Er]=-1;e.sa[y.xr]=-1;e.sa[y.Cr]=-1;e.sa[y.rz]=-1;e.sa[y.vz]=-1;e.sa[y.uz]=-1;e.sa[y.qz]=-1;e.oz=y.IF;e.nz=y.Hu;e.pz=y.ZG;e.wb&&e.UC();
e.Vl=!1;e.j.wb=!1;e.We=y.aF;e.ek=!1;e.j.ek=!1;e.Dx=!1;e.Bd=c?!1:!0;e.Oa=!1;e.g.qc=!1;e.g.kd=!1;e.Ub.m=!1;e.pd.m=!1;e.kf.m=!1;e.dg.m=!1;e.Kc.m=!1;e.ue.m=!1;e.md.m=!1;e.cj.m=!1;e.Cn.m=!1;e.pn.m=!1;e.o.m=!1;e.zg.m=!1;e.gk.m=!1;e.Mo.m=!1;e.Ws.m=!1;e.ms.m=!1;e.Dw.m=!1;e.Jr.m=!1;e.sj.m=!1;e.Mp.m=!1;e.yt.m=!1;e.Kc.current=[!1];e.kf.current=[!1];e.ha=0;e.pc=0;e.Cl.current=[!1];e.Mn.current=e.RD([e.sk],!0,e);e.Fp.current=e.SD([e.Xh],!0,e);e.xx=!1;e.pd.current=e.bl(y.Nm,!0,e);e.Qk.current=e.qI([50,50],!0,e);
e.Jo.current=e.WD([y.vq,y.vq],!0,e);e.Ek.current=e.gp([e.ha],!0,e);e.im=[96,96,96];e.g.kl=e.g.be?4284506208:1616929023;e.jm=[128,128,128];e.g.cm=e.g.be?4286611584:2155905279;e.mm=[0,255,0];e.g.CC="rgb(0,255,0)";e.lm=[255,0,0];e.g.kB="rgb(255,0,0)";e.hm=[255,255,0];e.g.Cu="rgb(255,255,0)";e.X.reset();e.Wc=!1;e.X.xJ();e.Mi=!1;e.de=!1;e.Qj=!0;e.$h=!1;e.dv=!1;e.g.pg=!1;e.Ww=y.Hq;e.Rw=y.Hq;e.Pw=50;e.nt=!1;e.Sw=!1;e.Vw=!1;e.Fl=-1;e.Gl=-1;e.jn=-1;e.ji=[];e.Sj=[];e.gx=!1;e.hD=!1;e.MC=!0;e.LC=!0;if(c){e.g.ta?
(e.Pg=[0,65280,128,14221272,16711680,16776960,6316128],e.vr="[R]History"):(e.Pg=ColourManager.xz,e.vr="(default)");e.yN();e.Uw=Date.now().toString();!e.Od&&z.fullScreen&&(e.J=document.body.clientWidth&-8,e.H=window.innerHeight-128,e.J<y.Tc&&(e.J=y.Tc),e.H<y.Mj&&(e.H=y.Mj),v=!0);c.title&&(l=c.Cd,e.g.ta&&(l=7),e.g.L&&(l=16),e.g.V&&(l=26),e.dN(c.title,l),e.Ed.length&&(e.pc=1),e.wb&&A&&(e.wb=!1),-1<e.xe&&(e.xe&=-8,e.xe!==e.J&&(e.J=e.xe,v=!0)),-1<e.Cg&&e.Cg!==e.H&&(e.H=e.Cg,v=!0),e.Od&&(-1<e.bg?(e.bg&=
-8,e.bg!==e.J&&(e.J=e.bg,v=!0)):e.J<y.Tc&&(e.J=y.Tc),-1<e.Vi&&e.Vi!==e.H&&(e.H=e.Vi,v=!0)));e.g.ee&&(2<e.g.i||e.g.pa||e.g.L||e.g.ta||e.g.fa||e.g.la)&&(e.g.ee=!1);if(!e.Fa||e.g.fa||e.g.V)e.K=0;e.$b.Ff(e.Uw);e.Od&&(e.Um=e.J,e.Tm=e.H,e.xH());c.Kg&&0===e.Yg.length&&(e.Fa=!1);e.GH();e.DH();e.QO();e.OO();e.g.YM();e.g.K=e.K;e.g.Ai=e.Ai;e.ek&&!e.sd&&(e.Ac=!0,e.sd=!1);e.g.eJ(!e.Ac);if(c.width>e.g.ia||c.height>e.g.ia)e.D="Pattern too big (maximum "+e.g.ia+"x"+e.g.ia+")",e.Kg=!0,e.Fa=!1,e.FE();if(-1!==c.tc){var D=
6;c.pa&&(D=6*c.fe);c.te&&(D=6*c.dd);if(c.mf>=e.g.ia-D||c.Ug>=e.g.ia-D)e.D="Bounded grid is too big",e.Fa=!1,e.g.xa=-1}e.g.IO(e);e.aw&&(e.g.kz(),e.QM());e.aE=!1;if(-1!==e.g.xa){A=e.g.Aa;var E=e.g.wa;0===A&&(A=c.width);0===E&&(E=c.height)}else A=c.width,E=c.height,0<e.Yg.length&&(A=e.EJ(A),E=e.DJ(E));D=y.vg;e.g.pa&&(D=4*e.g.za.gh+1,-1!==e.g.xa&&(D+=2*e.g.za.gh),e.g.za.type===e.C.Nf&&(D=-1!==e.g.xa?D+e.g.wa/2:D+2*e.g.za.gh),D<y.vg&&(D=y.vg));l=e.g.ia/2-D;e.wh&&(e.en<-l?e.en=-l:e.en>=l&&(e.en=l-1),e.fn<
-l?e.fn=-l:e.fn>=l&&(e.fn=l-1),e.Pb+=e.en,e.Qb+=e.fn);e.Pb<-l?e.Pb=-l:e.Pb>=l&&(e.Pb=l-1);e.Qb<-l?e.Qb=-l:e.Qb>=l&&(e.Qb=l-1);l=e.g.width<e.g.ia&&A+D+2*Math.abs(e.Pb)>=e.g.width;for(B=e.g.height<e.g.ia&&E+D+2*Math.abs(e.Qb)>=e.g.height;l||B;)e.g.Wr(l,B),l&&(e.ef+=e.g.width>>2),B&&(e.zj+=e.g.height>>2),l&&(e.uf+=e.g.width>>2),B&&(e.Yj+=e.g.height>>2),e.g.T&&B&&(e.ef-=e.g.height>>3,e.uf-=e.g.height>>3),l=e.g.width<e.g.ia&&A+D+2*Math.abs(e.Pb)>=e.g.width,B=e.g.height<e.g.ia&&E+D+2*Math.abs(e.Qb)>=e.g.height;
c.pa&&e.g.za.resize(e.g.width,e.g.height);e.FJ(c.width,c.height);e.g.ta&&e.C.Zo[6]&&e.g.NM(c,e.Lc,e.Mc);e.Zh?e.j.notification.ih="rgb("+e.Zh[0]+","+e.Zh[1]+","+e.Zh[2]+")":e.j.notification.ih=e.j.notification.dH;if(null===e.kc)for(l=0;l<e.Pg.length;l+=1)e.Xn[l]=e.C.Zo[l]?y.JH:y.RC;e.g.ic?(e.g.WJ(e.Pg,e.kc),e.g.pg=!0):e.g.pg=!1;c.Kg||e.NJ(c);e.kn.Za=""!==e.rd?e.rd:e.Jb;e.kn.F=e.Jb;""!==e.rd&&(e.kn.F+=" alias "+e.rd)}else e.DH();e.Wi=!1;e.HA="none";e.Nb="none";e.gq="none";e.ys="none";e.hq="none";e.xs=
"none";e.cw="none";e.cq="none";e.zs="none";e.eq="none";e.As="none";e.fq="none";e.Gb=!1;e.Zp.current=[e.Gb];e.g.ns(e.Gb);e.pn.current=e.mD([e.Qj],!0,e);e.g.kz();e.WN(e.cD);e.g.kc=e.kc;e.g.Ga||!e.Fa&&2<e.g.i?e.g.KE(e.Pg,e.kc):e.g.JE();e.g.Zd(1);e.g.VN();e.Ap.current=[e.g.kd];e.Tq.current=e.nD([e.Wo],!0,e);e.rq.current=e.Mx([e.Dd,e.Dd],!1,e);e.iq.current=[e.vh];e.rj.current=[e.Ec];e.Ki.current=[e.g.qc];e.Gq.current=[e.g.ee];e.g.counter=0;e.g.bf=0;e.g.Kj=0;e.Mb=0;e.elapsedTime=0;e.pd.Zf=[!1,!1,!1];if(e.Bd)c&&
(e.g.nC(e.$i),e.kc&&(e.Pg=e.kc)),e.BJ=e.Pg.length,e.g.KE(e.Pg,e.kc),e.g.dh.reset(),e.Ac=!0,e.sd=!1;else{e.g.nC(e.$i);e.g.fx();2>=e.g.i&&e.g.ex(e.g.hb);e.g.ta&&e.C.Zo[2]&&e.g.QJ(c,e.Lc,e.Mc);e.hi();0<e.Yg.length&&(e.g.nC(e.$i),e.g.fx(),2>=e.g.i&&e.g.ex(e.g.hb));e.g.wN(e.g.hb,e.g.S);A=0;E=e.g.i;-1===E&&(E=2);for(l=1;l<E;l+=1)A+=e.zq[l];c&&0===A&&0===e.g.ga&&!e.Ij?(e.rm=!0,e.g.Ga||(c.Kg?e.j.notification.notify("Pattern too big!",15,y.Oz,15,!1):e.j.notification.notify("New Pattern",15,300,15,!1))):e.rm=
!1;-1!==e.g.xa&&e.g.DC();e.g.PN(e.de,e);e.g.pt(e,e.de)}e.vm.locked=e.Ac;e.vm.current=[e.sd];e.pn.current=[e.Qj];e.Cn.current=[e.dm];e.qo.current=[e.g.wj];e.zp.current=[e.Mi];e.yp.current=[e.Bi];e.Kn.current=[e.g.$l];e.Kn.locked=!e.g.la;e.g.P?(e.Hj.current=[e.g.sc],e.Hj.F=["toggle triangular cells [?]"]):(e.Hj.F=["toggle hexagonal cells [?]"],e.Hj.current=e.g.T?[e.g.sc]:[!0]);e.Mp.locked=(e.g.la||e.g.L)&&null!==e.g.Yc?!1:!0;0===e.X.Ao()?(e.Gm.locked=!0,e.Yi=!1):(e.Gm.locked=!1,e.Yi=!0);e.Gm.current=
[e.Yi];e.$p.current=[e.nd];e.Lq.current=[e.xl];e.lt.current=[e.g.xh];e.Uq.current=[e.Zi];e.Yp.current=[e.Ni];e.X.yc.length?(e.it.m=!1,e.Js.m=!1):(e.it.m=!0,e.Js.m=!0);0===e.g.lf?(e.Ik.current=[!1],e.Ik.locked=!0):(e.Ik.current=[e.g.zl],e.Ik.locked=!1);e.Ac||e.g.lH();l=e.g.zoom;A=e.g.Ca;E=e.g.va;D=e.wb;e.wb=!1;e.Sg(!0,!1,y.Dk);e.wb=D;e.Cz?e.g.zoom=l:!e.Ec&&e.g.zoom>y.VF&&(e.g.zoom=y.VF);e.Az&&(e.g.Ca=A);e.Bz&&(e.g.va=E);e.Wc&&e.UO(e.Ed);e.wb&&e.Dx&&(e.g.zoom=e.jD);e.bF=e.g.zoom;e.Cc.current=e.cl([e.g.zoom,
e.g.zoom],!1,e);e.ef=e.g.Ca;e.zj=e.g.va;e.Jp=e.g.angle;e.Xd.current=[e.Jp,e.Jp];e.Lp=e.g.Na;e.Xe.current=[e.Lp,e.Lp];e.rv=e.g.Uf;e.nn(e.rv,e.g.fm,e);e.YE=e.lc;e.$E=e.tb;e.dg.current=e.hk([e.Rl(),1],!0,e);e.Kp=e.g.$;e.ue.current=[e.Kp,e.Kp];e.zz=e.g.Pe;l=Math.sqrt(e.zz);e.md.current=e.Xl([l,l],!0,e);e.g.Y=1;e.Bf&&!e.Og?(e.cb=!0,e.Ub.current=y.Kk):(e.cb=!1,e.Ub.current=y.Re);e.mx(e.cb);e.J>y.Tc&&!e.Od?(l=e.J-y.Tc+y.Yt,l>y.Sx&&(l=y.Sx),e.Cc.Xi(l)):e.Cc.Xi(y.Yt);if(v||e.wb)e.wb?e.VC():e.resize();c||(e.C.Kg?
e.j.notification.notify("Pattern too big!",15,y.Oz,15,!1):e.j.notification.notify("Invalid pattern!",15,y.Oz,15,!1));e.Ed.length?e.ha=0:e.pc=0;e.Fa||(e.Oa=!0,e.g.pg=!1,e.g.Ga=!0,e.g.ta=!1,e.g.V=!1);if(e.Oa||e.g.Ga)e.pd.Zf[y.Mm]=!0,e.pd.Zf[y.Om]=!0;e.Oa?(e.Ub.m=!0,e.kf.m=!0,e.zg.m=!0,e.dg.m=!0,e.gk.m=!0,e.Mo.m=!0,e.Mp.m=!0,e.yt.m=!0,e.Bd&&(e.ue.m=!0,e.md.m=!0,e.cj.m=!0,e.g.$=1),e.Hl.m=!1,""===e.D?(e.Hl.Za=Keywords.Tt,e.Hl.Df=y.Wp):(e.Hl.Za=e.D,e.Hl.Df=e.Aj)):e.Hl.m=!0;540>e.H?e.sj.setPosition(Menu.Xo,
0,-85):e.sj.setPosition(Menu.Xo,0,-100);e.$H();e.ug=!1;e.Bs="";e.wH(e);e.Dv()?(e.vk.Za="Density",e.vk.F="cell density"):(e.vk.Za="Births",e.vk.F="cells born this generation");e.j.ig=!0;e.j.cg(!0);e.Od&&e.Ex&&(""===e.hj?e.Ex.nodeValue=y.Pr:e.Ex.nodeValue=e.HK(e.hj));z.Ya?(c=e.xq,""===c&&(c="Universe "+(e.gd+1)),e.j.notification.notify(c,15,120,15,!0),e.jt.m=!1,e.Ks.m=!1):(e.jt.m=!0,e.Ks.m=!0);e.nb("");e.vw&&f(e);(8===e.g.zoom||.125===e.g.zoom)&&0<e.Co&&0===(e.Co&3)&&1===(e.Uj.length&5)?(e.Mr=!0,e.g.BF()):
e.Mr=!1;e.g.mA();(e.g.la||e.g.L)&&null!==e.g.Yc&&e.gx&&(e.g.ud=!0,e.mx(e.cb));e.Xw&&""===e.D&&(e.Qw||(e.Qw=!0,e.mt(e,!0)),e.Qw=!1);-1!==e.Ve&&(e.wl&&e.j.notification.notify("Going to generation "+e.Ve,15,1E4,15,!1),e.j.notification.clear(!0,!1))};registerEvent(window,"load",w,!1);window.onresize=function(){if(z.fullScreen){var c=C.Rd[0][1];c.J=document.body.clientWidth&-8;c.H=window.innerHeight-128;c.J<y.Tc&&(c.J=y.Tc);c.H<y.bH&&(c.H=y.bH);if(c.J>y.Tc&&!c.Od){var l=c.J-y.Tc+y.Yt;l>y.Sx&&(l=y.Sx);
c.Cc.Xi(l)}else c.Cc.Xi(y.Yt);l=c.ff;c.GH();c.ff=l;c.ND();c.resize();c.j.cg(!0)}};window.DocConfig=z;window.Controller=C;window.ViewConstants=y;window.startAllViewers=w;window.updateViewer=m;window.updateMe=d;window.hideViewer=k;window.lifeViewerBuild=y.Lx}(),function(){var u={Ml:0,Vn:"",iz:!1,tO:function(h){h=LifeConstants.uw[h];10<h.length&&(h=h.replace(/marked/,"mkd"),h=h.replace(/trail/,"trl"),10<h.length&&(h="1"<=h.substr(-1)&&"9">=h.substr(-1)?h.substr(0,9)+h.substr(-1):h.substr(0,10)));return h},
kN:function(h,g,q,k,a,b,d,f,m,n){var p=f,r=h.o.Ze,x=this.Ml*r,t=this.Ml*h.o.Ze,w=!1,z=h.ea;b&&(b.fillStyle===ViewConstants.Zr&&(w=!0),z>=n&&z<=n+h.qd&&(b.font=h.Vp,w||(b.fillStyle=1<(h.ha|0)?ViewConstants.Wp:ViewConstants.Hv),b.fillText(g,d+x,f+t),w||(b.fillStyle=ViewConstants.Wp),b.fillText(q,d+x+b.measureText(g).width,f+t),w||(b.fillStyle=(h.ha|0)<h.pq-h.qd?ViewConstants.Wp:ViewConstants.Hv),b.fillText(k,d+x+b.measureText(g+q).width,f+t),w||(b.fillStyle=ViewConstants.Wp),b.font=h.zm,b.fillText(a,
d+x+h.ba[0]*r,f+t),p+=m));h.ea+=1;return p},Oy:function(h){h/=1048576;return 10>h?String(h.toFixed(1)):String(h.toFixed(0))},$a:function(h,g,q,k,a,b,d,f,m){var n=h.ea;a&&(f-=6,n>=m&&n<=m+h.qd&&(h=a.fillStyle,h!==ViewConstants.Zr&&(a.fillStyle="rgb("+g+","+q+","+k+")"),a.fillRect(b,d-(f>>1)-1,f,f),a.fillStyle=h))},measureText:function(h,g,q,k){var a=k?h.Pv:h.Ov;a[h.ea]?g=a[h.ea]:(g.font=0===k?h.Vp:h.zm,g=g.measureText(q).width,a[h.ea]=g);return g},h:function(h,g,q,k,a,b,d,f){var m=b,n=String(q).indexOf("\t"),
p=0,r=h.o.Ze,x=this.Ml*r,t=this.Ml*h.o.Jh,w=h.ea>=f&&h.ea<=f+h.qd;u.iz&&0===u.Ml&&(""===g?u.Vn+=q+"\n":"H / Esc"!==g&&(u.Vn+=g+"\t"+q+"\n"));if(g.length){w&&(k.font=h.Vp,k.fillText(g,a+x,b+t));g=this.measureText(h,k,g,0);g>h.ba[p]*r&&""!==q&&(w&&(b+=d,m+=d),h.ea+=1,w=h.ea>=f&&h.ea<=f+h.qd);w&&(k.font=h.zm);for(;-1!==n;)w&&k.fillText(q.substr(0,n),a+x+h.ba[p]*r,b+t),p+=1,q=q.substr(n+1),n=q.indexOf("\t");n=!1;if(h.fh&&(g=this.measureText(h,k,q,1),a+h.ba[p]*r+g>k.canvas.width)){var z=q.toLowerCase();
g=z.indexOf("|");-1===g&&("r"===z[0]?g=z.indexOf("b"):"m"!==z[0]&&(g=z.indexOf("s")),-1===g&&(g=z.indexOf("/"),-1!==g&&"m"!==z[0]?g+=1:(g=q.length>>1,z=z.indexOf(",",g),-1!==z&&(g=z+1))));-1!==g&&(w&&(k.fillText(q.substr(0,g),a+x+h.ba[p]*r,b+t),b+=d,m+=d),h.ea+=1,(w=h.ea>=f&&h.ea<=f+h.qd)&&k.fillText("  "+q.substr(g),a+x+h.ba[p]*r,b+t),n=!0)}n||w&&k.fillText(q,a+x+h.ba[p]*r,b+t)}else k.font=h.zm,w&&k.fillText(q,a+x,b+t);w&&(m+=d);h.ea+=1;return m},jc:function(h,g,q){var k=ColourManager.Pg,a=Object.keys(k),
b,d=!1,f=0;for(b="    "+h+"\t"+g+"\t"+q+("\t"+(16777216|h<<16|g<<8|q).toString(16).slice(-6).toUpperCase());f<a.length&&!d;){var m=k[a[f]];m[1]===h&&m[2]===g&&m[3]===q?(b+="\t"+m[0],d=!0,f=a.length):f+=1}return b},Dg:function(h){return this.jc(h.red,h.green,h.blue)},kJ:function(h){var g=0,q=0;h.g.Y&&(g=h.g.M.u-h.g.M.l+1,q=h.g.M.v-h.g.M.s+1);-1!==h.g.xa&&(0!==h.g.Aa&&(g=h.g.Aa),0!==h.g.wa&&(q=h.g.wa));return g+" x "+q},rJ:function(h){var g="AutoFit";h.Ni&&(g+=" History");h.$i&&(g+=" State 1");return g},
vG:function(h,g){g-=h.length;for(var q="";0<g;)q+=" ",--g;return q+h},bz:function(h){var g=h.indexOf(","),q=h.lastIndexOf(",");return[h.substring(4,g),h.substring(g+1,q),h.substring(q+1,h.length-1)]},jH:function(h,g,q,k,a,b){var d=k;switch(h.Fk){case ViewConstants.ri:this.qN(h,g,q,k,a,b);break;case ViewConstants.uA:this.mN(h,g,q,k,a,b);break;case ViewConstants.AC:this.oN(h,g,q,k,a,b);break;case ViewConstants.Zv:this.lN(h,g,q,k,a,b);break;case ViewConstants.dD:this.pN(h,g,q,k,a,b);break;case ViewConstants.dz:this.hN(h,
g,q,k,a,b);break;case ViewConstants.Dy:this.fN(h,g,q,k,a,b);break;case ViewConstants.QA:this.nN(h,g,q,k,a,b);break;case ViewConstants.Gy:this.gN(h,g,q,k,a,b)}h.pq=h.ea-1;h.ea=1;h.ba[0]=120;k=d+a*(h.qd+2);k=h.Fk!==ViewConstants.ri?this.kN(h,"Up"," / ","Down","scroll help",g,q,k,a,0):k+a;h.Od?this.h(h,"H","close help",g,q,k,a,0):this.h(h,"H / Esc","close help",g,q,k,a,0)},qN:function(h,g,q,k,a,b){h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=108;h.ma[0]=[h.ea,"Top"];this.h(h,"",ViewConstants.Pr+" build "+ViewConstants.Lx+
" by "+ViewConstants.dI,g,q,k,a,b)},gN:function(h,g,q,k,a,b){var d,f=0,m=h.o.Ze;h.ea=1;h.fh=!1;h.ma=[];h.ma[f]=[h.ea,"Top"];f+=1;h.ba[0]=128;h.ba[1]=208;h.ba[2]=288;h.ba[3]=368;k=this.h(h,"","Annotations",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Labels"];f+=1;k=this.h(h,"","Labels:",g,q,k,a,b);k=this.h(h,"Number",h.X.sf.length,g,q,k,a,b);for(d=0;d<h.X.sf.length;d+=1){var n="Label "+String(d+1);k=this.h(h,n,h.X.LL(d),g,q,k,a,b);k=this.h(h," ",h.X.ML(d),g,q,k,a,b);k=this.h(h," ",h.X.NL(d),
g,q,k,a,b);n=this.bz(h.X.OL(d));this.$a(h,n[0],n[1],n[2],g,q+h.ba[0]*m,k,a,b);k=this.h(h,"Colour",this.jc(n[0],n[1],n[2]),g,q,k,a,b)}k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Arrows"];f+=1;k=this.h(h,"","Arrows:",g,q,k,a,b);k=this.h(h,"Number",h.X.Tf.length,g,q,k,a,b);for(d=0;d<h.X.Tf.length;d+=1)n="Arrow "+String(d+1),k=this.h(h,n,h.X.lJ(d),g,q,k,a,b),k=this.h(h," ",h.X.mJ(d),g,q,k,a,b),k=this.h(h," ",h.X.nJ(d),g,q,k,a,b),n=this.bz(h.X.Hu(d)),this.$a(h,n[0],n[1],n[2],g,q+h.ba[0]*m,k,a,b),k=this.h(h,
"Colour",this.jc(n[0],n[1],n[2]),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Polygons"];k=this.h(h,"","Polygons:",g,q,k,a,b);k=this.h(h,"Number",h.X.ag.length,g,q,k,a,b);for(d=0;d<h.X.ag.length;d+=1)n="Polygon "+String(d+1),k=this.h(h,n,h.X.JM(d),g,q,k,a,b),k=this.h(h," ",h.X.KM(d),g,q,k,a,b),k=this.h(h," ",h.X.LM(d),g,q,k,a,b),n=this.bz(h.X.MM(d)),this.$a(h,n[0],n[1],n[2],g,q+h.ba[0]*m,k,a,b),k=this.h(h,"Colour",this.jc(n[0],n[1],n[2]),g,q,k,a,b)},mN:function(h,g,q,k,a,b){var d,f=0;h.ea=
1;h.ma=[];h.fh=!0;h.ba[0]=124;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Keyboard commands",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Playback"];f+=1;k=this.h(h,"","Playback controls:",g,q,k,a,b);if(h.Bd)k=this.h(h,"R","reset",g,q,k,a,b);else{k=this.h(h,"Enter","toggle play / pause",g,q,k,a,b);k=this.h(h,"Space","pause / next generation",g,q,k,a,b);k=this.h(h,"B","pause / previous generation",g,q,k,a,b);k=this.h(h,"Backspace","pause / previous generation",g,q,k,a,b);k=this.h(h,"Tab","pause / next step",
g,q,k,a,b);k=this.h(h,"Shift Tab","pause / previous step",g,q,k,a,b);if(h.g.la||h.g.L)k=this.h(h,"U","toggle playback direction",g,q,k,a,b);k=h.Od?this.h(h,"Esc","close LifeViewer",g,q,k,a,b):this.h(h,"Esc","pause if playing",g,q,k,a,b);k=this.h(h,"R","reset to generation 0",g,q,k,a,b);k=this.h(h,"Shift N","go to generation",g,q,k,a,b);k=this.h(h,"-","decrease playback speed",g,q,k,a,b);k=this.h(h,"+","increase playback speed",g,q,k,a,b);k=this.h(h,"Shift -","minimum playback speed",g,q,k,a,b);k=
this.h(h,"Shift +","maximum playback speed",g,q,k,a,b);k=this.h(h,"0","reset step and speed",g,q,k,a,b);k=this.h(h,"Ctrl P","toggle pause playback while drawing",g,q,k,a,b);k=this.h(h,"Alt T","toggle throttling",g,q,k,a,b);h.Wc?-1!==h.jb?(k=this.h(h,"W","toggle waypoint playback and loop",g,q,k,a,b),k=this.h(h,"Shift P","toggle just loop",g,q,k,a,b)):k=this.h(h,"W","toggle waypoint playback",g,q,k,a,b):-1!==h.jb&&(k=this.h(h,"W","toggle loop",g,q,k,a,b));h.Bf&&(k=this.h(h,"Alt O","toggle autostart",
g,q,k,a,b));-1!==h.ec&&(k=this.h(h,"Alt P","toggle stop",g,q,k,a,b))}k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Multi"];f+=1;k=this.h(h,"","Multi-Viewer controls:",g,q,k,a,b);DocConfig.Ya&&(k=this.h(h,"Page Up","previous universe",g,q,k,a,b),k=this.h(h,"Page Down","next universe",g,q,k,a,b),k=this.h(h,"Home","first universe",g,q,k,a,b),k=this.h(h,"End","last universe",g,q,k,a,b));k=this.h(h,"Shift R","reset all LifeViewers to generation 0",g,q,k,a,b);k=this.h(h,"Z","stop playback in all other LifeViewers",
g,q,k,a,b);k=this.h(h,"Shift Z","stop playback in all LifeViewers",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Camera"];f+=1;k=this.h(h,"","Camera controls:",g,q,k,a,b);if(h.H>=ViewConstants.Lm||(h.wb&&h.fD)>=ViewConstants.Lm)k=this.h(h,"M","toggle settings menu",g,q,k,a,b);k=this.h(h,"V","restore saved camera position",g,q,k,a,b);k=this.h(h,"Shift V","save current camera position",g,q,k,a,b);var m=h.X.yc.length;if(0<m&&(k=this.h(h,"J","jump to next point of interest",g,q,k,a,b),k=this.h(h,
"Shift J","jump to previous point of interest",g,q,k,a,b),9<m&&(m=9),!h.se&&!h.bh))for(d=1;d<=m;d+=1)k=this.h(h,"Alt "+String(d),"jump to POI #"+String(d),g,q,k,a,b);k=this.h(h,"F","fit pattern to display",g,q,k,a,b);k=this.h(h,"Shift F","toggle autofit",g,q,k,a,b);k=this.h(h,"Shift H","toggle autofit history mode",g,q,k,a,b);k=this.h(h,"Ctrl F","fit selection to display",g,q,k,a,b);k=this.h(h,"Ctrl M","center pattern on display",g,q,k,a,b);h.g.ta&&(k=this.h(h,"Shift S","toggle autofit state 1 mode",
g,q,k,a,b));k=this.h(h,"[","zoom out",g,q,k,a,b);k=this.h(h,"]","zoom in",g,q,k,a,b);k=this.h(h,"Shift [","halve zoom",g,q,k,a,b);k=this.h(h,"Shift ]","double zoom",g,q,k,a,b);k=this.h(h,"1","1x zoom",g,q,k,a,b);k=this.h(h,"2","2x zoom",g,q,k,a,b);k=this.h(h,"4","4x zoom",g,q,k,a,b);k=this.h(h,"8","8x zoom",g,q,k,a,b);k=this.h(h,"6","16x zoom",g,q,k,a,b);k=this.h(h,"3","32x zoom",g,q,k,a,b);k=this.h(h,"Shift 1","integer zoom",g,q,k,a,b);k=this.h(h,"Shift 2","-2x zoom",g,q,k,a,b);k=this.h(h,"Shift 4",
"-4x zoom",g,q,k,a,b);k=this.h(h,"Shift 8","-8x zoom",g,q,k,a,b);k=this.h(h,"Shift 6","-16x zoom",g,q,k,a,b);k=this.h(h,"Shift 3","-32x zoom",g,q,k,a,b);k=this.h(h,"Left","pan left",g,q,k,a,b);k=this.h(h,"Right","pan right",g,q,k,a,b);k=this.h(h,"Up","pan up",g,q,k,a,b);k=this.h(h,"Down","pan down",g,q,k,a,b);k=this.h(h,"Shift Left","pan north west",g,q,k,a,b);k=this.h(h,"Shift Right","pan south east",g,q,k,a,b);k=this.h(h,"Shift Up","pan north east",g,q,k,a,b);k=this.h(h,"Shift Down","pan south west",
g,q,k,a,b);k=this.h(h,"<","rotate left",g,q,k,a,b);k=this.h(h,">","rotate right",g,q,k,a,b);k=this.h(h,"Shift <","rotate left 90 degrees",g,q,k,a,b);k=this.h(h,"Shift >","rotate right 90 degrees",g,q,k,a,b);k=this.h(h,"5","reset angle",g,q,k,a,b);k=this.h(h,"'","tilt down",g,q,k,a,b);k=this.h(h,"/","tilt up",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.Bd||(h.ma[f]=[h.ea,"View"],f+=1,k=this.h(h,"","View controls:",g,q,k,a,b),k=this.h(h,"Q","increase number of layers",g,q,k,a,b),k=this.h(h,"A","decrease number of layers",
g,q,k,a,b),k=this.h(h,"P","increase layer depth",g,q,k,a,b),k=this.h(h,"L","decrease layer depth",g,q,k,a,b),k=this.h(h,"C","next colour theme",g,q,k,a,b),k=this.h(h,"Shift C","previous colour theme",g,q,k,a,b),k=this.h(h,"Alt C","default theme",g,q,k,a,b),k=this.h(h,"","",g,q,k,a,b));h.ma[f]=[h.ea,"Display"];f+=1;k=this.h(h,"","Display controls:",g,q,k,a,b);h.Bd||(k=this.h(h,"G","toggle generation statistics",g,q,k,a,b),k=this.h(h,"Shift G","toggle generation display mode",g,q,k,a,b),h.Ac||(k=this.h(h,
"Y","toggle population graph",g,q,k,a,b),k=this.h(h,"Shift Y","toggle graph lines",g,q,k,a,b),k=this.h(h,"7","decrease graph opacity",g,q,k,a,b),k=this.h(h,"9","increase graph opacity",g,q,k,a,b)),k=this.h(h,"Shift W","toggle performance warning",g,q,k,a,b));h.g.T?k=this.h(h,"?","toggle hexagons for hexagonal grid",g,q,k,a,b):h.g.P&&(k=this.h(h,"?","toggle triangles for triangular grid",g,q,k,a,b));k=this.h(h,"T","toggle timing information",g,q,k,a,b);k=this.h(h,"Shift T","toggle extended timing information",
g,q,k,a,b);k=this.h(h,"I","toggle pattern and engine information",g,q,k,a,b);k=this.h(h,"Shift I","toggle information bar",g,q,k,a,b);k=this.h(h,"Ctrl Q","toggle cell anti-aliasing",g,q,k,a,b);k=this.h(h,"Alt B","toggle cell borders",g,q,k,a,b);k=this.h(h,"X","toggle gridlines",g,q,k,a,b);0<h.g.lf&&(k=this.h(h,"Shift X","toggle major gridlines",g,q,k,a,b));k=this.h(h,"Ctrl G","toggle auto gridlines",g,q,k,a,b);h.g.la&&(k=this.h(h,"Alt D","toggle alternating gridlines",g,q,k,a,b));if(h.g.ta||h.g.V||
-1===h.g.i)k=this.h(h,"Alt G","convert pattern to [R]Super",g,q,k,a,b),k=this.h(h,"Alt H","convert pattern to [R]History",g,q,k,a,b),k=this.h(h,"Alt J","convert pattern to [R]Standard",g,q,k,a,b);0<h.X.Ao()&&(k=this.h(h,"Alt L","toggle annotation display",g,q,k,a,b));k=this.h(h,"Ctrl L","toggle kill escaping gliders",g,q,k,a,b);h.Vl&&(k=this.h(h,"N","toggle thumbnail view",g,q,k,a,b));k=this.h(h,"S","toggle stars",g,q,k,a,b);k=this.h(h,"O","save screenshot",g,q,k,a,b);k=this.h(h,"Shift O","save population graph screenshot",
g,q,k,a,b);k=this.h(h,"Shift U","toggle UI",g,q,k,a,b);k=this.h(h,"Alt U","toggle autohide UI during playback",g,q,k,a,b);-1===h.g.i&&(k=this.h(h,"Alt W","toggle rainbow mode",g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Pattern"];f+=1;k=this.h(h,"","Pattern controls:",g,q,k,a,b);k=this.h(h,"Alt N","new pattern",g,q,k,a,b);k=this.h(h,"Alt R","change rule",g,q,k,a,b);k=this.h(h,"Ctrl O","open original or last saved pattern",g,q,k,a,b);k=this.h(h,"Ctrl+Shift O","open clipboard as pattern",
g,q,k,a,b);k=this.h(h,"Ctrl S","save pattern",g,q,k,a,b);k=this.h(h,"Alt Z","randomize pattern and rule",g,q,k,a,b);k=this.h(h,"Ctrl+Alt Z","randomize pattern only",g,q,k,a,b);k=this.h(h,"F6","toggle oscillator and spaceship identification",g,q,k,a,b);k=this.h(h,"Ctrl F6","fast identification",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Clipboard"];f+=1;k=this.h(h,"","External clipboard controls:",g,q,k,a,b);k=this.h(h,"Alt S","toggle sync cut and copy with external clipboard",g,q,k,a,b);
k=this.h(h,"Ctrl+Shift C","copy original pattern",g,q,k,a,b);k=this.h(h,"Ctrl C","copy current selection",g,q,k,a,b);k=this.h(h,"Ctrl+Alt C","copy current selection with comments",g,q,k,a,b);k=this.h(h,"Ctrl+Shift X","cut original pattern",g,q,k,a,b);k=this.h(h,"Ctrl X","cut current selection",g,q,k,a,b);k=this.h(h,"Ctrl+Alt X","cut current selection with comments",g,q,k,a,b);k=this.h(h,"Ctrl J","copy rule definition",g,q,k,a,b);k=this.h(h,"K","copy camera position",g,q,k,a,b);k=this.h(h,"Shift K",
"copy camera position and view",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Edit"];f+=1;k=this.h(h,"","Edit controls:",g,q,k,a,b);k=this.h(h,"F1","toggle draw/pan mode",g,q,k,a,b);k=this.h(h,"F2","draw mode",g,q,k,a,b);k=this.h(h,"Shift F2","toggle smart drawing",g,q,k,a,b);k=this.h(h,"F3","pick mode",g,q,k,a,b);k=this.h(h,"F4","select mode",g,q,k,a,b);k=this.h(h,"F5","pan mode",g,q,k,a,b);k=this.h(h,"Ctrl A","select all",g,q,k,a,b);k=this.h(h,"Shift A","shrink selection",g,q,k,a,b);k=this.h(h,
"Alt A","toggle auto-shrink selection",g,q,k,a,b);k=this.h(h,"Ctrl C","copy",g,q,k,a,b);k=this.h(h,"Ctrl D","toggle states display",g,q,k,a,b);k=this.h(h,"Ctrl I","invert selection",g,q,k,a,b);k=this.h(h,"Ctrl K","remove selection",g,q,k,a,b);k=this.h(h,"Ctrl V","paste",g,q,k,a,b);k=this.h(h,"Ctrl+Shift V","paste to selection",g,q,k,a,b);k=this.h(h,"Ctrl X","cut",g,q,k,a,b);k=this.h(h,"Ctrl Y","redo edit",g,q,k,a,b);k=this.h(h,"Ctrl Z","undo edit",g,q,k,a,b);k=this.h(h,"Ctrl+Shift Z","redo edit",
g,q,k,a,b);k=this.h(h,"Ctrl Space","advance selection",g,q,k,a,b);k=this.h(h,"Shift Space","advance outside",g,q,k,a,b);k=this.h(h,"Shift L","cycle paste location",g,q,k,a,b);k=this.h(h,"Shift M","cycle paste mode",g,q,k,a,b);2<h.g.i?(k=this.h(h,"Shift 5","multi-state random fill",g,q,k,a,b),h.g.L||(k=this.h(h,"Ctrl+Shift 5","2-state random fill",g,q,k,a,b))):k=this.h(h,"Shift 5","random fill",g,q,k,a,b);k=this.h(h,"Alt K","pick cell state to replace with drawing state",g,q,k,a,b);k=this.h(h,"Ctrl+Alt K",
"clear current drawing state cells",g,q,k,a,b);k=this.h(h,"Del","clear cells in selection",g,q,k,a,b);k=this.h(h,"Shift Del","clear outside selection",g,q,k,a,b);h.g.ta&&(k=this.h(h,"Ctrl Del","clear [R]History cells",g,q,k,a,b),k=this.h(h,"Alt Del","clear [R]History marked cells",g,q,k,a,b));k=this.h(h,">","rotate selection clockwise",g,q,k,a,b);k=this.h(h,"<","rotate selection counter-clockwise",g,q,k,a,b);k=this.h(h,"Alt X","flip selection horizontally",g,q,k,a,b);k=this.h(h,"Alt Y","flip selection vertically",
g,q,k,a,b);k=this.h(h,"Alt Left","nudge selection 1 cell left",g,q,k,a,b);k=this.h(h,"Alt Right","nudge selection 1 cell right",g,q,k,a,b);k=this.h(h,"Alt Up","nudge selection 1 cell up",g,q,k,a,b);k=this.h(h,"Alt Down","nudge selection 1 cell down",g,q,k,a,b);k=this.h(h,"Esc","hide paste",g,q,k,a,b);k=this.h(h,"Enter","perform paste",g,q,k,a,b);h.g.ta?m=7:(m=-1===h.g.i?2:h.g.i,10<m&&(m=10));for(d=0;d<m;d+=1)k=this.h(h,"Ctrl "+d,"select state "+d+" for drawing",g,q,k,a,b);k=this.h(h,"Shift B","toggle clipboard library",
g,q,k,a,b);for(d=0;10>d;d+=1)k=this.h(h,"Alt "+d,"make clipboard "+d+" active",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Help"];k=this.h(h,"","Help controls:",g,q,k,a,b);k=this.h(h,"Up","scroll up one line",g,q,k,a,b);k=this.h(h,"Down","scroll down one line",g,q,k,a,b);k=this.h(h,"Page Up","scroll up one page",g,q,k,a,b);k=this.h(h,"Page Down","scroll down one page",g,q,k,a,b);k=this.h(h,"Shift Page Up","scroll up one section",g,q,k,a,b);k=this.h(h,"Shift Page Down","scroll down one section",
g,q,k,a,b);k=this.h(h,"Home","go to first help page",g,q,k,a,b);this.h(h,"End","go to last help page",g,q,k,a,b)},oN:function(h,g,q,k,a,b){var d=0;h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=252;h.ma[d]=[h.ea,"Top"];d+=1;k=this.h(h,"","Scripts",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Scripts must be embedded in pattern comments",g,q,k,a,b);k=this.h(h,"","Commands must be surrounded by whitespace",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Params"];d+=1;k=this.h(h,"","Parameter conventions:",
g,q,k,a,b);k=this.h(h,"A|B","either A or B",g,q,k,a,b);k=this.h(h,"(A)","A is optional",g,q,k,a,b);k=this.h(h,"A*","zero or more A",g,q,k,a,b);k=this.h(h,"A+","one or more A",g,q,k,a,b);k=this.h(h,"<1..3>","integer range",g,q,k,a,b);k=this.h(h,"<1.0..3.0>","decimal range",g,q,k,a,b);k=this.h(h,'"<string>"',"text string",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"B","program build number",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"N","pattern name",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"O","pattern originator",
g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"R","rule name",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"A","rule alias",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"T","program title",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"G","current generation (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"H","reversible generation (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"I","current generation relative (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"J","reversible generation relative (Labels)",g,q,k,a,b);k=this.h(h,
" "+Keywords.Ce+"P","current population (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+"0..9","saved timing as average fps",g,q,k,a,b);k=this.h(h," "+Keywords.Ce+Keywords.Ce,Keywords.Ce+" symbol",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"General"];d+=1;k=this.h(h,"","General:",g,q,k,a,b);k=this.h(h,Keywords.To,"start script section",g,q,k,a,b);k=this.h(h,Keywords.Rq,"end script section",g,q,k,a,b);k=this.h(h,Keywords.TC,"suppress overwrite warning",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,
b);h.ma[d]=[h.ea,"Playback"];d+=1;k=this.h(h,"","Playback:",g,q,k,a,b);k=this.h(h,Keywords.Lu+" ("+Keywords.Ib+")","start play automatically",g,q,k,a,b);k=this.h(h,Keywords.Jj+" <1..>|"+Keywords.Ib,"loop at generation",g,q,k,a,b);k=this.h(h,Keywords.ck+" <1..>|"+Keywords.Ib,"stop at generation",g,q,k,a,b);k=this.h(h,Keywords.vx+" <1..>","play to generation on load",g,q,k,a,b);k=this.h(h,Keywords.jo+" <"+ViewConstants.Si+".."+h.Ma+">","set steps per second",g,q,k,a,b);k=this.h(h,Keywords.$o+" <"+ViewConstants.gi+
".."+ViewConstants.vg+">","set generations per step",g,q,k,a,b);(h.g.la||h.g.L)&&h.g.Yc&&(k=this.h(h,Keywords.pC,"set initial playback to Reverse",g,q,k,a,b));k=this.h(h,Keywords.Zz,"always use hard reset",g,q,k,a,b);k=this.h(h,Keywords.Tt,"disable playback",g,q,k,a,b);k=this.h(h,Keywords.bB,"disable step back",g,q,k,a,b);k=this.h(h,Keywords.dB,"disable stop messages",g,q,k,a,b);k=this.h(h,Keywords.cB,"disable performance warning",g,q,k,a,b);k=this.h(h,Keywords.gB,"disable playback throttling",g,
q,k,a,b);k=this.h(h,Keywords.Pz,"starting playback pauses others",g,q,k,a,b);k=this.h(h,Keywords.lA,"ignore other pause requests",g,q,k,a,b);k=this.h(h,Keywords.NB,"show playback duration",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Camera"];d+=1;k=this.h(h,"","Camera:",g,q,k,a,b);k=this.h(h,Keywords.bm+" <0..359>","set camera angle",g,q,k,a,b);k=this.h(h,Keywords.Dn+" <0.0..5.0>","set camera tilt",g,q,k,a,b);k=this.h(h,Keywords.Pf+" <-"+(h.g.ia>>1)+".."+(h.g.ia>>1)+">","set camera x position",
g,q,k,a,b);k=this.h(h,Keywords.Rf+" <-"+(h.g.ia>>1)+".."+(h.g.ia>>1)+">","set camera y position",g,q,k,a,b);k=this.h(h,Keywords.me+" <"+Number(-1/ViewConstants.Xa).toFixed(1)+".."+ViewConstants.Hb.toFixed(1)+">","set camera zoom",g,q,k,a,b);k=this.h(h,Keywords.Ey,"same as "+Keywords.me,g,q,k,a,b);k=this.h(h,Keywords.Ku+" ("+Keywords.Ib+")","fit pattern to display",g,q,k,a,b);k=this.h(h,Keywords.gA+" ("+Keywords.Ib+")","autofit uses pattern history",g,q,k,a,b);k=this.h(h,Keywords.QC+" ("+Keywords.Ib+
")","autofit only uses state 1",g,q,k,a,b);k=this.h(h,Keywords.Mt+" X Y","camera tracking",g,q,k,a,b);k=this.h(h," X ","horizontal speed cells/gen",g,q,k,a,b);k=this.h(h," Y ","vertical speed cells/gen",g,q,k,a,b);k=this.h(h,Keywords.np+" E S W N","camera box tracking",g,q,k,a,b);k=this.h(h," E ","east edge speed cells/gen",g,q,k,a,b);k=this.h(h," S ","south edge speed cells/gen",g,q,k,a,b);k=this.h(h," W ","west edge speed cells/gen",g,q,k,a,b);k=this.h(h," N ","north edge speed cells/gen",g,q,k,
a,b);k=this.h(h,Keywords.Lt+" P X Y","camera tracking with loop",g,q,k,a,b);k=this.h(h," P ","period",g,q,k,a,b);k=this.h(h," X ","horizontal speed cells/gen",g,q,k,a,b);k=this.h(h," Y ","vertical speed cells/gen",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Waypoints"];d+=1;k=this.h(h,"","Waypoints:",g,q,k,a,b);k=this.h(h,Keywords.Ct+" <0..>","waypoint at generation",g,q,k,a,b);k=this.h(h,Keywords.KB+" <0.0..>","pause for time",g,q,k,a,b);k=this.h(h,Keywords.ei+" "+Keywords.Ng+"|"+Keywords.Pf+
"|"+Keywords.Rf+"|"+Keywords.me,"linear motion",g,q,k,a,b);k=this.h(h,Keywords.tj+" "+Keywords.Ng+"|"+Keywords.Pf+"|"+Keywords.Rf+"|"+Keywords.me,"bezier motion (default)",g,q,k,a,b);k=this.h(h,Keywords.OH,"save timing at waypoint start",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"POIs"];d+=1;k=this.h(h,"","Points of interest:",g,q,k,a,b);k=this.h(h,Keywords.Fw,"define point of interest",g,q,k,a,b);k=this.h(h,Keywords.Ew+" <0..>","start POI at generation",g,q,k,a,b);k=this.h(h,Keywords.et,
"reset generation at POI",g,q,k,a,b);k=this.h(h,Keywords.Dq,"start playback at POI",g,q,k,a,b);k=this.h(h,Keywords.Eq,"stop playback at POI",g,q,k,a,b);k=this.h(h,Keywords.ft+" <"+WaypointConstants.YG+".."+WaypointConstants.XG+">","set POI transition speed",g,q,k,a,b);k=this.h(h,"<command>|ALL "+Keywords.mc,"use initial value for POI",g,q,k,a,b);k=this.h(h,Keywords.Fd+"<string>"+Keywords.Fd,"define message",g,q,k,a,b);k=this.h(h,Keywords.OB,"add Labels as POIs",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,
b);h.ma[d]=[h.ea,"Annotations"];d+=1;k=this.h(h,"","Annotations:",g,q,k,a,b);k=this.h(h,Keywords.ws+" X Y ZOOM","define label at position",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+") "+Keywords.Fd+"<string>"+Keywords.Fd,"... fix position, label text ",g,q,k,a,b);k=this.h(h,Keywords.yA+" <"+ViewConstants.gG+".."+ViewConstants.ZF+">","define label font size",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+")","... optionally fix size",g,q,k,a,b);k=this.h(h,Keywords.wA+" <0.0..1.0>","define label font alpha",g,
q,k,a,b);k=this.h(h,Keywords.zA+" <0..> <0..> <0..>","generation range / fade",g,q,k,a,b);k=this.h(h,Keywords.xA+" <0..359>","label angle",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+")","... optionally fix angle",g,q,k,a,b);k=this.h(h,Keywords.BA+" D|"+Keywords.Ib,"label view distance",g,q,k,a,b);k=this.h(h,Keywords.CA+" MINZOOM MAXZOOM|OFF","label zoom visibility",g,q,k,a,b);k=this.h(h,Keywords.AA+" DX DY|"+Keywords.Nd,"label move per generation",g,q,k,a,b);k=this.h(h,Keywords.kr+" X1 Y1 X2 Y2 ZOOM",
"define arrow at position",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+")","... fix position",g,q,k,a,b);k=this.h(h,Keywords.Jy+" <"+ViewConstants.pw+".."+ViewConstants.jw+"> <0.0..1.0>","line width and head multiple",g,q,k,a,b);k=this.h(h,Keywords.Hy+" <0.0..1.0>","define arrow alpha",g,q,k,a,b);k=this.h(h,Keywords.Ky+" <0..> <0..> <0..>","generation range / fade",g,q,k,a,b);k=this.h(h,Keywords.Iy+" <0..359>","arrow angle",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+")","... optionally fix angle",g,q,k,a,
b);k=this.h(h,Keywords.My+" D|"+Keywords.Ib,"arrow view distance",g,q,k,a,b);k=this.h(h,Keywords.Ny+" MINZOOM MAXZOOM|"+Keywords.Ib,"arrow zoom visibility",g,q,k,a,b);k=this.h(h,Keywords.Ly+" DX DY|"+Keywords.Nd,"arrow move per generation",g,q,k,a,b);k=this.h(h,Keywords.RB+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+")","... fix position",g,q,k,a,b);k=this.h(h,Keywords.Gw+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+
")","... fix position",g,q,k,a,b);k=this.h(h,Keywords.SB+" <"+ViewConstants.pw+".."+ViewConstants.jw+">","line width",g,q,k,a,b);k=this.h(h,Keywords.PB+" <0.0..1.0>","define polygon alpha",g,q,k,a,b);k=this.h(h,Keywords.TB+" <0..> <0..> <0..>","generation range / fade",g,q,k,a,b);k=this.h(h,Keywords.QB+" <0..359>","polygon angle",g,q,k,a,b);k=this.h(h," ("+Keywords.Nd+")","... optionally fix angle",g,q,k,a,b);k=this.h(h,Keywords.VB+" D|"+Keywords.Ib,"polygon view distance",g,q,k,a,b);k=this.h(h,Keywords.WB+
" MINZOOM MAXZOOM|"+Keywords.Ib,"polygon zoom visilibility",g,q,k,a,b);k=this.h(h,Keywords.UB+" DX DY|"+Keywords.Nd,"polygon move per generation",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Display"];d+=1;k=this.h(h,"","Display:",g,q,k,a,b);k=this.h(h,Keywords.er+" <"+ViewConstants.Tc+".."+h.Ri+">","set LifeViewer width",g,q,k,a,b);k=this.h(h,Keywords.Up+" <"+ViewConstants.Mj+".."+ViewConstants.Hs+">","set LifeViewer height",g,q,k,a,b);k=this.h(h,Keywords.ht+" <"+ViewConstants.Tc+".."+h.Ri+
">","set popup width",g,q,k,a,b);k=this.h(h,Keywords.gt+" <"+ViewConstants.Mj+".."+ViewConstants.Hs+">","set popup height",g,q,k,a,b);k=this.h(h,Keywords.$q+" "+Keywords.Fd+"<string>"+Keywords.Fd,"set popup window title",g,q,k,a,b);k=this.h(h,Keywords.vo+" <"+ViewConstants.ow+".."+ViewConstants.iw+">","set number of layers",g,q,k,a,b);k=this.h(h,Keywords.$n+" <"+ViewConstants.nw.toFixed(1)+".."+ViewConstants.XF.toFixed(1)+">","set layer depth",g,q,k,a,b);k=this.h(h,Keywords.Vr+" ("+Keywords.Ib+")",
"display gridlines",g,q,k,a,b);k=this.h(h,Keywords.Ur+" <0..16>","set major grid line interval",g,q,k,a,b);k=this.h(h,Keywords.hr+" <0.."+(2<h.g.i?1:63)+">","number of age states to draw",g,q,k,a,b);k=this.h(h,Keywords.bs+" <0.."+(2<h.g.i?1:63)+">","number of history states to draw",g,q,k,a,b);k=this.h(h,Keywords.zt+" ("+Keywords.Ib+")","display stars",g,q,k,a,b);h.g.T?(k=this.h(h,Keywords.aA,"hexagonal cells for grid",g,q,k,a,b),k=this.h(h,Keywords.sx,"offset square cells for grid",g,q,k,a,b)):h.g.P&&
(k=this.h(h,Keywords.GD,"triangular cells for grid",g,q,k,a,b),k=this.h(h,Keywords.sx,"rectangualr cells for grid",g,q,k,a,b));k=this.h(h,Keywords.Ty,"display cell borders",g,q,k,a,b);k=this.h(h,Keywords.aB,"disable menus and hotkeys",g,q,k,a,b);k=this.h(h,Keywords.fA,"hide menus during playback",g,q,k,a,b);k=this.h(h,Keywords.IC,"show timing information",g,q,k,a,b);k=this.h(h,Keywords.Qz,"extended timing information",g,q,k,a,b);k=this.h(h,Keywords.GC,"show generation statistics",g,q,k,a,b);k=this.h(h,
Keywords.HC,"show information bar",g,q,k,a,b);k=this.h(h,Keywords.gH,"use rainbow colours",g,q,k,a,b);k=this.h(h,Keywords.$B,"use high quality rendering",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Thumb"];d+=1;k=this.h(h,"","Thumbnails:",g,q,k,a,b);k=this.h(h,Keywords.lD+" ("+Keywords.Ib+")","start at 1/"+h.We+" size",g,q,k,a,b);k=this.h(h,Keywords.gD+" <"+ViewConstants.kG+".."+ViewConstants.dG+">","set thumbnail divisor",g,q,k,a,b);k=this.h(h,Keywords.eD+" ("+Keywords.Ib+")","thumbnail launches viewer",
g,q,k,a,b);k=this.h(h,Keywords.kD+" <"+Number(-1/ViewConstants.Xa).toFixed(1)+".."+ViewConstants.Hb.toFixed(1)+">","set thumbnail zoom",g,q,k,a,b);k=this.h(h,Keywords.iD,"start playback on thumbnail expand",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Graph"];d+=1;k=this.h(h,"","Population Graph:",g,q,k,a,b);k=this.h(h,Keywords.Gv,"display population graph",g,q,k,a,b);k=this.h(h,Keywords.Wz+" <0.0..1.0>","population graph opacity",g,q,k,a,b);k=this.h(h,Keywords.Xz,"population graph use points",
g,q,k,a,b);k=this.h(h,Keywords.xw,"disable population graph",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Colours"];d+=1;k=this.h(h,"","Colours:",g,q,k,a,b);k=this.h(h,Keywords.Ul+" <0.."+(h.g.tf-1)+">|name","set theme",g,q,k,a,b);k=this.h(h," name = "+Keywords.Zq,"set custom theme",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.zx+" R G B","set theme background",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.yx+" R G B","set theme alive color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.$C+
" R G B","set theme alive ramp",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.Bx+" R G B","set theme dead color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.Ax+" R G B","set theme dead ramp",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.bD+" R G B","set theme dying color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.aD+" R G B","set theme dying ramp",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.uE+" R G B","set boundary color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" <0.."+(-1===h.g.i?h.g.ta?
"6":"1":String(h.g.i-1))+"> R G B","set state color",g,q,k,a,b);h.g.ta&&(k=this.h(h,Keywords.Sa+" "+Keywords.rG+" R G B","set [R]History state color "+ViewConstants.tM,g,q,k,a,b),k=this.h(h,Keywords.Sa+" "+Keywords.sG+" R G B","set [R]History state color "+ViewConstants.uM,g,q,k,a,b),k=this.h(h,Keywords.Sa+" "+Keywords.zF+" R G B","set [R]History state color "+ViewConstants.yL,g,q,k,a,b),k=this.h(h,Keywords.Sa+" "+Keywords.OF+" R G B","set [R]History state color "+ViewConstants.PF,g,q,k,a,b),k=this.h(h,
Keywords.Sa+" "+Keywords.SF+" R G B","set [R]History state color "+ViewConstants.TF,g,q,k,a,b),k=this.h(h,Keywords.Sa+" "+Keywords.QF+" R G B","set [R]History state color "+ViewConstants.RF,g,q,k,a,b),k=this.h(h,Keywords.Sa+" "+Keywords.GF+" R G B","set [R]History state color "+ViewConstants.HF,g,q,k,a,b));h.g.L&&(k=this.h(h,Keywords.Sa+" N*E*S*W* R G B","set PCA state color",g,q,k,a,b));k=this.h(h,Keywords.Sa+" "+Keywords.wE+" R G B","set bounded color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.CH+
" R G B","set select color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.wq+" R G B","set paste color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.mE+" R G B","set advance color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.Vr+" R G B","set grid color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.Ur+" R G B","set grid major color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.zt+" R G B","set star color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.YC+" R G B","set waypoint message color",
g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.Nz+" R G B","set error message color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.pF+" R G B","set graph background color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.oF+" R G B","set graph axis color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.nF+" R G B","set graph alive color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.qF+" R G B","set graph birth color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.rF+" R G B","set graph death color",
g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.ws+" R G B","set label text color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.kr+" R G B","set arrow line color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.aH+" R G B","set polygon color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.VH+" R G B","set UI foreground color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.TH+" R G B","set UI background color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.WH+" R G B","set UI highlight text color",
g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.ZH+" R G B","set UI selected color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.XH+" R G B","set UI locked color",g,q,k,a,b);k=this.h(h,Keywords.Sa+" "+Keywords.UH+" R G B","set UI border color",g,q,k,a,b);k=this.h(h,Keywords.cz,"same as "+Keywords.Sa,g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Pattern"];d+=1;k=this.h(h,"","Pattern:",g,q,k,a,b);k=this.h(h,Keywords.Px+" <-"+(h.g.ia>>1)+".."+(h.g.ia>>1)+">","set pattern x offset",g,q,k,a,b);
k=this.h(h,Keywords.Qx+" <-"+(h.g.ia>>1)+".."+(h.g.ia>>1)+">","set pattern y offset",g,q,k,a,b);k=this.h(h,Keywords.Dz+" <"+ViewConstants.eG+".."+ViewConstants.WF+">","set boundary delete range",g,q,k,a,b);k=this.h(h,Keywords.$A,"disable pattern source copy",g,q,k,a,b);k=this.h(h,Keywords.fB,"hide pattern source",g,q,k,a,b);k=this.h(h,Keywords.MA+" <"+ViewConstants.fG+".."+ViewConstants.YF+">","set maximum grid size 2^n",g,q,k,a,b);k=this.h(h,Keywords.Kq+" name X Y (<1..>)+","create a named recipe",
g,q,k,a,b);k=this.h(h,Keywords.Po+" name rle","create a named rle",g,q,k,a,b);k=this.h(h," (X Y) (TRANS)","... X Y and transformation",g,q,k,a,b);k=this.h(h," "+Keywords.BD,"identity",g,q,k,a,b);k=this.h(h," "+Keywords.yD,"flip",g,q,k,a,b);k=this.h(h," "+Keywords.zD,"flip X",g,q,k,a,b);k=this.h(h," "+Keywords.AD,"flip Y",g,q,k,a,b);k=this.h(h," "+Keywords.ED,"swap X and Y",g,q,k,a,b);k=this.h(h," "+Keywords.FD,"swap X and Y and flip",g,q,k,a,b);k=this.h(h," "+Keywords.DD,"rotate clockwise",g,q,k,
a,b);k=this.h(h," "+Keywords.CD,"rotate counter-clockwise",g,q,k,a,b);k=this.h(h,Keywords.wq+" name|rle (X Y)","paste rle at optional X Y",g,q,k,a,b);k=this.h(h," (TRANS)","... optional transformation",g,q,k,a,b);k=this.h(h,Keywords.Vs+" <0..>","set paste generation",g,q,k,a,b);k=this.h(h,"(recipe|<1..>+)*","... optional delta list",g,q,k,a,b);k=this.h(h,Keywords.Vs+" "+Keywords.Or+" <1..>","set paste interval",g,q,k,a,b);k=this.h(h," (<0..> (<1..>))","... optional start and end",g,q,k,a,b);k=this.h(h,
Keywords.lB+" X Y","set position delta for "+Keywords.Vs+" "+Keywords.Or,g,q,k,a,b);k=this.h(h,Keywords.BB+" <0..15>|mode","set paste mode",g,q,k,a,b);k=this.h(h," 0   0000  "+Keywords.HB,"",g,q,k,a,b);k=this.h(h," 1   0001  "+Keywords.tB,"",g,q,k,a,b);k=this.h(h," 2   0010  "+Keywords.oB,"",g,q,k,a,b);k=this.h(h," 3   0011  "+Keywords.DB+"|"+Keywords.uB,"",g,q,k,a,b);k=this.h(h," 4   0100  "+Keywords.pB,"",g,q,k,a,b);k=this.h(h," 5   0101  "+Keywords.GB,"",g,q,k,a,b);k=this.h(h," 6   0110  "+Keywords.FB,
"",g,q,k,a,b);k=this.h(h," 7   0111  "+Keywords.AB,"",g,q,k,a,b);k=this.h(h," 8   1000  "+Keywords.wB,"",g,q,k,a,b);k=this.h(h," 9   1001  "+Keywords.CB,"",g,q,k,a,b);k=this.h(h," 10  1010  "+Keywords.yB,"",g,q,k,a,b);k=this.h(h," 11  1011  "+Keywords.qB,"",g,q,k,a,b);k=this.h(h," 12  1100  "+Keywords.xB,"",g,q,k,a,b);k=this.h(h," 13  1101  "+Keywords.rB,"",g,q,k,a,b);k=this.h(h," 14  1110  "+Keywords.vB,"",g,q,k,a,b);k=this.h(h," 15  1111  "+Keywords.zB,"",g,q,k,a,b);k=this.h(h,Keywords.vA,"suppress escaping gliders",
g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Randomize"];k=this.h(h,"","Randomize:",g,q,k,a,b);k=this.h(h,Keywords.iC,"create random pattern",g,q,k,a,b);k=this.h(h,Keywords.fC+" <string>","set random seed",g,q,k,a,b);k=this.h(h,Keywords.hC+" <"+ViewConstants.jG+".."+ViewConstants.bG+">","set random pattern width",g,q,k,a,b);k=this.h(h,Keywords.cC+" <"+ViewConstants.iG+".."+ViewConstants.aG+">","set random pattern height",g,q,k,a,b);k=this.h(h,Keywords.bC+" <"+ViewConstants.qw+".."+ViewConstants.kw+
">","set random pattern fill percentage",g,q,k,a,b);k=this.h(h,Keywords.Nw+" "+Keywords.Nd,"keep rule fixed",g,q,k,a,b);h.g.la||h.g.L?(k=this.h(h,Keywords.dC,"only generate reversible rules",g,q,k,a,b),this.h(h,Keywords.gC,"only generate fixed population rules",g,q,k,a,b)):h.g.pa||-1!==h.g.ke||(k=this.h(h,Keywords.Nw+" <item> <0..100>","set percentage chance for <item>",g,q,k,a,b),k=this.h(h," "+Keywords.Ng,"all conditions",g,q,k,a,b),k=this.h(h," "+Keywords.Mw,"all birth conditions",g,q,k,a,b),k=
this.h(h," "+Keywords.Tw,"all survival conditions",g,q,k,a,b),k=this.h(h," "+Keywords.Mw+"<0..n>","specified birth condition",g,q,k,a,b),this.h(h," "+Keywords.Tw+"<0..n>","specified survival condition",g,q,k,a,b))},lN:function(h,g,q,k,a,b){var d,f,m=Controller.Rd.length,n=h.Pg,p=h.g.mb[h.g.Uf],r=0,x=h.o.Ze;h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=128;h.ba[4]=430;h.ma[r]=[h.ea,"Top"];r+=1;k=this.h(h,"","Information",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Display"];r+=1;k=this.h(h,"","Display:",
g,q,k,a,b);k=this.h(h,"Size",h.J+" x "+h.H,g,q,k,a,b);k=this.h(h,"Scale",h.o.Ze.toFixed(2),g,q,k,a,b);k=this.h(h,"Pixel Ratio",h.devicePixelRatio.toFixed(2),g,q,k,a,b);k=this.h(h,"Window Zoom",h.Of.toFixed(2),g,q,k,a,b);k=this.h(h,"Refresh",h.Ma+"Hz ("+((h.to-h.Sz)/(ViewConstants.OA-1)).toFixed(1)+"ms)",g,q,k,a,b);DocConfig.Cs&&(k=this.h(h,"Limit Width",h.Ri,g,q,k,a,b));var t=h.g.oa;1>t&&(t=-1/t);k=this.h(h,"View","X "+-(h.g.width/2-(h.g.Ca+h.g.dc)|0)+"  Y "+-(h.g.height/2-(h.g.va+h.g.Zb)|0)+"  Z "+
t.toFixed(2)+"  ANGLE "+h.g.angle.toFixed(0),g,q,k,a,b);t=h.Qq;1>t&&(t=1/t);k=this.h(h,"Saved View","X "+-(h.g.width/2-h.uf|0)+"  Y "+-(h.g.height/2-h.Yj|0)+"  Z "+t.toFixed(2)+"  ANGLE "+h.yC.toFixed(0),g,q,k,a,b);k=this.h(h,"Origin","X "+h.g.dc.toFixed(2)+"  Y "+h.g.Zb.toFixed(2)+"  Z "+h.g.Bc.toFixed(3),g,q,k,a,b);var w=h.Oa?h.Bd?"Multi-State Viewer":"Viewer":h.g.ta?"History Player":"Player";w=h.Od?w+" (PopUp)":w+" (InLine)";k=this.h(h,"Type",w,g,q,k,a,b);w=h.g.T?"Hexagonal":h.g.P?"Triangular":
"Square";k=this.h(h,"Mode",w,g,q,k,a,b);w="Rectangular";h.g.T&&!h.g.sc?w="Hexagonal":h.g.P&&!h.g.sc&&(w="Triangular");k=this.h(h,"Cells",w,g,q,k,a,b);k=this.h(h,"Quality",h.g.xh?"High":"Standard",g,q,k,a,b);h.Vl&&(k=this.h(h,"Thumbnail","1/"+h.We,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Pattern"];r+=1;k=this.h(h,"","Pattern:",g,q,k,a,b);""!==h.xq&&(k=this.h(h,"Name",h.xq,g,q,k,a,b));""!==h.Xs&&(k=this.h(h,"Originator",h.Xs,g,q,k,a,b));k=this.h(h,"Actual Size",h.kb+" x "+h.qb,g,q,k,a,
b);-1!==h.Yk&&-1!==h.Xk&&(k=this.h(h,"Specified",h.Yk+" x "+h.Xk,g,q,k,a,b));0<h.Yg.length&&(k=this.h(h,"Pastes",h.Yg.length,g,q,k,a,b),k=this.h(h,"Paste Size",h.Zm-h.Wm+1+" x "+(h.$m-h.Vm+1)+" from ("+h.Wm+", "+h.Vm+") to ("+h.Zm+", "+h.$m+")",g,q,k,a,b),k=this.h(h,"Paste Max T",h.Jk+(h.Ij?" + "+Keywords.Or:""),g,q,k,a,b));0<h.Uj.length&&(k=this.h(h,"RLEs",h.Uj.length,g,q,k,a,b));0<h.Rk.length&&(k=this.h(h,"Recipes",h.Rk.length,g,q,k,a,b));k=this.h(h,"Offset","X "+h.Pb+"  Y "+h.Qb,g,q,k,a,b);h.vl&&
(k=this.h(h,"CXRLE Gen",h.Tg,g,q,k,a,b));h.wh&&(k=this.h(h,"CXRLE Pos","X "+h.en+"  Y "+h.fn,g,q,k,a,b));h.aE&&(k=this.h(h,"Clipped",(0===h.g.Aa?"Inf":h.g.Aa)+" x "+(0===h.g.wa?"Inf":h.g.wa)+" "+h.C.vE(h.g.xa),g,q,k,a,b));h.Fa?w=h.Jb:(w=h.Jb,""===w&&(w="(none)"));if("MAP"===w.substr(0,3)&&w.length===h.C.NF+3)for(k=this.h(h,"Rule","MAP",g,q,k,a,b),t=3;t<h.C.NF+3;)k=this.h(h,"  "+(t-3),w.substr(t,16),g,q,k,a,b),t+=16;else h.fh=!0,k=this.h(h,"Rule",w,g,q,k,a,b),h.fh=!1;""!==h.rd&&(k=this.h(h,"Alias",
h.rd,g,q,k,a,b));h.g.fa&&(k=null===h.g.he?this.h(h,"Type","@TREE ["+h.g.ki+"]",g,q,k,a,b):this.h(h,"Type","@TABLE ["+h.g.$g+(0<h.g.Jl?" / "+h.g.Jl:"")+"]",g,q,k,a,b));if(h.g.la)w="Margolus";else if(-1!==h.g.ke)w="1D";else if(h.g.Bw){w="Hexagonal";if(h.g.Vg===h.C.$r||h.g.pa&&h.g.za.type===h.C.oi)w="Tripod";h.g.pa&&h.g.za.type===h.C.Uh&&(w="Asterisk");1<h.g.za.hh&&(w+=" range "+h.g.za.hh)}else if(h.g.pa){switch(h.g.za.type){case h.C.jh:w="Corner/Edge";break;case h.C.ce:w="Moore";break;case h.C.Nf:w=
"von Neumann";break;case h.C.zk:w="Circular";break;case h.C.xj:w="Cross";break;case h.C.Xj:w="Saltire";break;case h.C.ak:w="Star";break;case h.C.Gk:w="L2";break;case h.C.Li:w="Hexagonal";break;case h.C.vj:w="Checkerboard";break;case h.C.pj:w="Aligned Checkerboard";break;case h.C.Gj:w="Hash";break;case h.C.km:w="Custom";break;case h.C.oi:w="Tripod";break;case h.C.Uh:w="Asterisk";break;case h.C.fj:w="Triangular";break;case h.C.Ii:w="Gaussian";break;case h.C.up:w="Weighted"}h.g.za.type===h.C.jh?w+=" range "+
h.g.za.Vf+"/"+h.g.za.Wf:1<h.g.za.hh&&(w+=" range "+h.g.za.hh)}else if(h.g.P)switch(w="Triangular",h.g.je){case h.C.pp:w+=" Edges";break;case h.C.qp:w+=" Vertices";break;case h.C.br:w+=" Inner";break;case h.C.cr:w+=" Outer"}else if(h.g.fa)if(null===h.g.he)w=4===h.g.Fg?"von Neumann":"Moore";else switch(h.g.Wj){case PatternConstants.Pq:w="von Neumann";break;case PatternConstants.Mq:w="Moore";break;case PatternConstants.Kl:w="Hexagonal";break;case PatternConstants.Oq:w="1D";break;default:w="unknown"}else w=
h.g.Oe||h.g.L?"von Neumann":h.g.Ga?"none":"Moore";k=this.h(h,"N'hood",w,g,q,k,a,b);if(h.g.pa)switch(h.g.za.type){case h.C.up:t=2*h.g.za.hh+1;for(d=0;d<t;d+=1)w=h.g.za.Ne.length>t*t?" "+h.g.za.Ne.substr(d*t*2,2*t):" "+h.g.za.Ne.substr(d*t,t),k=this.h(h,w,"",g,q,k,a,b);break;case h.C.km:for(t=2*h.g.za.hh+1,d=0;d<t;d+=1){w=" ";for(f=0;f<t;f+=1)w+=h.g.za.xo[d][f]?"1":"0";k=this.h(h,w,"",g,q,k,a,b)}}w=h.bn;2<h.bn&&h.Ys!==h.bn&&(w=h.Ys+" of "+w);k=this.h(h,"States",w,g,q,k,a,b);if(h.zq)for(d=1;d<h.bn;d+=
1)h.zq[d]&&(k=this.h(h,"State "+d,h.zq[d]+"\t"+h.Sp(d),g,q,k,a,b));if(h.g.ge)if(h.ba[1]=200,h.ba[2]=280,h.ba[3]=360,h.ba[4]=440,h.g.ge[0].Vy!==PatternConstants.sC)k=this.h(h,"Icons",PatternConstants.KN[h.g.ge[0].Vy],g,q,k,a,b);else for(k=this.h(h,"Icons","Size\tNumber\tColours\tGrayScale",g,q,k,a,b),d=0;d<h.g.ge.length;d+=1)t=h.g.ge[d].width,w=t+"x"+t+"\t"+h.g.ge[d].height/t+"\t"+h.g.ge[d].oG+"\t"+(h.g.ge[d].sF?"Yes":"No"),k=this.h(h,"  Set "+d,w,g,q,k,a,b);k=this.h(h,"Decoder",h.Pj,g,q,k,a,b);k=
this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Identify"];r+=1;k=this.h(h,"","Identify:",g,q,k,a,b);k=this.h(h,"Enabled",h.Gb?"Yes":"No",g,q,k,a,b);"none"!==h.Nb&&"Empty"!==h.Nb&&(k=this.h(h,"Type",h.Nb,g,q,k,a,b),k=this.h(h,"Cells",h.cq,g,q,k,a,b),"Oscillator"!==h.Nb||h.tg||(k=this.h(h,"ActiveCells",h.bw,g,q,k,a,b)),k=this.h(h,"BoundingBox",h.xs,g,q,k,a,b),"Oscillator"===h.Nb?(k=this.h(h,"Period",h.gq,g,q,k,a,b),h.tg||(k=this.h(h,"Mod",h.fq,g,q,k,a,b))):"Still Life"!==h.Nb&&(k=this.h(h,"Direction",h.ys,
g,q,k,a,b),k=this.h(h,"Period",h.gq,g,q,k,a,b),h.tg||(k=this.h(h,"Mod",h.fq,g,q,k,a,b)),k=this.h(h,"Slope",h.zs,g,q,k,a,b),k=this.h(h,"Speed",h.hq,g,q,k,a,b)),"Still Life"!==h.Nb&&(k=this.h(h,"Heat",h.eq,g,q,k,a,b)),"Oscillator"!==h.Nb||h.tg||(k=this.h(h,"Temperature",h.dw,g,q,k,a,b),k=this.h(h,"Volatility",h.As,g,q,k,a,b)),k=this.h(h,"Generation",h.cw,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Grid"];r+=1;k=this.h(h,"","Grid:",g,q,k,a,b);k=this.h(h,"Size",h.g.width+" x "+h.g.height,g,
q,k,a,b);k=this.h(h,"Maximum",h.g.ia+" x "+h.g.ia,g,q,k,a,b);k=this.h(h,"Area",this.kJ(h),g,q,k,a,b);k=0!==(h.g.counter&1)?this.h(h,"Tiles",h.g.Wl(h.g.ra)+" ["+h.g.Wl(h.g.Ae)+"] / "+h.g.Wl(h.g.La)+" / "+h.g.Wl(h.g.Da),g,q,k,a,b):this.h(h,"Tiles",h.g.Wl(h.g.ja)+" ["+h.g.Wl(h.g.Ae)+"] / "+h.g.Wl(h.g.La)+" / "+h.g.Wl(h.g.Da),g,q,k,a,b);h.g.Ig&&(k=this.h(h,"State6",h.g.Wl(h.g.Ig),g,q,k,a,b));k=this.h(h,"Tile Size",(h.g.ep<<3)+" x "+h.g.fp,g,q,k,a,b);k=this.h(h,"Generation",h.g.counter,g,q,k,a,b);0!==
h.Tg&&(k=this.h(h,"AbsoluteGen",h.g.counter+h.Tg,g,q,k,a,b));h.g.la&&(k=this.h(h,"MargolusGen",h.g.bf+h.Tg,g,q,k,a,b));h.g.L&&(k=this.h(h,"PCAGen",h.g.bf+h.Tg,g,q,k,a,b));(h.g.la||h.g.L)&&h.g.Yc&&(t=h.g.td,h.g.ud&&(t=!t),k=this.h(h,"Direction",t?"Reverse":"Forward",g,q,k,a,b));k=this.h(h,"DeleteRange",h.g.ot,g,q,k,a,b);h.g.wj&&(k=this.h(h,"KillGliders",h.g.Ms,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);-1!==h.g.xa&&(h.ma[r]=[h.ea,"Bounded"],r+=1,k=this.h(h,"","Bounded grid:",g,q,k,a,b),k=this.h(h,"Type",
h.C.vE(h.g.xa),g,q,k,a,b),k=0===h.g.Aa?this.h(h,"Width","Infinite",g,q,k,a,b):this.h(h,"Width",h.g.Aa,g,q,k,a,b),4!==h.g.xa&&(k=0===h.g.wa?this.h(h,"Height","Infinite",g,q,k,a,b):this.h(h,"Height",h.g.wa,g,q,k,a,b),2===h.g.xa&&(k=h.g.Nu?this.h(h,"Twist","Horizontal",g,q,k,a,b):this.h(h,"Twist","Vertical",g,q,k,a,b)),0!==h.g.Pn&&(k=this.h(h,"H'Shift",h.g.Pn,g,q,k,a,b)),0!==h.g.Qn&&(k=this.h(h,"V'Shift",h.g.Qn,g,q,k,a,b))),k=this.h(h,"","",g,q,k,a,b));h.ma[r]=[h.ea,"AutoFit"];r+=1;k=this.h(h,"","AutoFit:",
g,q,k,a,b);k=this.h(h,"Enabled",h.Ec?"On":"Off",g,q,k,a,b);k=this.h(h,"Mode",this.rJ(h),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Track"];r+=1;k=this.h(h,"","Track:",g,q,k,a,b);k=this.h(h,"Enabled",h.Be&&!h.Mf?"On":"Off",g,q,k,a,b);h.Be&&(h.kp?(k=this.h(h,"Mode","Track Box",g,q,k,a,b),k=this.h(h,"Definition","E "+h.Fn.toFixed(3)+"  S "+h.Gn.toFixed(3)+"  W "+h.mp.toFixed(3)+"  N "+h.lp.toFixed(3),g,q,k,a,b)):(k=this.h(h,"Mode","Track",g,q,k,a,b),k=this.h(h,"Definition","X "+h.Fn.toFixed(3)+
"  Y "+h.Gn.toFixed(3),g,q,k,a,b)));k=this.h(h,"Current","E "+h.Zu.toFixed(3)+"  S "+h.av.toFixed(3)+"  W "+h.bv.toFixed(3)+"  N "+h.$u.toFixed(3),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Undo/Redo"];r+=1;k=this.h(h,"","Undo/Redo:",g,q,k,a,b);k=this.h(h,"Enabled",h.de?"Off":"On",g,q,k,a,b);if(!h.de)for(k=this.h(h,"Snapshots",h.g.dh.SO()+"/"+h.g.dh.uj.length,g,q,k,a,b),k=this.h(h,"Buffer",(h.g.dh.bufferSize()>>10)+"K",g,q,k,a,b),k=this.h(h,"Next Gen",h.g.yo,g,q,k,a,b),k=this.h(h,"Undo",
h.zc,g,q,k,a,b),k=this.h(h,"Redo",h.Bo-h.zc,g,q,k,a,b),d=0;9>=d;d+=1)null!==h.$f[d]&&(k=this.h(h,"Clip "+d+(d===h.Qg?"*":""),h.$f[d].width+" x "+h.$f[d].height,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Engine"];r+=1;k=this.h(h,"","Engine:",g,q,k,a,b);k=this.h(h,"Name",ViewConstants.Pr,g,q,k,a,b);k=this.h(h,"Build",ViewConstants.Lx,g,q,k,a,b);k=this.h(h,"Author",ViewConstants.dI,g,q,k,a,b);k=this.h(h,"Decoders","RLE, Life 1.06, Life 1.05, Cells",g,q,k,a,b);k=this.h(h,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",
g,q,k,a,b);k=this.h(h," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",g,q,k,a,b);k=this.h(h," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",g,q,k,a,b);k=this.h(h," ","Far Corners/Edges and Custom (CoordCA)",g,q,k,a,b);k=this.h(h,"Rules","Wolfram, Totalistic, Generations, Margolus,",g,q,k,a,b);k=this.h(h," ","Isotropic Non-Totalistic (Hensel, Callahan),",g,q,k,a,b);k=this.h(h," ","Alternating, MAP, Larger than Life (LtL),",g,q,k,a,b);k=this.h(h," ","Higher-range outer-totalistic (HROT), Gaussian,",
g,q,k,a,b);k=this.h(h," ","Partitioned cellular automata (PCA), Weighted,",g,q,k,a,b);k=this.h(h," ","[R]History and [R]Super",g,q,k,a,b);k=this.h(h,"Repository","RuleTable (@TABLE, @TREE, @COLORS and",g,q,k,a,b);k=this.h(h," ","@NAMES)",g,q,k,a,b);k=this.h(h,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",g,q,k,a,b);k=this.h(h,"Viewers",m,g,q,k,a,b);k=this.h(h,"Playing",Controller.bP(),g,q,k,a,b);if(DocConfig.Ya){t=Controller.Se.length;k=this.h(h,"Universe","Multi ("+(h.gd+1)+" of "+
t+")",g,q,k,a,b);h.fh=!0;for(d=0;d<t;d+=1)k=this.h(h,String(d+1)+(d===h.gd?"*":""),Controller.Se[d].name,g,q,k,a,b),k=this.h(h," ",Controller.Se[d].EN,g,q,k,a,b),k=this.h(h," ",Controller.Se[d].width+" x "+Controller.Se[d].height,g,q,k,a,b);h.fh=!1}else k=this.h(h,"Universe","Single",g,q,k,a,b);k=this.h(h,"Exclusive",h.Bv?"Yes":"No",g,q,k,a,b);k=this.h(h,"IgnorePause",h.ls?"Yes":"No",g,q,k,a,b);k=this.h(h,"Endian",littleEndian?"Little":"Big",g,q,k,a,b);k=this.h(h,"ArrayFill",arrayFill?"Yes":"No",
g,q,k,a,b);k=this.h(h,"ArraySlice",arraySlice?"Yes":"No",g,q,k,a,b);k=this.h(h,"CopyWithin",copyWithin?"Yes":"No",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ba[1]=300;h.ba[2]=380;h.ba[3]=460;h.ma[r]=[h.ea,"Rule Cache"];r+=1;k=this.h(h,"","Rule Cache:",g,q,k,a,b);k=this.h(h,"Entries",RuleTreeCache.rules.length,g,q,k,a,b);if(0<RuleTreeCache.rules.length)for(k=this.h(h,"Entry","Name\tSize Kb\tFetch\tDecode",g,q,k,a,b),d=0;d<RuleTreeCache.rules.length;d+=1)w=RuleTreeCache.rules[d].name,17<w.length&&(w=
w.substr(0,17)+"*"),k=this.h(h,String(d),w+"\t"+(RuleTreeCache.mw[d].size>>10)+"\t"+RuleTreeCache.mw[d].fetch+"ms\t"+RuleTreeCache.mw[d].decode+"ms",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ba[1]=210;h.ba[2]=270;h.ba[3]=330;if(h.g.Ga)for(h.ma[r]=[h.ea,"Colours"],r+=1,k=this.h(h,"","Set:",g,q,k,a,b),k=this.h(h,"Name",h.vr,g,q,k,a,b),k=this.h(h,"Used",h.Ys,g,q,k,a,b),d=0;d<h.Xn.length;d+=1)h.Xn[d]!==ViewConstants.RC&&(m=this.jc(n[d]>>16&255,n[d]>>8&255,n[d]&255),w=String(d),h.Xn[d]!==ViewConstants.IH||
h.Du||(w+="*"),this.$a(h,n[d]>>16,n[d]>>8&255,n[d]&255,g,q+h.ba[0]*x,k,a,b),k=this.h(h,w,m,g,q,k,a,b));else{h.ma[r]=[h.ea,"Theme"];r+=1;k=this.h(h,"","Theme:",g,q,k,a,b);h.g.fa||h.g.V||(k=this.h(h,"Name",h.g.mb[h.g.Uf].name,g,q,k,a,b),k=this.h(h,"History",h.K,g,q,k,a,b),2>=h.g.i&&(k=this.h(h,"Age",h.Ai,g,q,k,a,b)));this.$a(h,h.g.Ua[0],h.g.Ta[0],h.g.Ra[0],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Background",this.jc(h.g.Ua[0],h.g.Ta[0],h.g.Ra[0]),g,q,k,a,b);if(h.g.Ga||h.g.fa)for(d=1;d<h.g.i;d+=1)this.$a(h,
h.g.Ua[d],h.g.Ta[d],h.g.Ra[d],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"State "+d,this.jc(h.g.Ua[d],h.g.Ta[d],h.g.Ra[d]),g,q,k,a,b);else if(h.g.L){for(d=1;16>d;d+=1)f=d+h.K,this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b),w="",d&1&&(w+="N"),d&2&&(w+="E"),d&4&&(w+="S"),d&8&&(w+="W"),k=this.h(h,w,this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b);0<h.K&&(f=h.K,this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Dead",this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b),1<h.K&&(f=
1,this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"DeadRamp",this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b)))}else if(2<h.g.i)if(h.g.V)for(d=1;d<h.g.i;d+=1)this.$a(h,h.g.Ua[d],h.g.Ta[d],h.g.Ra[d],g,q+h.ba[0]*x,k,a,b),k=this.h(h,this.tO(d),this.jc(h.g.Ua[d],h.g.Ta[d],h.g.Ra[d]),g,q,k,a,b);else{f=h.g.i+h.K-1;this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Alive",this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b);for(d=1;d<h.g.i-1;d+=1)f=h.g.i-d+h.K-
1,this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Dying "+d,this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b);0<h.K&&(f=h.K,this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Dead",this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b),1<h.K&&(f=1,this.$a(h,h.g.Ua[f],h.g.Ta[f],h.g.Ra[f],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"DeadRamp",this.jc(h.g.Ua[f],h.g.Ta[f],h.g.Ra[f]),g,q,k,a,b)))}else this.$a(h,p.Bb.aa.red,p.Bb.aa.green,p.Bb.aa.blue,g,q+h.ba[0]*x,k,a,b),k=
this.h(h,"Alive",this.Dg(p.Bb.aa),g,q,k,a,b),p.Bb.aa.red!==p.Bb.ca.red||p.Bb.aa.green!==p.Bb.ca.green||p.Bb.aa.blue!==p.Bb.ca.blue?(this.$a(h,p.Bb.ca.red,p.Bb.ca.green,p.Bb.ca.blue,g,q+h.ba[0]*x,k,a,b),k=this.h(h,"AliveRamp",this.Dg(p.Bb.ca),g,q,k,a,b)):k=this.h(h,"AliveRamp","    (none)",g,q,k,a,b),0<h.K&&(this.$a(h,p.ob.ca.red,p.ob.ca.green,p.ob.ca.blue,g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Dead",this.Dg(p.ob.ca),g,q,k,a,b),1<h.K&&(p.ob.aa.red!==p.ob.ca.red||p.ob.aa.green!==p.ob.ca.green||p.ob.aa.blue!==
p.ob.ca.blue?(this.$a(h,p.ob.aa.red,p.ob.aa.green,p.ob.aa.blue,g,q+h.ba[0]*x,k,a,b),k=this.h(h,"DeadRamp",this.Dg(p.ob.aa),g,q,k,a,b)):k=this.h(h,"DeadRamp","    (none)",g,q,k,a,b)));if(h.g.ta)for(d=3;6>=d;d+=1)t=128+ViewConstants.bb[d],m=this.jc(h.g.Ua[t],h.g.Ta[t],h.g.Ra[t]),w=ViewConstants.mi[d],this.$a(h,h.g.Ua[t],h.g.Ta[t],h.g.Ra[t],g,q+h.ba[0]*x,k,a,b),k=this.h(h,w,m,g,q,k,a,b)}-1!==h.g.tc&&(-1!==h.g.xa&&256>h.g.i+h.g.K?(this.$a(h,h.jm[0],h.jm[1],h.jm[2],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Bounded",
this.jc(h.jm[0],h.jm[1],h.jm[2]),g,q,k,a,b)):(this.$a(h,h.g.Ua[2],h.g.Ta[2],h.g.Ra[2],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Bounded*",this.jc(h.g.Ua[2],h.g.Ta[2],h.g.Ra[2]),g,q,k,a,b)));this.$a(h,h.im[0],h.im[1],h.im[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Boundary",this.jc(h.im[0],h.im[1],h.im[2]),g,q,k,a,b);h.Zh?(this.$a(h,h.Zh[0],h.Zh[1],h.Zh[2],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Text*",this.jc(h.Zh[0],h.Zh[1],h.Zh[2]),g,q,k,a,b)):(this.$a(h,255,255,255,g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Text",this.jc(255,
255,255),g,q,k,a,b));h.ol?(this.$a(h,h.ol[0],h.ol[1],h.ol[2],g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Error*",this.jc(h.ol[0],h.ol[1],h.ol[2]),g,q,k,a,b)):(this.$a(h,255,96,96,g,q+h.ba[0]*x,k,a,b),k=this.h(h,"Error",this.jc(255,96,96),g,q,k,a,b));this.$a(h,h.mm[0],h.mm[1],h.mm[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Select",this.jc(h.mm[0],h.mm[1],h.mm[2]),g,q,k,a,b);this.$a(h,h.lm[0],h.lm[1],h.lm[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Paste",this.jc(h.lm[0],h.lm[1],h.lm[2]),g,q,k,a,b);this.$a(h,h.hm[0],h.hm[1],
h.hm[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Advance",this.jc(h.hm[0],h.hm[1],h.hm[2]),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Gridlines"];r+=1;k=this.h(h,"","Gridlines:",g,q,k,a,b);w=h.g.qc?"On":"Off";h.g.qc&&!h.g.Vh()&&(w+=" (Hidden)");k=this.h(h,"Enabled",w,g,q,k,a,b);this.$a(h,h.g.$d>>16,h.g.$d>>8&255,h.g.$d&255,g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Line Color",this.jc(h.g.$d>>16,h.g.$d>>8&255,h.g.$d&255),g,q,k,a,b);this.$a(h,h.g.sg>>16,h.g.sg>>8&255,h.g.sg&255,g,q+h.ba[0]*x,k,a,b);k=this.h(h,
"Major Color",this.jc(h.g.sg>>16,h.g.sg>>8&255,h.g.sg&255),g,q,k,a,b);w=0<h.g.lf&&h.g.zl?String(h.g.lf):"Off";k=this.h(h,"Interval",w,g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Graph"];r+=1;k=this.h(h,"","Population Graph:",g,q,k,a,b);k=this.h(h,"Enabled",h.sd?"On":"Off",g,q,k,a,b);k=this.h(h,"Disabled",h.Ac?"On":"Off",g,q,k,a,b);k=this.h(h,"Mode",h.vh?"Lines":"Points",g,q,k,a,b);k=this.h(h,"Opacity",h.Dd.toFixed(2),g,q,k,a,b);this.$a(h,h.g.Dj[0],h.g.Dj[1],h.g.Dj[2],g,q+h.ba[0]*x,k,a,b);
k=this.h(h,"Bg Color",this.jc(h.g.Dj[0],h.g.Dj[1],h.g.Dj[2]),g,q,k,a,b);this.$a(h,h.g.Cj[0],h.g.Cj[1],h.g.Cj[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Axis Color",this.jc(h.g.Cj[0],h.g.Cj[1],h.g.Cj[2]),g,q,k,a,b);this.$a(h,h.g.Bj[0],h.g.Bj[1],h.g.Bj[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Alive Color",this.jc(h.g.Bj[0],h.g.Bj[1],h.g.Bj[2]),g,q,k,a,b);this.$a(h,h.g.Ej[0],h.g.Ej[1],h.g.Ej[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Birth Color",this.jc(h.g.Ej[0],h.g.Ej[1],h.g.Ej[2]),g,q,k,a,b);this.$a(h,h.g.Fj[0],h.g.Fj[1],
h.g.Fj[2],g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Death Color",this.jc(h.g.Fj[0],h.g.Fj[1],h.g.Fj[2]),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Randomize"];r+=1;k=this.h(h,"","Randomize:",g,q,k,a,b);k=this.h(h,"Pattern",h.Xw?"On":"Off",g,q,k,a,b);k=this.h(h,"Custom Seed",h.eC?"On":"Off",g,q,k,a,b);k=this.h(h,"Seed",h.Uw,g,q,k,a,b);k=this.h(h,"Width",h.Ww,g,q,k,a,b);k=this.h(h,"Height",h.Rw,g,q,k,a,b);k=this.h(h,"Fill",h.Pw+"%",g,q,k,a,b);k=this.h(h,"Rule Fixed",h.nt?"Yes":"No",g,q,k,a,b);if(!h.nt)if(h.g.la||
h.g.L)k=this.h(h,"Reversible",h.Sw?"Only":"Any",g,q,k,a,b),k=this.h(h,"FixedPop",h.Vw?"Yes":"No",g,q,k,a,b);else if(!h.g.pa&&-1===h.g.ke){if(-1===h.Gl&&-1===h.jn){k=this.h(h,"Chance ALL"+(-1===h.Fl?"*":""),-1===h.Fl?"50%":h.Fl+"%",g,q,k,a,b);t=!1;for(d=0;d<h.ji.length;d+=2)0===h.ji[d]&&(t=!0);t||(k=this.h(h,"Chance B0*","25%",g,q,k,a,b))}else k=this.h(h,"Chance B"+(-1===h.Gl?"*":""),-1===h.Gl?"50%":h.Gl+"%",g,q,k,a,b),k=this.h(h,"Chance S"+(-1===h.jn?"*":""),-1===h.jn?"50%":h.jn+"%",g,q,k,a,b);for(d=
0;d<h.ji.length;d+=2)k=this.h(h,"Chance B"+h.ji[d],h.ji[d+1]+"%",g,q,k,a,b);for(d=0;d<h.Sj.length;d+=2)k=this.h(h,"Chance S"+h.Sj[d],h.Sj[d+1]+"%",g,q,k,a,b)}k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Stars"];r+=1;k=this.h(h,"","Stars:",g,q,k,a,b);k=this.h(h,"Enabled",h.Zi?"On":"Off",g,q,k,a,b);this.$a(h,h.Sl.red,h.Sl.green,h.Sl.blue,g,q+h.ba[0]*x,k,a,b);k=this.h(h,"Color",this.Dg(h.Sl),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Script"];r+=1;k=this.h(h,"","Script:",g,q,k,a,b);k=this.h(h,
"Commands",h.Co,g,q,k,a,b);k=this.h(h,"Errors",h.iB,g,q,k,a,b);if(h.Wc)for(k=this.h(h,"","",g,q,k,a,b),h.ma[r]=[h.ea,"Waypoints"],r+=1,k=this.h(h,"","Waypoints:",g,q,k,a,b),k=this.h(h,"Enabled",h.Ye?"Off":"On",g,q,k,a,b),k=this.h(h,"Number",h.X.Va.length,g,q,k,a,b),d=0;d<h.X.Va.length;d+=1)w=String(d),d===h.X.bj&&(w=h.X.sE(h.elapsedTime)?w+">":w+"*"),k=this.h(h,w,h.X.cP(d),g,q,k,a,b);if(h.X.yc.length)for(k=this.h(h,"","",g,q,k,a,b),h.ma[r]=[h.ea,"POIs"],k=this.h(h,"","Points of interest:",g,q,k,a,
b),k=this.h(h,"Number",h.X.yc.length,g,q,k,a,b),d=0;d<h.X.yc.length;d+=1)w=String(d+1),d===h.kh&&(w+="*"),d===h.Yn&&(w+=" INITIAL"),t=!1,n=h.X.EM(d),""!==n&&(k=this.h(h,t?" ":w,(t?"  ":"")+n,g,q,k,a,b),t=!0),n=h.X.IM(d),""!==n&&(k=this.h(h,t?" ":w,(t?"  ":"")+n,g,q,k,a,b),t=!0),n=h.X.FM(d),""!==n&&(k=this.h(h,t?" ":w,(t?"  ":"")+n,g,q,k,a,b),t=!0),n=h.X.WG(d),""!==n&&(k=this.h(h,t?" ":w,(t?"  ":"")+n,g,q,k,a,b),t=!0),n=h.X.HM(d),""!==n&&(k=this.h(h,t?" ":w,(t?"  ":"")+n,g,q,k,a,b),t=!0),n=h.X.GM(d),
""!==n&&(k=this.h(h,t?" ":w,(t?"  ":"")+n,g,q,k,a,b))},pN:function(h,g,q,k,a,b){var d,f=0,m=h.o.Ze;h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=130;h.ba[1]=200;h.ba[2]=250;h.ba[3]=300;h.ba[4]=380;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Themes",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Themes are used to provide a visual representation of",g,q,k,a,b);k=this.h(h,"","cell history and longevity and also define grid colours",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Grid"];f+=1;k=this.h(h,"",
"Grid:",g,q,k,a,b);k=this.h(h,"GRID","grid line colour",g,q,k,a,b);k=this.h(h,"GRIDMAJOR","major grid line colour and interval",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"2-State"];f+=1;k=this.h(h,"","Two-state Themes:",g,q,k,a,b);k=this.h(h,"BACKGROUND","cell never occupied",g,q,k,a,b);k=this.h(h,"ALIVE","cell just born",g,q,k,a,b);k=this.h(h,"ALIVERAMP","cell alive for several generations",g,q,k,a,b);k=this.h(h,"DEAD","cell just died",g,q,k,a,b);k=this.h(h,"DEADRAMP","cell dead for several generations",
g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"",h.Ai+" ("+Keywords.hr+") states from ALIVE to ALIVERAMP",g,q,k,a,b);k=this.h(h,"",h.K+" ("+Keywords.bs+") states from DEAD to DEADRAMP",g,q,k,a,b);for(d=0;d<h.g.mb.length-1;d+=1){k=this.h(h,"","",g,q,k,a,b);var n=h.g.mb[d];k=this.h(h,"Name"+(d===h.g.Uf&&2>=h.g.i?"*":""),n.name,g,q,k,a,b);this.$a(h,n.rb.red,n.rb.green,n.rb.blue,g,q+h.ba[0]*m,k,a,b);k=this.h(h,"BACKGROUND",this.Dg(n.rb),g,q,k,a,b);this.$a(h,n.Bb.aa.red,n.Bb.aa.green,n.Bb.aa.blue,
g,q+h.ba[0]*m,k,a,b);k=this.h(h,"ALIVE",this.Dg(n.Bb.aa),g,q,k,a,b);if(n.Bb.aa.red!==n.Bb.ca.red||n.Bb.aa.green!==n.Bb.ca.green||n.Bb.aa.blue!==n.Bb.ca.blue)this.$a(h,n.Bb.ca.red,n.Bb.ca.green,n.Bb.ca.blue,g,q+h.ba[0]*m,k,a,b),k=this.h(h,"ALIVERAMP",this.Dg(n.Bb.ca),g,q,k,a,b);this.$a(h,n.ob.ca.red,n.ob.ca.green,n.ob.ca.blue,g,q+h.ba[0]*m,k,a,b);k=this.h(h,"DEAD",this.Dg(n.ob.ca),g,q,k,a,b);if(n.ob.aa.red!==n.ob.ca.red||n.ob.aa.green!==n.ob.ca.green||n.ob.aa.blue!==n.ob.ca.blue)this.$a(h,n.ob.aa.red,
n.ob.aa.green,n.ob.aa.blue,g,q+h.ba[0]*m,k,a,b),k=this.h(h,"DEADRAMP",this.Dg(n.ob.aa),g,q,k,a,b);n.yl&&(this.$a(h,n.bi>>16,n.bi>>8&255,n.bi&255,g,q+h.ba[0]*m,k,a,b),k=this.h(h,"GRID",this.jc(n.bi>>16,n.bi>>8&255,n.bi&255),g,q,k,a,b),this.$a(h,n.ci>>16,n.ci>>8&255,n.ci&255,g,q+h.ba[0]*m,k,a,b),k=this.h(h,"GRIDMAJOR",this.jc(n.ci>>16,n.ci>>8&255,n.ci&255),g,q,k,a,b),k=this.h(h,"GRIDMAJOR",n.wm,g,q,k,a,b))}k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Multi"];k=this.h(h,"","Multi-state Themes:",g,q,k,
a,b);k=this.h(h,"BACKGROUND","cell never occupied",g,q,k,a,b);k=this.h(h,"ALIVE","cell alive",g,q,k,a,b);k=this.h(h,"DYING","cell just starting dying",g,q,k,a,b);k=this.h(h,"DYINGRAMP","cell about to die",g,q,k,a,b);k=this.h(h,"DEAD","cell just died",g,q,k,a,b);k=this.h(h,"DEADRAMP","cell dead for several generations",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Rule defines "+(2>h.g.i?"":String(h.g.i-1)+" ")+"states from DYING to DYINGRAMP",g,q,k,a,b);k=this.h(h,"",h.K+" (HISTORYSTATES) states from DEAD to DEADRAMP",
g,q,k,a,b);for(d=0;d<h.g.mb.length-1;d+=1){k=this.h(h,"","",g,q,k,a,b);n=h.g.mb[d];k=this.h(h,"Name"+(d===h.g.Uf&&2<h.g.i?"*":""),n.name,g,q,k,a,b);this.$a(h,n.gj.red,n.gj.green,n.gj.blue,g,q+h.ba[0]*m,k,a,b);k=this.h(h,"BACKGROUND",this.Dg(n.gj),g,q,k,a,b);this.$a(h,n.Mg.red,n.Mg.green,n.Mg.blue,g,q+h.ba[0]*m,k,a,b);k=this.h(h,"ALIVE",this.Dg(n.Mg),g,q,k,a,b);this.$a(h,n.cc.ca.red,n.cc.ca.green,n.cc.ca.blue,g,q+h.ba[0]*m,k,a,b);k=this.h(h,"DYING",this.Dg(n.cc.ca),g,q,k,a,b);if(n.cc.aa.red!==n.cc.ca.red||
n.cc.aa.green!==n.cc.ca.green||n.cc.aa.blue!==n.cc.ca.blue)this.$a(h,n.cc.aa.red,n.cc.aa.green,n.cc.aa.blue,g,q+h.ba[0]*m,k,a,b),k=this.h(h,"DYINGRAMP",this.Dg(n.cc.aa),g,q,k,a,b);this.$a(h,n.Rc.ca.red,n.Rc.ca.green,n.Rc.ca.blue,g,q+h.ba[0]*m,k,a,b);k=this.h(h,"DEAD",this.Dg(n.Rc.ca),g,q,k,a,b);if(n.Rc.aa.red!==n.Rc.ca.red||n.Rc.aa.green!==n.Rc.ca.green||n.Rc.aa.blue!==n.Rc.ca.blue)this.$a(h,n.Rc.aa.red,n.Rc.aa.green,n.Rc.aa.blue,g,q+h.ba[0]*m,k,a,b),k=this.h(h,"DEADRAMP",this.Dg(n.Rc.aa),g,q,k,a,
b)}},hN:function(h,g,q,k,a,b){var d,f=ColourManager.Pg,m=Object.keys(f),n=h.o.Ze;h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=260;h.ba[1]=330;h.ba[2]=380;h.ba[3]=430;h.ba[4]=h.J;h.ma[0]=[h.ea,"Top"];k=this.h(h,"","Colours",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","The following names can be used in place of R G B",g,q,k,a,b);k=this.h(h,"","for example [[ COLOUR ALIVE Green ]]",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);for(d=0;d<m.length;d+=1){var p=f[m[d]];this.$a(h,p[1],p[2],p[3],g,q+h.ba[0]*n,k,a,b);
k=this.h(h,p[0],this.jc(p[1],p[2],p[3]),g,q,k,a,b)}},fN:function(h,g,q,k,a,b){var d,f=0,m=AliasManager.Pc,n=AliasManager.BC;h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=260;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Aliases",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Alias names can be used as rule names in RLE",g,q,k,a,b);k=this.h(h,"","for example 'rule = HighLife'",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","* denotes duplicate definition",g,q,k,a,b);k=this.h(h,"","+ denotes duplicate alias name",
g,q,k,a,b);h.fh=!0;for(d=0;d<m.length;d+=1)""===m[d][1]?(k=this.h(h,"","",g,q,k,a,b),h.ma[f]=[h.ea,n[f-1]],f+=1,k=this.h(h,"",m[d][0]+" Aliases:",g,q,k,a,b)):""!==m[d][0]&&(k=this.h(h,m[d][0]+" "+(m[d][2]?"*":"")+(m[d][3]?"+":""),m[d][1],g,q,k,a,b))},nN:function(h,g,q,k,a,b){var d,f=0,m=Controller.Rd.length,n=0,p=0,r=0,x=0,t;h.ea=1;h.fh=!1;h.ma=[];h.ba[0]=128;h.ba[1]=200;h.ba[2]=290;h.ba[3]=530;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Memory usage",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);if(1<m){h.ma[f]=
[h.ea,"All"];f+=1;k=this.h(h,"","Memory (all "+m+" LifeViewers):",g,q,k,a,b);for(d=0;d<m;d+=1)if(t=Controller.XK(d))n+=t.g.A.Ls,r+=t.g.A.ip>>10,p+=t.g.A.Ns,x+=t.g.A.jp>>10;k=this.h(h,"In Use",n-p+"\t"+((r>>10)-(x>>10))+"M",g,q,k,a,b);k=this.h(h,"Allocations",n+"\t"+(r>>10)+"M",g,q,k,a,b);k=this.h(h,"Frees",p+"\t"+(x>>10)+"M",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b)}h.ma[f]=[h.ea,"Current"];k=this.h(h,"","Memory (this LifeViewer):",g,q,k,a,b);k=this.h(h,"In Use",h.g.A.Ls-h.g.A.Ns+"\t"+this.Oy(h.g.A.ip-
h.g.A.jp)+"M\t"+(h.g.A.ip-h.g.A.jp),g,q,k,a,b);k=this.h(h,"Allocations",h.g.A.Ls+"\t"+this.Oy(h.g.A.ip)+"M\t"+h.g.A.ip,g,q,k,a,b);k=this.h(h,"Frees",h.g.A.Ns+"\t"+this.Oy(h.g.A.jp)+"M\t"+h.g.A.jp,g,q,k,a,b);k=this.h(h,this.vG("Bytes",10),"Type\tElements\tName\tCount",g,q,k,a,b);for(d=0;d<h.g.A.Sh.length;d+=1)k=this.h(h,this.vG(String(h.g.A.Sh[d].size),10),h.g.A.hJ(d),g,q,k,a,b);this.h(h,"","",g,q,k,a,b)},xv:function(h){var g=h.Jc,q=h.o.Ze,k=h.o.Jh,a=19*k;h.qd=(h.H/a|0)-6;g.fillStyle="black";g.globalAlpha=
.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.Zr;this.Ml=2;u.jH(h,g,6*q,14*k,a,h.ha|0);g.fillStyle=ViewConstants.Wp;this.Ml=0;u.jH(h,g,6*q,14*k,a,h.ha|0)},iN:function(h,g,q,k,a,b,d,f,m,n){var p=f,r=h.o.Ze,x=this.Ml*r,t=this.Ml*h.o.Ze,w=0,z=!1,y=h.ea;b.fillStyle===ViewConstants.Zr&&(z=!0);y>=n&&y<=n+h.qd&&(b.font=h.Vp,z||(b.fillStyle=1<(h.pc|0)?h.Aj:ViewConstants.Hv),b.fillText(g,d+x,f+t),z||(b.fillStyle=h.Aj),b.fillText(q,d+x+b.measureText(g).width,f+
t),z||(b.fillStyle=(h.pc|0)<h.Ed.length-h.qd+1?h.Aj:ViewConstants.Hv),b.fillText(k,d+x+b.measureText(g+q).width,f+t),h.ba[0]&&(w=h.ba[0]*r),z||(b.fillStyle=h.Aj),b.font=h.zm,b.fillText(a,d+x+w,f+t),p+=m);return p},cx:function(h,g,q,k,a,b,d,f){var m=b,n=h.o.Ze,p=0,r=h.ea;r>=f&&r<=f+h.qd&&(g.length&&(k.font=h.Vp,k.fillText(g,a,b),p=k.measureText(g+" ").width),h.ba[0]&&(p=h.ba[0]*n),k.font=h.zm,k.fillText(q,a+p,b),m+=d);h.ea+=1;return m},iH:function(h,g,q,k,a,b){var d,f=h.Ed,m=k;h.ea=1;h.ba[0]=0;g.font=
h.zm;k=this.cx(h,"",ViewConstants.TN,g,q,k,a,b);for(d=0;d<f.length;d+=1)k=this.cx(h,f[d][0],f[d][1],g,q,k,a,b);h.wb||(h.ba[0]=120,h.ea=1,k=m+a*(h.qd+2),k=this.iN(h,"Up"," / ","Down","scroll errors",g,q,k,a,0),k=this.cx(h,"Esc","clear messages",g,q,k,a,0),this.cx(h,"H  ","help on script commands",g,q,k,a,0))},Iz:function(h){var g=h.Jc,q=h.o.Ze,k=h.o.Jh,a=19*k,b=7;h.wb&&(b=1);h.qd=(h.H/a|0)-b;g.fillStyle="black";g.globalAlpha=.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=
ViewConstants.Zr;this.iH(h,g,6*q,14*k,a,h.pc|0);g.fillStyle=h.Aj;this.iH(h,g,4*q,12*k,a,h.pc|0)}};window.Help=u}(),window.Keywords={Fd:'"',To:"[[",Rq:"]]",$B:"QUALITY",OH:"TIME",NB:"PLAYTIME",TC:"SUPPRESS",Ew:"POIT",mc:"INITIAL",Ib:"OFF",QC:"STATE1FIT",et:"POIRESET",Dq:"POIPLAY",Eq:"POISTOP",ft:"POITRANS",OB:"POIADDLABELS",Zz:"HARDRESET",Mt:"TRACK",np:"TRACKBOX",Lt:"TRACKLOOP",dB:"NOREPORT",Gv:"GRAPH",xw:"NOGRAPH",Wz:"GRAPHOPACITY",Xz:"GRAPHPOINTS",cB:"NOPERFWARNING",fA:"AUTOHIDEGUI",Ng:"ALL",ei:"LINEAR",
tj:"BEZIER",mP:"HEXDISPLAY",sP:"SQUAREDISPLAY",GD:"TRIANGULARCELLS",aA:"HEXCELLS",sx:"SQUARECELLS",Ty:"CELLBORDERS",DF:"INTEGERZOOM",iC:"RANDOMIZE",fC:"RANDSEED",hC:"RANDWIDTH",cC:"RANDHEIGHT",bC:"RANDFILL",dC:"RANDREVERSIBLE",gC:"RANDFIXEDPOP",Nw:"RANDCHANCE",Mw:"B",Tw:"S",Dz:"DELETERANGE",IC:"SHOWTIMING",Qz:"EXTENDEDTIMING",GC:"SHOWGENSTATS",HC:"SHOWINFOBAR",fB:"NOSOURCE",Fw:"POI",$q:"TITLE",aH:"POLY",Gw:"POLYFILL",RB:"POLYLINE",PB:"POLYALPHA",SB:"POLYSIZE",TB:"POLYT",QB:"POLYANGLE",WB:"POLYZOOMRANGE",
UB:"POLYTRACK",VB:"POLYVIEWDIST",kr:"ARROW",Hy:"ARROWALPHA",Jy:"ARROWSIZE",Ky:"ARROWT",Iy:"ARROWANGLE",Ny:"ARROWZOOMRANGE",Ly:"ARROWTRACK",My:"ARROWVIEWDIST",ws:"LABEL",wA:"LABELALPHA",yA:"LABELSIZE",zA:"LABELT",xA:"LABELANGLE",CA:"LABELZOOMRANGE",AA:"LABELTRACK",BA:"LABELVIEWDIST",Nd:"FIXED",MA:"MAXGRIDSIZE",zt:"STARS",Zq:"CUSTOM",Px:"XOFFSET",Qx:"YOFFSET",zx:"BACKGROUND",yx:"ALIVE",$C:"ALIVERAMP",Bx:"DEAD",Ax:"DEADRAMP",bD:"DYING",aD:"DYINGRAMP",VH:"UIFOREGROUND",wP:"UIFOREGROUNDA",TH:"UIBACKGROUND",
uP:"UIBACKGROUNDA",WH:"UIHIGHLIGHT",xP:"UIHIGHTLIGHTA",ZH:"UISELECT",zP:"UISELECTA",XH:"UILOCKED",yP:"UILOCKEDA",UH:"UIBORDER",vP:"UIBORDERA",uE:"BOUNDARY",wE:"BOUNDED",CH:"SELECT",mE:"ADVANCE",Ku:"AUTOFIT",gA:"HISTORYFIT",bs:"HISTORYSTATES",hr:"AGESTATES",$o:"STEP",bB:"NOSTEPBACK",Ct:"T",KB:"PAUSE",Vr:"GRID",Ur:"GRIDMAJOR",YC:"TEXT",Nz:"ERROR",rG:"OFF",sG:"ON",zF:"HISTORY",OF:"MARK1",SF:"MARKOFF",QF:"MARK2",GF:"KILL",pF:"GRAPHBG",oF:"GRAPHAXIS",nF:"GRAPHALIVE",qF:"GRAPHBIRTH",rF:"GRAPHDEATH",Sa:"COLOR",
cz:"COLOUR",Dn:"TILT",Tt:"VIEWONLY",aB:"NOGUI",$A:"NOCOPY",lD:"THUMBNAIL",gD:"THUMBSIZE",eD:"THUMBLAUNCH",iD:"THUMBSTART",Pz:"EXCLUSIVEPLAY",lA:"IGNOREEXCLUSIVE",Ul:"THEME",gH:"RAINBOW",vx:"STARTFROM",Lu:"AUTOSTART",Jj:"LOOP",ck:"STOP",bm:"ANGLE",vo:"LAYERS",$n:"DEPTH",jo:"GPS",me:"ZOOM",Ey:"Z",Pf:"X",Rf:"Y",er:"WIDTH",Up:"HEIGHT",ht:"POPUPWIDTH",gt:"POPUPHEIGHT",kD:"THUMBZOOM",gB:"NOTHROTTLE",pC:"REVERSESTART",vA:"KILLGLIDERS",Kq:"RECIPE",Po:"RLE",wq:"PASTE",Vs:"PASTET",lB:"PASTEDELTA",Or:"EVERY",
BB:"PASTEMODE",HB:"ZERO",tB:"AND",oB:"0010",DB:"X",pB:"DIFF",GB:"Y",FB:"XOR",AB:"OR",wB:"NOR",CB:"XNOR",yB:"NOTY",qB:"1011",xB:"NOTX",rB:"1101",vB:"NAND",zB:"ONE",uB:"COPY",BD:"IDENTITY",yD:"FLIP",zD:"FLIPX",AD:"FLIPY",ED:"SWAPXY",FD:"SWAPXYFLIP",DD:"RCW",CD:"RCCW",Ce:"#"},function(){window.KeyProcessor={TM:function(u,h,g){var q=!0;if(g.ctrlKey&&82===h)return!0;switch(h){case 13:u.Zk===u.bp&&u.GE(u,!0);break;case 84:u.Jn([!u.j.Wk],!0,u);break;default:q=!1}return q},UM:function(u,h,g){var q=!0;if(g.ctrlKey||
g.metaKey||g.altKey)h=-1;switch(h){case 84:u.Jn([!u.j.Wk],!0,u);break;case 27:u.At(u,!0);break;default:q=!1}return q},WM:function(u,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:u.Jn([!u.j.Wk],!0,u);break;case 27:case 117:u.Xv(u);break;default:q=!1}return q},En:function(u,h){u.Fk==ViewConstants.ri?u.zh(h,u):u.Fk==h&&u.zh(ViewConstants.ri,u)},VM:function(u,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:u.Jn([!u.j.Wk],!0,u);break;default:q=!1}return q},
SM:function(u,h,g){var q=!0,k=0;if(u.Zc)!u.ww&&85===h&&g.shiftKey&&(u.Zc=!u.Zc,u.o.m=u.Zc,u.j.Zc=u.Zc);else{g.ctrlKey&&!g.altKey&&37<=h&&40>=h&&(37===h?h=33:38===h?h=36:39===h?h=34:40===h&&(h=35));if(g.altKey&&!g.ctrlKey){if(48<=h&&57>=h)k=h-48,u.bh||0===u.X.yc.length?u.Qg===k?u.od?u.JB(u):u.TG(u):u.ur.current=u.iI(k,!0,u):(--k,0<=k&&k<u.X.yc.length&&(u.kh=k,u.EC(u,u.kh)));else switch(h){case 37:u.Ym(u,-1,0);break;case 38:u.Ym(u,0,-1);break;case 39:u.Ym(u,1,0);break;case 40:u.Ym(u,0,1);break;case 46:u.$y(u,
!0,!0);u.j.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:u.Mn.current=u.RD([!u.sk],!0,u);u.j.notification.notify("Auto-Shrink Selection "+(u.sk?"On":"Off"),15,40,15,!0);break;case 66:u.Ap.current=u.hI([!u.g.kd],!0,u);break;case 67:u.Bd||!u.cj||u.cj.locked||(u.nn(u.rv,u.g.fm,u),u.g.Ga||u.Vk||u.j.notification.notify(u.Cx(u.g.Uf)+" Theme",15,40,15,!0));break;case 68:u.g.la&&(u.Kn.current=u.eI([!u.g.$l],!0,u),u.j.notification.notify("Alternating Gridlines "+(u.g.$l?
"On":"Off"),15,40,15,!0));break;case 71:u.g.ta||-1===u.g.i?u.IJ(u):u.g.V?u.j.notification.notify("Rule is already [R]Super",15,120,15,!0):u.j.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===u.g.i||u.g.V?u.GJ(u):u.g.ta?u.j.notification.notify("Rule is already [R]History",15,120,15,!0):u.j.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:u.g.ta||u.g.V?u.HJ(u):-1===u.g.i?u.j.notification.notify("Rule is already [R]Standard",15,120,
15,!0):u.j.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:u.pd.current!==ViewConstants.Mm&&(u.pd.current=u.bl(ViewConstants.Mm,!0,u));u.dt=!0;u.ii.current=u.al([!0],!0,u);break;case 76:0<u.X.Ao()&&(u.Gm.current=u.mI([!u.Yi],!0,u),u.j.notification.notify("Annotations "+(u.Yi?"On":"Off"),15,40,15,!0));break;case 78:u.mG(u);break;case 79:u.Bf&&(u.Og=!u.Og,u.Nn.current=[u.Og],u.j.notification.notify("AutoStart "+(u.Og?"Off":"On"),15,40,15,!0));break;case 80:-1!==u.ec&&
(u.yf=!u.yf,u.An.current=[u.yf],u.j.notification.notify("Stop "+(u.yf?"Off":"On"),15,40,15,!0));break;case 82:u.AE(u);break;case 83:u.Fp.current=u.SD([!u.Xh],!0,u);u.j.notification.notify("Sync Clipboard "+(u.Xh?"On":"Off"),15,40,15,!0);break;case 84:u.Cn.current=u.pD([!u.dm],!0,u);u.j.notification.notify("Throttling "+(u.dm?"On":"Off"),15,40,15,!0);break;case 85:u.zp.current=u.gI([!u.Mi],!0,u);u.j.notification.notify("AutoHide UI "+(u.Mi?"On":"Off"),15,80,15,!0);break;case 87:2<u.g.i||u.g.pa||u.g.L||
u.g.ta||u.g.V||u.g.fa||u.g.la||(u.Gq.current=u.pI([!u.g.ee],!0,u));break;case 88:u.iF(u);break;case 89:u.jF(u);break;case 90:u.Iq.locked||u.mt(u,!1)}h=-2}switch(h){case 191:g.shiftKey?u.g.T?(u.Hj.current=u.UD([!u.g.sc],!0,u),u.j.notification.notify("Hexagonal display uses "+(u.g.sc?"Rectangles":"Hexagons"),15,120,15,!0)):u.g.P&&(u.Hj.current=u.UD([!u.g.sc],!0,u),u.j.notification.notify("Triangular display uses "+(u.g.sc?"Rectangles":"Triangles"),15,120,15,!0)):u.Xe.locked||(k=u.Xe.current[0],k-=.1,
k<ViewConstants.rw&&(k=ViewConstants.rw),u.Xe.current=u.Ut([k,k],!0,u));break;case 192:u.Xe.locked||(k=u.Xe.current[0],k+=.1,k>ViewConstants.lw&&(k=ViewConstants.lw),u.Xe.current=u.Ut([k,k],!0,u));break;case 8:0!==u.ha?u.Fk!==ViewConstants.ri?u.zh(ViewConstants.ri,u):(u.ha=0,u.Ek.current=u.gp([u.ha],!0,u),u.j.ig=!0):u.Kc.current[0]?(u.nr(u),u.j.ig=!0):u.Oa||u.Ub.Zf[1]||(k=u.tb,u.tb=1,u.Ub.current=u.Gd(ViewConstants.nq,!0,u),u.tb=k);break;case 66:g.ctrlKey?u.MJ(u):g.shiftKey?(u.Cl.current=[!u.Cl.current[0]],
u.j.ig=!0):u.Oa||u.Ub.Zf[1]||(k=u.tb,u.tb=1,u.Ub.current=u.Gd(ViewConstants.nq,!0,u),u.tb=k);break;case 13:u.od||u.Md?u.xM(u):u.Oa||(u.Ub.current===ViewConstants.Kk?u.Ub.current=u.Gd(ViewConstants.Kk,!0,u):u.se&&u.j.Uc||(u.Ub.current=u.Gd(ViewConstants.Kk,!0,u)));break;case 9:u.Oa||(u.cb?u.Ub.current=u.Gd(ViewConstants.Re,!0,u):g.shiftKey?(u.g.la||u.g.L)&&null!==u.g.Yc?u.Ub.current=u.Gd(ViewConstants.nq,!0,u):0<u.g.counter&&(u.qt(u.g.counter-u.tb),u.nx(u.g.counter-u.tb+1)):(u.Ui=!0,u.nb("")));break;
case 32:u.Oa||(u.cb?u.Ub.current=u.Gd(ViewConstants.Re,!0,u):g.ctrlKey||g.shiftKey?u.EK(u,g.shiftKey):(u.Ui=!0,u.JC=!0,u.nb("")));break;case 87:g.shiftKey?(u.pn.current=u.mD([!u.Qj],!0,u),u.j.notification.notify("Performance Warning "+(u.Qj?"On":"Off"),15,40,15,!0)):u.Be?u.Hh.current=u.qD([u.Mf],!0,u):u.Wc&&(u.Hh.current=u.qD([u.Ye],!0,u));break;case 68:g.ctrlKey&&(u.Xq.current=u.oD([!u.qn],!0,u),u.j.notification.notify("States Display "+(u.qn?"On":"Off"),15,80,15,!0));break;case 90:g.ctrlKey?(g.altKey&&
(u.Iq.locked||u.mt(u,!0)),g.shiftKey?u.kC(u):u.gk.locked||u.JD(u)):g.shiftKey?(k=Controller.sO(),0===k?u.j.notification.notify("No LifeViewers playing",15,100,15,!0):1<k&&u.j.notification.notify("Paused all LifeViewers",15,100,15,!0)):(k=Controller.MH(u),0<k&&(1<k?u.j.notification.notify("Paused "+k+" other LifeViewers",15,100,15,!0):u.j.notification.notify("Paused "+k+" other LifeViewer",15,100,15,!0)));break;case 88:g.ctrlKey?u.fH(u,g.shiftKey,g.altKey):g.shiftKey?(u.Ik.current=u.nI([!u.g.zl],!0,
u),0<u.g.lf&&(u.j.notification.notify("Major Grid Lines "+(u.g.zl?"On":"Off"),15,40,15,!0),u.DE())):(u.g.qc=!u.g.qc,u.Ki.current=u.ar([u.g.qc],!0,u),u.j.notification.notify("Grid Lines "+(u.g.qc?"On":"Off"),15,40,15,!0));break;case 89:0!==u.ha?this.En(u,ViewConstants.QA):g.ctrlKey?u.kC(u):u.Ac?u.j.notification.notify("Graph Disabled",15,40,15,!0):g.shiftKey?(u.vh=!u.vh,u.iq.current=u.QH([u.vh],!0,u),u.j.notification.notify("Graph "+(u.vh?"Lines":"Points"),15,40,15,!0)):(u.sd=!u.sd,u.vm.current=u.TD([u.sd],
!0,u),u.j.notification.notify("Population Graph "+(u.sd?"On":"Off"),15,40,15,!0));break;case 75:0!==u.ha?this.En(u,ViewConstants.uA):g.ctrlKey?g.altKey?(u.$y(u,!1,!1),k=u.ff,2<u.g.i&&!(u.g.Ga||u.g.L||u.g.fa||u.g.V)&&0<k&&(k=u.g.i-k),u.g.fa?u.j.notification.notify("Cleared state "+k+" cells",15,120,15,!0):u.j.notification.notify("Cleared "+u.Sp(k)+" cells",15,120,15,!0)):u.bx(u):g.shiftKey?(u.HE(u,!0),u.j.notification.notify("Copied view to clipboard",15,180,15,!0)):(u.HE(u,!1),u.j.notification.notify("Copied position to clipboard",
15,180,15,!0));break;case 80:g.ctrlKey?(u.Zs.current=u.SH([!u.Aq],!0,u),u.j.notification.notify("Pause while drawing "+(u.Aq?"On":"Off"),15,80,15,!0)):g.shiftKey?-1!==u.jb&&(u.Xc=!u.Xc,u.Jm.current=[u.Xc],u.j.notification.notify("Loop "+(u.Xc?"Off":"On"),15,40,15,!0)):u.Bd||u.md.locked||(u.md.current=.99>=u.md.current[0]?u.Xl([u.md.current[0]+.01,u.md.current[1]],!0,u):u.Xl([1,u.md.current[1]],!0,u));break;case 76:g.ctrlKey?(u.g.wj=!u.g.wj,u.j.notification.notify("Kill Gliders "+(u.g.wj?"On":"Off"),
15,40,15,!0)):g.shiftKey?u.aK(u):u.Bd||u.md.locked||(u.md.current=.01<=u.md.current[0]?u.Xl([u.md.current[0]-.01,u.md.current[1]],!0,u):u.Xl([0,u.md.current[1]],!0,u));break;case 81:g.ctrlKey?(u.lt.current=u.oI([!u.g.xh],!0,u),u.j.notification.notify((u.g.xh?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!u.Bd&&!u.ue.locked&&u.ue.current[0]<ViewConstants.iw&&(u.ue.current=u.St([u.g.$+1,u.ue.current[1]],!0,u));break;case 65:0!==u.ha?this.En(u,ViewConstants.Dy):g.shiftKey?u.ub&&u.lr(u):g.ctrlKey?
u.pd.Zf[ViewConstants.Om]||u.zH(u):!u.Bd&&!u.ue.locked&&u.ue.current[0]>ViewConstants.ow&&(u.ue.current=u.St([u.g.$-1,u.ue.current[1]],!0,u));break;case 82:g.shiftKey?Controller.sN():u.Ub.current=u.Gd(ViewConstants.YA,!0,u);break;case 83:0!==u.ha?this.En(u,ViewConstants.AC):g.ctrlKey?(u.xC(u),u.j.notification.notify("Saved",15,120,15,!0)):g.shiftKey?u.g.ta&&(u.$i=!u.$i,u.j.notification.notify("AutoFit State 1 Mode "+(u.$i?"On":"Off"),15,40,15,!0)):(u.Uq.current=u.sI([!u.Zi],!0,u),u.j.notification.notify("Stars "+
(u.Zi?"On":"Off"),15,40,15,!0));break;case 78:0!==u.ha?0<u.X.Ao()&&this.En(u,ViewConstants.Gy):g.shiftKey?u.Oa||u.mF(u):u.Vl&&(u.wb?u.UC():(u.VC(),u.ha&&(u.ha=0)));break;case 86:g.ctrlKey?u.Lw(u,g.shiftKey):g.shiftKey?(u.wH(u),u.j.notification.notify("Saved camera position",15,100,15,!0)):u.Ld||(u.xN(u),u.j.notification.notify("Restored camera position",15,100,15,!0),u.cb||(u.ug=!0));break;case 221:u.Ld||(g.shiftKey?u.gr(u.Cc.current[0],Math.log(u.g.zoom*u.g.Bc*2/ViewConstants.Xa)/Math.log(ViewConstants.Hb/
ViewConstants.Xa)-u.Cc.current[0]):u.gr(u.Cc.current[0],.01));break;case 219:u.Ld||(g.shiftKey?u.gr(u.Cc.current[0],Math.log(u.g.zoom*u.g.Bc/2/ViewConstants.Xa)/Math.log(ViewConstants.Hb/ViewConstants.Xa)-u.Cc.current[0]):u.gr(u.Cc.current[0],-.01));break;case 53:case 101:g.ctrlKey?g.shiftKey?u.g.L||u.Ow(u,!0):u.dk(5):g.shiftKey?u.Ow(u,!1):u.Xd.locked||(u.g.angle=0,u.Xd.current=[u.g.angle,u.g.angle]);break;case 49:case 97:g.ctrlKey?u.dk(1):g.shiftKey?(u.Di(u,u.g.zoom*u.g.Bc,!0),u.j.notification.notify("Integer Zoom",
15,40,15,!0)):u.Di(u,1,!1);break;case 50:case 98:g.ctrlKey?u.dk(2):g.shiftKey?u.Di(u,.5,!1):u.Di(u,2,!1);break;case 51:case 99:g.ctrlKey?u.dk(3):g.shiftKey?u.Di(u,.03125,!1):u.Di(u,32,!1);break;case 52:case 100:g.ctrlKey?u.dk(4):g.shiftKey?u.Di(u,.25,!1):u.Di(u,4,!1);break;case 54:case 102:g.ctrlKey?u.dk(6):g.shiftKey?u.Di(u,.0625,!1):u.Di(u,16,!1);break;case 55:g.ctrlKey?u.dk(7):u.Ac?u.j.notification.notify("Graph Disabled",15,40,15,!0):(0<u.Dd&&(u.Dd-=.05,0>u.Dd&&(u.Dd=0)),u.rq.current=u.Mx([u.Dd,
u.Dd],!1,u));break;case 56:case 104:g.ctrlKey?u.dk(8):g.shiftKey?u.Di(u,.125,!1):u.Di(u,8,!1);break;case 57:g.ctrlKey?u.dk(9):u.Ac?u.j.notification.notify("Graph Disabled",15,40,15,!0):(1>u.Dd&&(u.Dd+=.05,1<u.Dd&&(u.Dd=1)),u.rq.current=u.Mx([u.Dd,u.Dd],!1,u));break;case 48:case 96:g.ctrlKey?u.dk(0):u.dg.current=u.hk([1,1],!0,u);break;case 189:case 109:g.ctrlKey&&189==h?q=!1:u.Oa||(u.tb>ViewConstants.gi?g.shiftKey?u.tb=ViewConstants.gi:(--u.tb,u.tb<ViewConstants.gi&&(u.tb=ViewConstants.gi)):u.lc>ViewConstants.Si&&
(g.shiftKey?u.lc=ViewConstants.Si:(--u.lc,u.lc<ViewConstants.Si&&(u.lc=ViewConstants.Si))),u.dg.current=u.hk([u.Rl(),1],!0,u));break;case 187:case 107:g.ctrlKey&&187==h?q=!1:u.Oa||(u.lc<u.Ma?g.shiftKey?u.lc=u.Ma:(u.lc+=1,u.lc>u.Ma&&(u.lc=u.Ma)):u.tb<ViewConstants.vg&&(g.shiftKey?u.tb=ViewConstants.vg:(u.tb+=1,u.tb>ViewConstants.vg&&(u.tb=ViewConstants.vg))),u.dg.current=u.hk([u.Rl(),1],!0,u));break;case 188:g.shiftKey&&(u.ub||u.od)?u.qH(u):u.Xd.locked||(k=u.Xd.current[0],k=g.shiftKey?k-90:k-1,0>k&&
(k+=360),u.Xd.current=u.Rt([k,k],!0,u));break;case 190:g.shiftKey&&(u.ub||u.od)?u.rH(u):u.Xd.locked||(k=u.Xd.current[0],k=g.shiftKey?k+90:k+1,360<=k&&(k-=360),u.Xd.current=u.Rt([k,k],!0,u));break;case 46:u.ub?g.shiftKey?u.EE(u):u.Fz(u,g.ctrlKey):g.ctrlKey&&(k=u.$y(u,g.ctrlKey,!1))&&u.j.notification.notify("Cleared [R]History cells",15,120,15,!0);break;case 74:g.ctrlKey&&!g.shiftKey?u.IE(u):g.ctrlKey&&g.shiftKey?q=!1:u.X.yc.length?u.Ld||(g.shiftKey?u.cH(u):u.nG(u)):u.j.notification.notify("No POIs defined",
15,80,15,!0);break;case 84:0!==u.ha?this.En(u,ViewConstants.dD):g.shiftKey?u.j.on=!u.j.on:u.Rp.current=u.Jn([!u.j.Wk],!0,u);break;case 85:g.shiftKey?!u.ww&&(u.Zc=!u.Zc,u.o.m=u.Zc,u.j.Zc=u.Zc)&&(u.ha=0,u.pc=0):(u.g.la||u.g.L)&&u.g.Yc&&u.Ez(u);break;case 71:g.ctrlKey?(u.Bi=!u.Bi,u.yp.current=u.fI([u.Bi],!0,u),u.j.notification.notify("Auto Grid Lines "+(u.Bi?"On":"Off"),15,40,15,!0)):u.Oa||(g.shiftKey?u.vl&&(u.Lq.current=u.rI([!u.xl],!0,u),u.j.notification.notify("Generation display "+(u.xl?"Relative":
"Absolute"),15,40,15,!0)):(u.Nx([!u.Ch],!0,u),u.kf&&(u.kf.current=[u.Ch],u.j.ig=!0)));break;case 70:g.ctrlKey?u.ub&&(u.Sg(!0,!0,ViewConstants.Ev),u.j.notification.notify("Fit Selection",15,80,15,!0)):g.shiftKey?u.rj.locked||(u.Ec=!u.Ec,u.rj.current=u.PH([u.Ec],!0,u),u.j.notification.notify("AutoFit "+(u.Ec?"On":"Off"),15,40,15,!0)):u.sm.locked||(u.Sg(!0,!0,ViewConstants.Dk),u.j.notification.notify("Fit Pattern",15,80,15,!0),u.cb||(u.ug=!0));break;case 79:g.ctrlKey?g.shiftKey?navigator.clipboard.readText().then(a=>
u.VL(u,a)):u.LF(u):u.So=g.shiftKey?2:1;break;case 37:g.shiftKey?u.Qm(u.g.zoom,u.g.zoom):u.Qm(u.g.zoom,0);break;case 38:u.ha?u.lx(u,1):u.pc?u.jx(u,1):g.shiftKey?u.Qm(-u.g.zoom,u.g.zoom):u.Qm(0,u.g.zoom);break;case 39:g.shiftKey?u.Qm(-u.g.zoom,-u.g.zoom):u.Qm(-u.g.zoom,0);break;case 40:u.ha?u.kx(u,1):u.pc?u.ix(u,1):g.shiftKey?u.Qm(u.g.zoom,-u.g.zoom):u.Qm(0,-u.g.zoom);break;case 77:g.ctrlKey?(u.Sg(!0,!0,ViewConstants.fF),u.j.notification.notify("Center Pattern",15,80,15,!0)):g.shiftKey?u.bK(u):!u.Kc||
u.Kc.m||u.Kc.locked||(u.Kc.current=u.hp([!u.Kc.current[0]],!0,u),u.j.ig=!0);break;case 67:g.ctrlKey?u.eH(u,g.shiftKey,g.altKey):0!==u.ha?this.En(u,ViewConstants.dz):u.Bd||!u.cj||u.cj.locked||(g.shiftKey?(k=u.g.Uf-1,0>k&&(u.$h?k=u.g.tf:k=u.g.tf-1)):(k=u.g.Uf+1,u.$h?k>=u.g.tf+1&&(k=0):k>=u.g.tf&&(k=0)),u.nn(k,u.g.fm,u),u.g.Ga||u.Vk||u.j.notification.notify(u.Cx(u.g.Uf)+" Theme",15,40,15,!0));break;case 72:g.shiftKey?(u.Yp.current=u.kI([!u.Ni],!0,u),u.j.notification.notify("AutoFit History Mode "+(u.Ni?
"On":"Off"),15,40,15,!0)):(u.Ed.length?u.ha=u.ha?0:1:u.ha?u.ha=0:u.wb||(u.ha=1),u.Ek.current=u.gp([u.ha],!0,u),u.j.ig=!0);break;case 73:g.ctrlKey&&g.shiftKey?q=!1:g.ctrlKey?u.EF(u):g.shiftKey?u.$p.current=u.lI([!u.nd],!0,u):(u.ha?this.En(u,ViewConstants.Zv):u.wb||u.zh(ViewConstants.Zv,u),u.Ek.current=u.gp([u.ha],!0,u),u.j.ig=!0);break;case 27:u.Od?u.Ed.length?(u.Ed=[],u.pc=0):u.od||u.Md?u.Ou(u):u.Nk?u.ii.current=u.al([!1],!0,u):u.Wi?u.iA(u):-1!==u.Ve?u.At(u,!0):hideViewer():u.ha?u.ha=0:u.Ed.length?
(u.Ed=[],u.pc=0):u.od||u.Md?u.Ou(u):u.Nk?u.ii.current=u.al([!1],!0,u):u.Wi?u.iA(u):-1!==u.Ve?u.At(u,!0):u.cb&&(u.Ub.current=u.Gd(ViewConstants.Re,!0,u));u.Ek.current=u.gp([u.ha],!0,u);u.j.ig=!0;break;case 33:u.ha?g.shiftKey?u.PM(u):u.lx(u,u.qd):u.pc?u.jx(u,u.qd):DocConfig.Ya&&(--u.gd,0>u.gd&&(u.gd=Controller.Se.length-1),u.li(Controller.Se[u.gd].pattern,!1));break;case 34:u.ha?g.shiftKey?u.pM(u):u.kx(u,u.qd):u.pc?u.ix(u,u.qd):DocConfig.Ya&&(u.gd+=1,u.gd>=Controller.Se.length&&(u.gd=0),u.li(Controller.Se[u.gd].pattern,
!1));break;case 36:u.ha?u.ha=1:u.pc?u.pc=1:DocConfig.Ya&&(u.gd=0,u.li(Controller.Se[u.gd].pattern,!1));break;case 35:u.ha?u.ha=u.pq-u.qd:u.pc?u.pc=u.Ed.length-u.qd:DocConfig.Ya&&(u.gd=Controller.Se.length-1,u.li(Controller.Se[u.gd].pattern,!1));break;case 112:u.Oa||(u.se=!u.se,u.pd.current=u.bl(u.se?ViewConstants.Mm:ViewConstants.Nm,!0,u),u.j.notification.notify((u.se?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:g.shiftKey?(u.Tq.current=u.nD([!u.Wo],!0,u),u.j.notification.notify("Smart Drawing "+
(u.Wo?"On":"Off"),15,40,15,!0)):u.pd.current=u.bl(ViewConstants.Mm,!0,u);break;case 114:u.Oa||(u.pd.current=u.bl(ViewConstants.Mm,!0,u),u.Nk||(u.ii.current=u.al([!0],!0,u)));break;case 115:u.pd.Zf[ViewConstants.Om]||(u.pd.current=u.bl(ViewConstants.Om,!0,u));break;case 116:u.pd.current=u.bl(ViewConstants.Nm,!0,u);break;case 117:u.Zp.locked||(g.ctrlKey?u.dF(u):u.Xv(u));break;case 122:q=!1;break;default:if(-1===h||116===h)q=!1}}return q}}}());
